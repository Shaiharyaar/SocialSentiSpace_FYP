{"ast":null,"code":"var _jsxFileName = \"C:\\\\Shaiharyaar Ahmad\\\\Final Year Project\\\\1.Main\\\\socialsentispace_frontend_\\\\src\\\\Components\\\\login.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axiosInstance from \"../jwt\";\nexport const Login = () => {\n  const [username, setusername] = useState(\"\");\n  const [password, setpassword] = useState(\"\");\n  const history = useHistory();\n  useEffect(() => {\n    checkuserlogin();\n  }, []);\n\n  const checkuserlogin = () => {\n    if (localStorage.getItem(\"UserInfo\")) {\n      history.push(\"/dashboard\");\n    }\n  };\n\n  const handleSubmit = async () => {\n    var userregex = /^(?!.*\\.\\.)(?!.*\\.$)[^\\W][\\w.]{0,29}$/;\n    var passregex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$/;\n    var letters = /^[A-Za-z]+$/;\n    var emailregex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n\n    if (username == \"\") {\n      alert(\"Username is required\");\n    } else if (!userregex.test(username)) {\n      alert(\"Username can only contains letters,numbers and underscore.\");\n    } else if (username.length < 6) {\n      alert(\"Username should be of at least length 6\");\n    } else if (password == \"\") {\n      alert(\"Password is required\");\n    } // else if (passregex.test(password)) {\n    //   alert(\n    //     \"Password must at least contain one uppercase, one lowercase and a digit.\"\n    //   );\n    // }\n    else if (password < 8) {\n        alert(\"Password should be of at least length 8\");\n      } else {\n        const credentials = {\n          username: username,\n          password: password\n        };\n        await axiosInstance.login(credentials).then(res => {\n          console.log(res.body);\n\n          if (res.status === 200) {\n            localStorage.setItem(\"UserInfo\", JSON.stringify(res));\n            history.push(\"/dashboard\");\n          } else {\n            alert(\"login not successful, try again!\");\n          }\n\n          console.log(res);\n        }).catch(error => alert(\"Invalid Username or Password\"));\n      }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container1\",\n    onclick: \"onclick\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Enter Username\",\n    onChange: e => setusername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter Password\",\n    onChange: e => setpassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"btn\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"noselect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"btn\",\n    onClick: () => history.push(\"/\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"noselect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"para\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Don't have an account? \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 34\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/Signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"Create an account.\"))));\n};\nexport const Signup = () => {\n  const [firstname, setfirstname] = useState(\"\");\n  const [lastname, setlastname] = useState(\"\");\n  const [username, setusername] = useState(\"\");\n  const [email, setemail] = useState(\"\");\n  const [password, setpassword] = useState(\"\");\n  const [Cpassword, setCpassword] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [gender, setgender] = useState(\"Male\");\n  const history = useHistory();\n  useEffect(() => {\n    checkuserlogin();\n  }, []);\n\n  const checkuserlogin = () => {\n    if (localStorage.getItem(\"UserInfo\")) {\n      history.push(\"/dashboard\");\n    }\n  };\n\n  const uploadimage = e => {\n    console.log(e.target.files[0]);\n    setImage(e.target.files[0]);\n  };\n\n  const handleSubmit = async () => {\n    var userregex = /^(?!.*\\.\\.)(?!.*\\.$)[^\\W][\\w.]{0,29}$/;\n    var passregex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$/;\n    var letters = /^[A-Za-z]+$/;\n    var emailregex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n\n    if (firstname == \"\" | lastname == \"\" | gender == \"\" | image == \"\" | Cpassword == \"\") {\n      alert(\"All Fields are required.\");\n    } else if (!letters.test(firstname) | !letters.test(lastname)) {\n      alert(\"Name cannot contains spaces, special characters or digits.\");\n    } else if (email == \"\") {\n      alert(\"Email is required.\");\n    } else if (!emailregex.test(email)) {\n      alert(\"Incorrect email. Your email should look like 'shaihxxxxxx@gmail.com'\");\n    } else if (username == \"\") {\n      alert(\"Username is required\");\n    } else if (!userregex.test(username)) {\n      alert(\"Username can only contains letters,numbers and underscore.\");\n    } else if (username.length < 6) {\n      alert(\"Username should be of at least length 6\");\n    } else if (password == \"\") {\n      alert(\"Password is required\");\n    } //  else if (passregex.test(password)) {\n    //   alert(\n    //     \"Password must at least contain one uppercase, one lowercase and a digit.\"\n    //   );\n    // }\n    else if (password < 8) {\n        alert(\"Password should be of at least length 8\");\n      } else if (password != Cpassword) {\n        alert(\"Password do not match.\");\n      } else {\n        const formData1 = new FormData();\n        formData1.append(\"firstname\", firstname);\n        formData1.append(\"lastname\", lastname);\n        formData1.append(\"email\", email);\n        formData1.append(\"username\", username);\n        formData1.append(\"password\", password);\n        formData1.append(\"gender\", gender);\n        formData1.append(\"image\", image);\n        await axiosInstance.signup(formData1).then(res => {\n          console.log(res);\n\n          if (res) {\n            if (res.status == 200) {\n              localStorage.setItem(\"UserInfo\", JSON.stringify(res));\n              console.log(res);\n              history.push(\"/dashboard\");\n            } else {\n              alert(\"Invalid Input\");\n            }\n          }\n        }).catch(error => {\n          alert(\"Username already taken.\");\n        });\n      }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter First name\",\n    onChange: e => setfirstname(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter Last name\",\n    onChange: e => setlastname(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Enter Email (shaxxxxx@gmail.com)\",\n    onChange: e => setemail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter Username\",\n    onChange: e => setusername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter Password\",\n    onChange: e => setpassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    onChange: e => setCpassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FormField\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    required: \"true\",\n    type: \"file\",\n    accept: \"image/*\",\n    className: \"FormField__Input\",\n    onChange: e => uploadimage(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"select\",\n    onChange: e => setgender(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, \"Gender\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"male\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 11\n    }\n  }, \"Male\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"female\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, \"Female\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Prefer not to say\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }, \"Prefer not to say\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"others\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 11\n    }\n  }, \"Others\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"btn\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"noselect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 13\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"noselect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 15\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 15\n    }\n  }))))));\n};","map":{"version":3,"sources":["C:/Shaiharyaar Ahmad/Final Year Project/1.Main/socialsentispace_frontend_/src/Components/login.js"],"names":["React","useEffect","useState","useHistory","axiosInstance","Login","username","setusername","password","setpassword","history","checkuserlogin","localStorage","getItem","push","handleSubmit","userregex","passregex","letters","emailregex","alert","test","length","credentials","login","then","res","console","log","body","status","setItem","JSON","stringify","catch","error","e","target","value","Signup","firstname","setfirstname","lastname","setlastname","email","setemail","Cpassword","setCpassword","image","setImage","gender","setgender","uploadimage","files","formData1","FormData","append","signup"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axiosInstance from \"../jwt\";\r\n\r\nexport const Login = () => {\r\n  const [username, setusername] = useState(\"\");\r\n  const [password, setpassword] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    checkuserlogin();\r\n  }, []);\r\n  const checkuserlogin = () => {\r\n    if (localStorage.getItem(\"UserInfo\")) {\r\n      history.push(\"/dashboard\");\r\n    }\r\n  };\r\n  const handleSubmit = async () => {\r\n    var userregex = /^(?!.*\\.\\.)(?!.*\\.$)[^\\W][\\w.]{0,29}$/;\r\n    var passregex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$/;\r\n    var letters = /^[A-Za-z]+$/;\r\n    var emailregex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n    if (username == \"\") {\r\n      alert(\"Username is required\");\r\n    } else if (!userregex.test(username)) {\r\n      alert(\"Username can only contains letters,numbers and underscore.\");\r\n    } else if (username.length < 6) {\r\n      alert(\"Username should be of at least length 6\");\r\n    } else if (password == \"\") {\r\n      alert(\"Password is required\");\r\n    }\r\n    // else if (passregex.test(password)) {\r\n    //   alert(\r\n    //     \"Password must at least contain one uppercase, one lowercase and a digit.\"\r\n    //   );\r\n    // }\r\n    else if (password < 8) {\r\n      alert(\"Password should be of at least length 8\");\r\n    } else {\r\n      const credentials = {\r\n        username: username,\r\n        password: password,\r\n      };\r\n\r\n      await axiosInstance\r\n        .login(credentials)\r\n        .then((res) => {\r\n          console.log(res.body);\r\n          if (res.status === 200) {\r\n            localStorage.setItem(\"UserInfo\", JSON.stringify(res));\r\n            history.push(\"/dashboard\");\r\n          } else {\r\n            alert(\"login not successful, try again!\");\r\n          }\r\n          console.log(res);\r\n        })\r\n        .catch((error) => alert(\"Invalid Username or Password\"));\r\n    }\r\n  };\r\n  return (\r\n    <div class=\"container1\" onclick=\"onclick\">\r\n      <div class=\"top\"></div>\r\n      <div class=\"bottom\"></div>\r\n      <div class=\"center\">\r\n        <h2>Log In</h2>\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Enter Username\"\r\n          onChange={(e) => setusername(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Enter Password\"\r\n          onChange={(e) => setpassword(e.target.value)}\r\n        />\r\n        <div className=\"btns\">\r\n          <div id=\"btn\" onClick={handleSubmit}>\r\n            <span class=\"noselect\">Log In</span>\r\n            <div id=\"circle\"></div>\r\n          </div>\r\n          <a href=\"/\">\r\n            <div id=\"btn\" onClick={() => history.push(\"/\")}>\r\n              <span class=\"noselect\">Cancel</span>\r\n              <div id=\"circle\"></div>\r\n            </div>\r\n          </a>\r\n        </div>\r\n        <p className=\"para\">\r\n          Don't have an account? <br />\r\n          <a href=\"/Signup\">Create an account.</a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Signup = () => {\r\n  const [firstname, setfirstname] = useState(\"\");\r\n  const [lastname, setlastname] = useState(\"\");\r\n  const [username, setusername] = useState(\"\");\r\n  const [email, setemail] = useState(\"\");\r\n  const [password, setpassword] = useState(\"\");\r\n  const [Cpassword, setCpassword] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [gender, setgender] = useState(\"Male\");\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    checkuserlogin();\r\n  }, []);\r\n  const checkuserlogin = () => {\r\n    if (localStorage.getItem(\"UserInfo\")) {\r\n      history.push(\"/dashboard\");\r\n    }\r\n  };\r\n\r\n  const uploadimage = (e) => {\r\n    console.log(e.target.files[0]);\r\n    setImage(e.target.files[0]);\r\n  };\r\n  const handleSubmit = async () => {\r\n    var userregex = /^(?!.*\\.\\.)(?!.*\\.$)[^\\W][\\w.]{0,29}$/;\r\n    var passregex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$/;\r\n    var letters = /^[A-Za-z]+$/;\r\n    var emailregex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n    if (\r\n      (firstname == \"\") |\r\n      (lastname == \"\") |\r\n      (gender == \"\") |\r\n      (image == \"\") |\r\n      (Cpassword == \"\")\r\n    ) {\r\n      alert(\"All Fields are required.\");\r\n    } else if (!letters.test(firstname) | !letters.test(lastname)) {\r\n      alert(\"Name cannot contains spaces, special characters or digits.\");\r\n    } else if (email == \"\") {\r\n      alert(\"Email is required.\");\r\n    } else if (!emailregex.test(email)) {\r\n      alert(\r\n        \"Incorrect email. Your email should look like 'shaihxxxxxx@gmail.com'\"\r\n      );\r\n    } else if (username == \"\") {\r\n      alert(\"Username is required\");\r\n    } else if (!userregex.test(username)) {\r\n      alert(\"Username can only contains letters,numbers and underscore.\");\r\n    } else if (username.length < 6) {\r\n      alert(\"Username should be of at least length 6\");\r\n    } else if (password == \"\") {\r\n      alert(\"Password is required\");\r\n    }\r\n    //  else if (passregex.test(password)) {\r\n    //   alert(\r\n    //     \"Password must at least contain one uppercase, one lowercase and a digit.\"\r\n    //   );\r\n    // }\r\n    else if (password < 8) {\r\n      alert(\"Password should be of at least length 8\");\r\n    } else if (password != Cpassword) {\r\n      alert(\"Password do not match.\");\r\n    } else {\r\n      const formData1 = new FormData();\r\n      formData1.append(\"firstname\", firstname);\r\n      formData1.append(\"lastname\", lastname);\r\n      formData1.append(\"email\", email);\r\n      formData1.append(\"username\", username);\r\n      formData1.append(\"password\", password);\r\n      formData1.append(\"gender\", gender);\r\n      formData1.append(\"image\", image);\r\n      await axiosInstance\r\n        .signup(formData1)\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res) {\r\n            if (res.status == 200) {\r\n              localStorage.setItem(\"UserInfo\", JSON.stringify(res));\r\n              console.log(res);\r\n              history.push(\"/dashboard\");\r\n            } else {\r\n              alert(\"Invalid Input\");\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          alert(\"Username already taken.\");\r\n        });\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"container1\">\r\n      <div className=\"top\"></div>\r\n      <div className=\"bottom\"></div>\r\n      <div className=\"center\">\r\n        <h2>Sign Up</h2>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter First name\"\r\n          onChange={(e) => setfirstname(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter Last name\"\r\n          onChange={(e) => setlastname(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Enter Email (shaxxxxx@gmail.com)\"\r\n          onChange={(e) => setemail(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter Username\"\r\n          onChange={(e) => setusername(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Enter Password\"\r\n          onChange={(e) => setpassword(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Confirm Password\"\r\n          onChange={(e) => setCpassword(e.target.value)}\r\n        />\r\n        <div className=\"FormField\">\r\n          <input\r\n            required=\"true\"\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            className=\"FormField__Input\"\r\n            onChange={(e) => uploadimage(e)}\r\n          />\r\n        </div>\r\n        <select className=\"select\" onChange={(e) => setgender(e.target.value)}>\r\n          <option value=\"\">Gender</option>\r\n          <option value=\"male\">Male</option>\r\n          <option value=\"female\">Female</option>\r\n          <option value=\"Prefer not to say\">Prefer not to say</option>\r\n          <option value=\"others\">Others</option>\r\n        </select>\r\n        <div className=\"btns\">\r\n          <div id=\"btn\" onClick={handleSubmit}>\r\n            <span className=\"noselect\">Register</span>\r\n            <div id=\"circle\"></div>\r\n          </div>\r\n          <a href=\"/login\">\r\n            <div id=\"btn\">\r\n              <span className=\"noselect\">Cancel</span>\r\n              <div id=\"circle\"></div>\r\n            </div>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}