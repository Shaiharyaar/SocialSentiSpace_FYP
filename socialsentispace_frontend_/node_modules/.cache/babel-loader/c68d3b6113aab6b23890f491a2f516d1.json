{"ast":null,"code":"import createEmotion from 'create-emotion';\nimport varsPlugin from 'stylis-custom-properties';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport React__default, { createContext, createElement, Component, useState, Fragment, Children, cloneElement, PureComponent } from 'react';\nimport createEmotionStyled from 'create-emotion-styled';\nimport { omitByIndexed, pickByIndexed, groupKeys, isObject, mergeAll, pickBy, compact, mapValuesIndexed, find, noop, throttle, memoize, findIndex, memoizeOne, once, values, pick, merge, mapKeys, mapValues, trimEnd, identity, debounce } from '@livechat/data-utils';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { getDisplayName } from 'recompose';\nimport { ThemeProvider as ThemeProvider$1, withTheme } from 'emotion-theming';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport { bool, func, node, string, shape, oneOf, oneOfType, arrayOf, number } from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport isPropValid from '@emotion/is-prop-valid';\nimport { CSSTransition, TransitionGroup, Transition } from 'react-transition-group';\nimport Toggle from 'react-toggled';\nimport { darken } from 'polished';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport { easeOut } from '@popmotion/easing';\nimport durationProgress from 'callbag-duration-progress';\nimport forEach from 'callbag-for-each';\nimport map from 'callbag-map';\nimport pipe from 'callbag-pipe';\nvar emotion = createEmotion({}, {\n  key: 'lc',\n  stylisPlugins: [varsPlugin]\n});\nvar css = emotion.css,\n    cx = emotion.cx,\n    injectGlobal = emotion.injectGlobal,\n    keyframes = emotion.keyframes;\n\nvar mapCommonPropsToStyles = function (props) {\n  var styles = {};\n\n  if (props.flexFill) {\n    styles.flexGrow = 1;\n    styles.maxWidth = '100%';\n  }\n\n  if (props.flexFit) {\n    if (process.env.NODE_ENV === 'development' && props.flexFill) {\n      // eslint-disable-next-line no-console\n      console.warn(\"Using flexFill & flexFit props together doesn't make sense.\");\n    }\n\n    styles.flexGrow = 0;\n  }\n\n  if (props.noShrink) {\n    styles.flexShrink = 0;\n  }\n\n  if (props.ellipsis) {\n    styles.whiteSpace = 'nowrap';\n    styles.overflow = 'hidden';\n    styles.textOverflow = 'ellipsis';\n  }\n\n  if (props.nowrap) {\n    styles.whiteSpace = 'nowrap';\n  }\n\n  if (props.preserveLines) {\n    if (process.env.NODE_ENV === 'development' && props.nowrap) {\n      // eslint-disable-next-line no-console\n      console.warn(\"Using nowrap & preserveLines props together doesn't make sense.\");\n    }\n\n    styles.whiteSpace = 'pre-line';\n  }\n\n  if (props.textWrap) {\n    var breakWord = 'break-word';\n    styles.wordWrap = breakWord;\n    styles.overflowWrap = breakWord;\n    styles.wordBreak = breakWord;\n  }\n\n  return styles;\n};\n\nvar ThemeContext = createContext();\n\nvar ThemeProvider = function ThemeProvider(_ref) {\n  var value = _ref.value,\n      children = _ref.children; // this is broken for nested theme providers - `value` can be a function and it's currently only called inside EmotionThemeProvider\n\n  return createElement(ThemeProvider$1, {\n    theme: value\n  }, createElement(ThemeContext.Provider, {\n    value: value\n  }, children));\n};\n\nvar isComponentKey = function isComponentKey(key) {\n  return key.charAt(0) !== key.charAt(0).toLowerCase();\n};\n\nvar _isComponentKey = function _isComponentKey(value, key) {\n  return isComponentKey(key);\n};\n\nvar omitComponentKeys = omitByIndexed.bind(null, _isComponentKey);\nvar pickComponentKeys = pickByIndexed.bind(null, _isComponentKey);\nvar empty = {};\n\nvar unpackRest = function unpackRest(rest) {\n  return groupKeys(function (key) {\n    if (isComponentKey(key)) {\n      return 'components';\n    }\n\n    if (isObject(rest[key])) {\n      return 'propsDescriptions';\n    }\n\n    return 'themeProps';\n  }, rest);\n};\n\nvar unpackThemeDescription = function (themeDescription) {\n  if (!themeDescription) {\n    return empty;\n  }\n\n  var css = themeDescription.css,\n      vars = themeDescription.vars,\n      rest = _objectWithoutPropertiesLoose(themeDescription, [\"css\", \"vars\"]);\n\n  return _extends({\n    css: css,\n    vars: vars\n  }, unpackRest(rest));\n};\n\nvar parsePropsDescriptions = function parsePropsDescriptions(componentName, props, propsDescriptions) {\n  if (propsDescriptions === void 0) {\n    propsDescriptions = {};\n  }\n\n  var activeDescriptions = pickByIndexed(function (value, prop) {\n    return props[prop];\n  }, propsDescriptions);\n  return Object.keys(activeDescriptions).map(function (prop) {\n    var _componentDescription;\n\n    var propDescription = activeDescriptions[prop];\n\n    var _unpackThemeDescripti = unpackThemeDescription(propDescription),\n        themeProps = _unpackThemeDescripti.themeProps,\n        components = _unpackThemeDescripti.components;\n\n    if (!themeProps) {\n      return components;\n    }\n\n    var componentDescription = (_componentDescription = {}, _componentDescription[componentName] = themeProps, _componentDescription);\n\n    if (!components) {\n      return componentDescription;\n    }\n\n    return _extends({}, componentDescription, {}, components);\n  });\n};\n\nvar mergeInnerTheme = function mergeInnerTheme(componentName) {\n  return function (props) {\n    return function (theme) {\n      var componentDescription = theme[componentName];\n\n      if (!componentDescription) {\n        return theme;\n      }\n\n      var _unpackThemeDescripti2 = unpackThemeDescription(componentDescription),\n          propsDescriptions = _unpackThemeDescripti2.propsDescriptions,\n          components = _unpackThemeDescripti2.components;\n\n      if (!propsDescriptions && !components) {\n        return theme;\n      }\n\n      var activePropsDescriptions = parsePropsDescriptions(componentName, props, propsDescriptions);\n      return mergeAll([theme, components].concat(activePropsDescriptions).filter(Boolean));\n    };\n  };\n};\n\nvar withSubtheme = function (WrappedComponent) {\n  var _class, _temp;\n\n  var wrappedName = WrappedComponent.__ui_kit_name;\n  var mergeThemes = mergeInnerTheme(wrappedName);\n  return _temp = _class = /*#__PURE__*/function (_React$Component) {\n    _inheritsLoose(WithSubtheme, _React$Component);\n\n    function WithSubtheme() {\n      return _React$Component.apply(this, arguments) || this;\n    }\n\n    var _proto = WithSubtheme.prototype;\n\n    _proto.render = function render() {\n      var props = this.props;\n      return createElement(ThemeProvider, {\n        value: mergeThemes(props)\n      }, createElement(WrappedComponent, props));\n    };\n\n    return WithSubtheme;\n  }(Component), _class.displayName = \"WithSubtheme(\" + wrappedName + \")\", _temp;\n};\n\nvar styled = createEmotionStyled(emotion, React);\nvar registeredComponents = {};\n\nvar unpackCss = function unpackCss(props, css) {\n  var basedOnProps = pickBy(isObject, css);\n\n  if (Object.keys(basedOnProps) === 0) {\n    return css;\n  }\n\n  return compact(mapValuesIndexed(function (value, key) {\n    if (!isObject(value)) {\n      return value;\n    }\n\n    if (key[0] === ':') {\n      return unpackCss(props, value);\n    }\n\n    var activeProp = find(function (prop) {\n      return props[prop];\n    }, Object.keys(value)); // if (process.env.NODE_ENV !== 'production' && !activeProp && !value.default) {\n    // \tconsole.warn(`This css description (\"${JSON.stringify(value)}\") has no default value.`)\n    // }\n\n    return value[activeProp] || value[\"default\"];\n  }, css));\n};\n\nvar parseStyles = function parseStyles(props, componentName, mapPropsToStyles) {\n  var theme = props.theme,\n      style = props.style;\n\n  var _unpackThemeDescripti = unpackThemeDescription(theme[componentName]),\n      css = _unpackThemeDescripti.css,\n      componentVars = _unpackThemeDescripti.vars,\n      themeProps = _unpackThemeDescripti.themeProps;\n\n  var vars = componentVars ? _extends({}, theme.vars, {}, componentVars) : theme.vars; // TODO: should it be possible to specify common props in theme object?\n\n  return [vars, typeof mapPropsToStyles === 'function' && themeProps !== undefined && mapPropsToStyles(themeProps), css && unpackCss(props, css), mapCommonPropsToStyles(props), typeof mapPropsToStyles === 'function' && mapPropsToStyles(props), style];\n};\n\nvar styled$1 = function (component, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      displayName = _options.displayName,\n      displayType = _options.displayType,\n      mapPropsToStyles = _options.mapPropsToStyles;\n\n  if (process.env.NODE_ENV !== 'production' && displayName) {\n    if (registeredComponents[displayName]) {\n      console.warn(\"\\\"\" + displayName + \"\\\" is already registered. Those names should be unique.\");\n    }\n\n    registeredComponents[displayName] = true;\n  }\n\n  if (process.env.NODE_ENV !== 'production' && !displayName && options.section) {\n    console.warn('For `section` components valid `displayName` is required.');\n  }\n\n  var factory = styled(component, options);\n  return function () {\n    var name = displayName || displayType || null;\n\n    for (var _len = arguments.length, styles = new Array(_len), _key = 0; _key < _len; _key++) {\n      styles[_key] = arguments[_key];\n    }\n\n    var styledComponent = factory.apply(void 0, styles.concat([function (props) {\n      return parseStyles(props, name, mapPropsToStyles);\n    }]));\n    styledComponent.__ui_kit_name = name;\n    return options.section ? Object.defineProperty(withSubtheme(styledComponent), 'toString', {\n      value: styledComponent.toString\n    }) : styledComponent;\n  };\n};\n\nvar getBottomFoldPosition = function getBottomFoldPosition(element) {\n  return element.scrollTop + element.clientHeight;\n};\n\nvar getOffsetTop = function getOffsetTop(element) {\n  return element.getBoundingClientRect().top + window.pageYOffset;\n};\n\nvar isAboveFold = function isAboveFold(container, element) {\n  return getOffsetTop(element) - getOffsetTop(container) + element.clientHeight <= container.clientHeight;\n};\n\nvar isScrollOnBottom = function isScrollOnBottom(node, threshold) {\n  if (threshold === void 0) {\n    threshold = 0;\n  }\n\n  return Math.abs(node.scrollTop + node.clientHeight - node.scrollHeight) <= threshold;\n};\n\nvar isScrollOnTop = function isScrollOnTop(node, threshold) {\n  if (threshold === void 0) {\n    threshold = 0;\n  }\n\n  return node.scrollTop <= threshold;\n};\n\nvar isScrolledToRight = function isScrolledToRight(element) {\n  return Math.abs(element.scrollLeft + element.clientWidth - element.scrollWidth) <= 1;\n};\n\nvar isScrolledToLeft = function isScrolledToLeft(element) {\n  return element.scrollLeft <= 0;\n};\n\nvar scrollToBottom = function scrollToBottom(element) {\n  element.scrollTop = element.scrollHeight;\n};\n\nvar scrollToTop = function scrollToTop(element) {\n  element.scrollTop = 0;\n};\n\nvar allowScrollEvent = function allowScrollEvent(event) {\n  var currentTarget = event.currentTarget,\n      deltaY = event.deltaY;\n  var scrollTop = currentTarget.scrollTop,\n      scrollHeight = currentTarget.scrollHeight;\n  var scrollingDown = deltaY > 0;\n\n  if (scrollingDown && deltaY > scrollHeight - getBottomFoldPosition(currentTarget)) {\n    currentTarget.scrollTop = scrollHeight;\n    return false;\n  }\n\n  if (!scrollingDown && -deltaY > scrollTop) {\n    currentTarget.scrollTop = 0;\n    return false;\n  }\n\n  event.stopPropagation();\n  return true;\n};\n\nvar containScrollInSubtree = function containScrollInSubtree(event) {\n  var allowed = allowScrollEvent(event);\n\n  if (allowed) {\n    return;\n  }\n\n  event.preventDefault();\n};\n\nvar ENTER_KEYCODE = 13;\n\nvar wasEnterPressed = function wasEnterPressed(event) {\n  return event.which === ENTER_KEYCODE;\n};\n\nvar wasNewLineIntended = function wasNewLineIntended(event) {\n  return wasEnterPressed(event) && (event.altKey || event.shiftKey);\n};\n\nvar wasOnlyEnterPressed = function wasOnlyEnterPressed(event) {\n  return wasEnterPressed(event) && !event.altKey && !event.shiftKey;\n};\n\nvar withPinnedScroll = function (_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$pinThreshold = _ref.pinThreshold,\n      pinThreshold = _ref$pinThreshold === void 0 ? 20 : _ref$pinThreshold,\n      _ref$reverse = _ref.reverse,\n      reverse = _ref$reverse === void 0 ? false : _ref$reverse;\n\n  return function (WrappedComponent) {\n    var _class, _temp2;\n\n    return _temp2 = _class = /*#__PURE__*/function (_React$Component) {\n      _inheritsLoose(WithPinnedScroll, _React$Component);\n\n      function WithPinnedScroll() {\n        var _this;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n        _this._unmounted = false;\n\n        _this._getListRef = function (ref) {\n          _this._listRef = ref;\n\n          _this.props.innerRef(ref);\n        };\n\n        _this._handleScroll = throttle(200, function (event) {\n          if (_this._unmounted) {\n            return;\n          }\n\n          var _assertThisInitialize = _assertThisInitialized(_this),\n              props = _assertThisInitialize.props,\n              node = _assertThisInitialize._listRef;\n\n          props.onScroll(event);\n\n          if (isScrollOnBottom(node, pinThreshold)) {\n            _this._isAtTheBottom = true;\n            props.onScrollBottom(event);\n            return;\n          }\n\n          _this._isAtTheBottom = false;\n\n          if (isScrollOnTop(node, pinThreshold)) {\n            props.onScrollTop(event);\n            return;\n          }\n        });\n\n        _this._handleWheel = function (event) {\n          if (_this.props.containScrollInSubtree) {\n            containScrollInSubtree(event);\n          }\n\n          _this.props.onWheel(event);\n        };\n\n        _this.scrollToBottom = function () {\n          scrollToBottom(_this._listRef);\n          _this._isAtTheBottom = true;\n        };\n\n        _this.scrollToTop = function () {\n          scrollToTop(_this._listRef);\n        };\n\n        _this.scrollProps = {\n          isScrollOnBottom: function isScrollOnBottom$1() {\n            return isScrollOnBottom(_this._listRef, pinThreshold);\n          },\n          isScrollOnTop: function isScrollOnTop$1() {\n            return isScrollOnTop(_this._listRef, pinThreshold);\n          },\n          scrollToBottom: _this.scrollToBottom,\n          scrollToTop: _this.scrollToTop\n        };\n        return _this;\n      }\n\n      var _proto = WithPinnedScroll.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        var _this2 = this;\n\n        if (!this.props.usePinnedScroll) {\n          return;\n        }\n\n        this._observer = new ResizeObserver(function () {\n          if (!_this2._isAtTheBottom) {\n            return;\n          }\n\n          _this2.scrollToBottom();\n        });\n\n        this._observer.observe(this._listRef);\n\n        if (reverse) {\n          return;\n        }\n\n        this.scrollToBottom();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        this._unmounted = true;\n\n        if (this._observer) {\n          this._observer.disconnect();\n        }\n      };\n\n      _proto.getSnapshotBeforeUpdate = function getSnapshotBeforeUpdate() {\n        if (!this.props.usePinnedScroll) {\n          return null;\n        }\n\n        var node = this._listRef;\n        return reverse ? {\n          shouldScrollToEdge: isScrollOnTop(node, pinThreshold)\n        } : {\n          shouldScrollToEdge: isScrollOnBottom(node, pinThreshold),\n          prevScrollTop: node.scrollTop,\n          scrollTopFromBottomFold: Math.abs(node.scrollTop - node.scrollHeight)\n        };\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState, snapshot) {\n        if (!this.props.usePinnedScroll) {\n          return;\n        }\n\n        if (snapshot.shouldScrollToEdge) {\n          if (reverse) {\n            scrollToTop(this._listRef);\n          } else {\n            this.scrollToBottom();\n          }\n\n          return;\n        }\n\n        this._isAtTheBottom = false;\n\n        if (!reverse) {\n          this._maybeRestoreScrollPosition(snapshot);\n        }\n      };\n\n      _proto._maybeRestoreScrollPosition = function _maybeRestoreScrollPosition(_ref2) {\n        var prevScrollTop = _ref2.prevScrollTop,\n            scrollTopFromBottomFold = _ref2.scrollTopFromBottomFold;\n        var node = this._listRef; // if we stay on the top of the list and new items get appended at the top\n        // then the scroll position wont change but we have to restore the position nevertheless\n\n        if (node.scrollTop === prevScrollTop && prevScrollTop !== 0) {\n          return;\n        }\n\n        node.scrollTop = Math.abs(scrollTopFromBottomFold - node.scrollHeight);\n      };\n\n      _proto.render = function render() {\n        var _this$props = this.props,\n            _containScrollInSubtree = _this$props.containScrollInSubtree,\n            _onScrollBottom = _this$props.onScrollBottom,\n            _onScrollTop = _this$props.onScrollTop,\n            _usePinnedScroll = _this$props.usePinnedScroll,\n            props = _objectWithoutPropertiesLoose(_this$props, [\"containScrollInSubtree\", \"onScrollBottom\", \"onScrollTop\", \"usePinnedScroll\"]);\n\n        return createElement(WrappedComponent, _extends({}, props, this.scrollProps, {\n          innerRef: this._getListRef,\n          onScroll: this._handleScroll,\n          onWheel: this._handleWheel\n        }));\n      };\n\n      return WithPinnedScroll;\n    }(Component), _class.displayName = \"WithPinnedScroll(\" + getDisplayName(WrappedComponent) + \")\", _class.propTypes = {\n      containScrollInSubtree: bool,\n      innerRef: func,\n      onScroll: func,\n      onScrollBottom: func,\n      onScrollTop: func,\n      onWheel: func,\n      usePinnedScroll: bool\n    }, _class.defaultProps = {\n      containScrollInSubtree: false,\n      innerRef: noop,\n      onScrollBottom: noop,\n      onScrollTop: noop,\n      onWheel: noop,\n      onScroll: noop,\n      usePinnedScroll: true\n    }, _temp2;\n  };\n};\n\nvar StyledList = /*#__PURE__*/styled$1('div', {\n  displayName: 'ChatList',\n  section: true,\n  target: \"egyled90\"\n})();\nvar ChatList = withPinnedScroll({\n  reverse: true\n})(StyledList);\n\nvar mapPropsToStyles = function mapPropsToStyles(props) {\n  var styles = {};\n\n  if (props.verticalAlign) {\n    if (props.verticalAlign === 'top') {\n      styles.alignItems = 'flex-start';\n    } else if (props.verticalAlign === 'bottom') {\n      styles.alignItems = 'flex-end';\n    } else {\n      styles.alignItems = props.verticalAlign;\n    }\n  }\n\n  if (props.justify) {\n    if (props.justify === true) {\n      styles.justifyContent = 'space-between';\n    } else if (props.justify === 'left') {\n      styles.justifyContent = 'flex-start';\n    } else if (props.justify === 'right') {\n      styles.justifyContent = 'flex-end';\n    } else {\n      styles.justifyContent = props.justify;\n    }\n  }\n\n  if (props.reverse) {\n    styles.flexDirection = 'row-reverse';\n  }\n\n  return styles;\n};\n\nvar StyledRow = /*#__PURE__*/styled$1('div', {\n  mapPropsToStyles: mapPropsToStyles,\n  target: \"e108e6fy0\"\n})(\"display:flex;min-width:0;\");\n\nvar mapPropsToStyles$1 = function mapPropsToStyles(props) {\n  return {\n    background: props.active ? 'rgba(0, 0, 0, 0.1)' : 'rgba(0, 0, 0, 0)'\n  };\n};\n\nvar StyledItem = /*#__PURE__*/styled$1(StyledRow, {\n  displayName: 'ChatListItem',\n  mapPropsToStyles: mapPropsToStyles$1,\n  section: true,\n  target: \"edumshe0\"\n})(\"padding:0.5em;transition:background 0.2s;border-bottom:1px solid rgba(0,0,0,0.1);&:hover{cursor:pointer;}\");\n\nvar ChatListItem = function ChatListItem(props) {\n  return createElement(StyledItem, props);\n};\n\nChatListItem.propTypes = {\n  active: bool,\n  children: node.isRequired\n};\nvar StyledBar = /*#__PURE__*/styled$1(StyledRow, {\n  displayName: 'AgentBar',\n  section: true,\n  target: \"e1j58gbc0\"\n})(\"padding:1em;\");\n\nvar AgentBar = function AgentBar(props) {\n  return createElement(StyledBar, _extends({\n    verticalAlign: \"center\"\n  }, props));\n};\n\nAgentBar.propTypes = {\n  children: node\n};\n\nvar mapPropsToStyles$2 = function mapPropsToStyles(_ref) {\n  var color = _ref.color;\n\n  if (!color) {\n    return null;\n  }\n\n  return {\n    fill: color,\n    '& *': {\n      fill: color\n    }\n  };\n};\n\nvar createStyledIcon = memoize(function (Icon) {\n  return /*#__PURE__*/styled$1(Icon, {\n    displayType: 'Icon',\n    mapPropsToStyles: mapPropsToStyles$2,\n    shouldForwardProp: isPropValid,\n    target: \"e5ibypu0\"\n  })(\"&{display:block;}&,& *{fill:currentColor;}\");\n});\n\nvar Icon = function Icon(_ref2) {\n  var children = _ref2.children,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"children\"]);\n\n  var StyledIcon = createStyledIcon(children.type);\n  return createElement(StyledIcon, props);\n};\n\nIcon.propTypes = {\n  children: node.isRequired\n};\n\nvar Add = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    height: \"20px\",\n    viewBox: \"0 0 20 20\",\n    width: \"20px\"\n  }, props), React__default.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\"\n  }, React__default.createElement(\"g\", {\n    fill: \"#000000\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"path\", {\n    d: \"M10,0 C4.48,0 0,4.48 0,10 C0,15.52 4.48,20 10,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 10,0 Z M15,11 L11,11 L11,15 L9,15 L9,11 L5,11 L5,9 L9,9 L9,5 L11,5 L11,9 L15,9 L15,11 Z\"\n  }))));\n};\n\nvar AddIcon = function AddIcon(props) {\n  return createElement(Icon, props, createElement(Add, null));\n};\n\nvar ArrowLeft = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"8px\",\n    height: \"13px\",\n    viewBox: \"0 0 8 13\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-840.000000, -560.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(845.000000, 567.000000) scale(-1, 1) translate(-845.000000, -567.000000) translate(831.000000, 553.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(3.000000, 1.000000)\"\n  }, React__default.createElement(\"polygon\", {\n    points: \"8.59 17.34 13.17 12.75 8.59 8.16 10 6.75 16 12.75 10 18.75\"\n  }))))));\n};\n\nvar ArrowLeftIcon = function ArrowLeftIcon(props) {\n  return createElement(Icon, props, createElement(ArrowLeft, null));\n};\n\nvar ArrowRight = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"8px\",\n    height: \"13px\",\n    viewBox: \"0 0 8 13\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-1104.000000, -560.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(1094.000000, 553.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(2.000000, 1.000000)\"\n  }, React__default.createElement(\"polygon\", {\n    points: \"8.59 17.34 13.17 12.75 8.59 8.16 10 6.75 16 12.75 10 18.75\"\n  }))))));\n};\n\nvar ArrowRightIcon = function ArrowRightIcon(props) {\n  return createElement(Icon, props, createElement(ArrowRight, null));\n};\n\nvar Attach = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"20px\",\n    height: \"11px\",\n    viewBox: \"0 0 20 11\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-1098.000000, -754.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(1096.000000, 747.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M2,12.5 C2,9.46 4.46,7 7.5,7 L18,7 C20.21,7 22,8.79 22,11 C22,13.21 20.21,15 18,15 L9.5,15 C8.12,15 7,13.88 7,12.5 C7,11.12 8.12,10 9.5,10 L17,10 L17,12 L9.41,12 C8.86,12 8.86,13 9.41,13 L18,13 C19.1,13 20,12.1 20,11 C20,9.9 19.1,9 18,9 L7.5,9 C5.57,9 4,10.57 4,12.5 C4,14.43 5.57,16 7.5,16 L17,16 L17,18 L7.5,18 C4.46,18 2,15.54 2,12.5 Z\"\n  })))));\n};\n\nvar AttachIcon = function AttachIcon(props) {\n  return createElement(Icon, props, createElement(Attach, null));\n};\n\nvar Person = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    viewBox: \"0 0 58 58\",\n    style: {\n      enableBackground: 'new 0 0 58 58'\n    }\n  }, props), React__default.createElement(\"rect\", {\n    style: {\n      fillRule: 'evenodd',\n      clipRule: 'evenodd',\n      fill: '#F2F2F2'\n    },\n    width: \"58\",\n    height: \"58\"\n  }), React__default.createElement(\"path\", {\n    style: {\n      fillRule: 'evenodd',\n      clipRule: 'evenodd',\n      fill: '#424D57'\n    },\n    d: \"M40,38c7.3,3.8,11,8.4,11,13.9v6c0,0.2-0.1,0.3-0.2,0.4C47.9,62,6.1,62,6.1,58l0-0.1l0-0.1 v-6c0-5.5,3.7-10.1,11-13.9c1.2-0.7,2-0.2,2-0.2c2.5,2.3,5.8,3.7,9.5,3.7l-0.1,0l0.3,0c3.5-0.1,6.7-1.5,9.1-3.7 C38,37.8,38.8,37.3,40,38z M28.5,17C34.3,17,39,21.7,39,27.5S34.3,38,28.5,38S18,33.3,18,27.5S22.7,17,28.5,17z\"\n  }));\n};\n\nvar PersonIcon = function PersonIcon(props) {\n  return createElement(Icon, props, createElement(Person, null));\n};\n\nvar Chat = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"28px\",\n    height: \"28px\",\n    viewBox: \"0 0 28 28\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    fill: \"#000000\"\n  }, React__default.createElement(\"path\", {\n    d: \"M14,25.5 C12.4,25.5 10.8,25.2 9.4,24.7 L4.5,27.5 L4.5,21.9 C2,19.6 0.5,16.5 0.5,13 C0.5,6.1 6.5,0.5 14,0.5 C21.5,0.5 27.5,6.1 27.5,13 C27.5,19.9 21.5,25.5 14,25.5 L14,25.5 Z M9,11.5 C8.2,11.5 7.5,12.2 7.5,13 C7.5,13.8 8.2,14.5 9,14.5 C9.8,14.5 10.5,13.8 10.5,13 C10.5,12.2 9.8,11.5 9,11.5 L9,11.5 Z M14,11.5 C13.2,11.5 12.5,12.2 12.5,13 C12.5,13.8 13.2,14.5 14,14.5 C14.8,14.5 15.5,13.8 15.5,13 C15.5,12.2 14.8,11.5 14,11.5 L14,11.5 Z M19,11.5 C18.2,11.5 17.5,12.2 17.5,13 C17.5,13.8 18.2,14.5 19,14.5 C19.8,14.5 20.5,13.8 20.5,13 C20.5,12.2 19.8,11.5 19,11.5 L19,11.5 Z\"\n  }))));\n};\n\nvar ChatIcon = function ChatIcon(props) {\n  return createElement(Icon, props, createElement(Chat, null));\n};\n\nvar CheckboxOff = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-861.000000, -556.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(861.000000, 556.000000)\"\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"rect\", {\n    stroke: \"#BCC6D0\",\n    strokeWidth: \"1\",\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"15\",\n    height: \"15\",\n    rx: \"4\",\n    style: {\n      fill: 'none'\n    }\n  }))))));\n};\n\nvar CheckboxOffIcon = function CheckboxOffIcon(props) {\n  return createElement(Icon, props, createElement(CheckboxOff, null));\n};\n\nvar CheckboxOn = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-861.000000, -526.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(861.000000, 526.000000)\"\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"rect\", {\n    stroke: \"#4384F5\",\n    strokeWidth: \"1\",\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"15\",\n    height: \"15\",\n    rx: \"4\",\n    style: {\n      fill: 'none'\n    }\n  })), React__default.createElement(\"polygon\", {\n    fill: \"#4384F5\",\n    points: \"4 8.17070347 6.8554326 11.0329509 12.4300003 5.44475349 10.9852468 4 6.84861773 8.13662909 5.44475349 6.72594998\"\n  })))));\n};\n\nvar CheckboxOnIcon = function CheckboxOnIcon(props) {\n  return createElement(Icon, props, createElement(CheckboxOn, null));\n};\n\nvar Close = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    height: \"14px\",\n    viewBox: \"0 0 14 14\",\n    width: \"14px\"\n  }, props), React__default.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\"\n  }, React__default.createElement(\"polygon\", {\n    fill: \"#000000\",\n    points: \"14 1.41 12.59 8.8817842e-16 7 5.59 1.41 8.8817842e-16 0 1.41 5.59 7 0 12.59 1.41 14 7 8.41 12.59 14 14 12.59 8.41 7\"\n  })));\n};\n\nvar CloseIcon = function CloseIcon(props) {\n  return createElement(Icon, props, createElement(Close, null));\n};\n\nvar Email = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"18px\",\n    height: \"14px\",\n    viewBox: \"0 0 18 14\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-853.000000, -227.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(830.000000, 207.000000)\"\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"g\", {\n    transform: \"translate(22.000000, 17.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M16.6666667,3.33333333 L3.33333333,3.33333333 C2.41666667,3.33333333 1.675,4.08333333 1.675,5 L1.66666667,15 C1.66666667,15.9166667 2.41666667,16.6666667 3.33333333,16.6666667 L16.6666667,16.6666667 C17.5833333,16.6666667 18.3333333,15.9166667 18.3333333,15 L18.3333333,5 C18.3333333,4.08333333 17.5833333,3.33333333 16.6666667,3.33333333 Z M16.6666667,15 L3.33333333,15 L3.33333333,6.66666667 L10,10.8333333 L16.6666667,6.66666667 L16.6666667,15 Z M10,9.16666667 L3.33333333,5 L16.6666667,5 L10,9.16666667 Z\",\n    fillOpacity: \"0.6\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  })))))));\n};\n\nvar EmailIcon = function EmailIcon(props) {\n  return createElement(Icon, props, createElement(Email, null));\n};\n\nvar EmailFilled = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"21px\",\n    height: \"16px\",\n    viewBox: \"0 0 20 16\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"path\", {\n    d: \"M18,0 L2,0 C0.9,0 0.01,0.9 0.01,2 L0,14 C0,15.1 0.9,16 2,16 L18,16 C19.1,16 20,15.1 20,14 L20,2 C20,0.9 19.1,0 18,0 Z M17.6,4.25 L10.53,8.67 C10.21,8.87 9.79,8.87 9.47,8.67 L2.4,4.25 C2.15,4.09 2,3.82 2,3.53 C2,2.86 2.73,2.46 3.3,2.81 L10,7 L16.7,2.81 C17.27,2.46 18,2.86 18,3.53 C18,3.82 17.85,4.09 17.6,4.25 Z\",\n    fill: \"#000000\",\n    fillRule: \"nonzero\"\n  })));\n};\n\nvar EmailFilledIcon = function EmailFilledIcon(props) {\n  return createElement(Icon, props, createElement(EmailFilled, null));\n};\n\nvar Emoji = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    height: \"20px\",\n    viewBox: \"0 0 20 20\",\n    width: \"20px\"\n  }, props), React__default.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\"\n  }, React__default.createElement(\"g\", {\n    fill: \"#000000\"\n  }, React__default.createElement(\"path\", {\n    d: \"M13.5,9 C14.3,9 15,8.3 15,7.5 C15,6.7 14.3,6 13.5,6 C12.7,6 12,6.7 12,7.5 C12,8.3 12.7,9 13.5,9 L13.5,9 Z M6.5,9 C7.3,9 8,8.3 8,7.5 C8,6.7 7.3,6 6.5,6 C5.7,6 5,6.7 5,7.5 C5,8.3 5.7,9 6.5,9 L6.5,9 Z M10,16 C12.6,16 14.8,14.3 15.7,12 L4.3,12 C5.2,14.3 7.4,16 10,16 L10,16 Z M10,0 C4.5,0 0,4.5 0,10 C0,15.5 4.5,20 10,20 C15.5,20 20,15.5 20,10 C20,4.5 15.5,0 10,0 L10,0 Z M10,18 C5.6,18 2,14.4 2,10 C2,5.6 5.6,2 10,2 C14.4,2 18,5.6 18,10 C18,14.4 14.4,18 10,18 L10,18 Z\"\n  }))));\n};\n\nvar EmojiIcon = function EmojiIcon(props) {\n  return createElement(Icon, props, createElement(Emoji, null));\n};\n\nvar Exit = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-963.000000, -248.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(960.000000, 245.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M12.6125,19.4875 L14.375,21.25 L20.625,15 L14.375,8.75 L12.6125,10.5125 L15.8375,13.75 L3.75,13.75 L3.75,16.25 L15.8375,16.25 L12.6125,19.4875 Z M23.75,3.75 L6.25,3.75 C4.8625,3.75 3.75,4.875 3.75,6.25 L3.75,11.25 L6.25,11.25 L6.25,6.25 L23.75,6.25 L23.75,23.75 L6.25,23.75 L6.25,18.75 L3.75,18.75 L3.75,23.75 C3.75,25.125 4.8625,26.25 6.25,26.25 L23.75,26.25 C25.125,26.25 26.25,25.125 26.25,23.75 L26.25,6.25 C26.25,4.875 25.125,3.75 23.75,3.75 Z\"\n  })))));\n};\n\nvar ExitIcon = function ExitIcon(props) {\n  return createElement(Icon, props, createElement(Exit, null));\n};\n\nvar Hourglass = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"26px\",\n    viewBox: \"0 0 16 26\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-967.000000, -284.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(960.000000, 282.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M7.5,2.5 L7.5,10 L7.5125,10 L7.5,10.0125 L12.5,15 L7.5,20 L7.5125,20.0125 L7.5,20.0125 L7.5,27.5 L22.5,27.5 L22.5,20.0125 L22.4875,20.0125 L22.5,20 L17.5,15 L22.5,10.0125 L22.4875,10 L22.5,10 L22.5,2.5 L7.5,2.5 Z M20,20.625 L20,25 L10,25 L10,20.625 L15,15.625 L20,20.625 Z M15,14.375 L10,9.375 L10,5 L20,5 L20,9.375 L15,14.375 Z\"\n  })))));\n};\n\nvar HourglassIcon = function HourglassIcon(props) {\n  return createElement(Icon, props, createElement(Hourglass, null));\n};\n\nvar Maximize = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    fill: \"none\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\"\n  }, props), React__default.createElement(\"path\", {\n    d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"\n  }));\n};\n\nvar MaximizeIcon = function MaximizeIcon(props) {\n  return createElement(Icon, props, createElement(Maximize, null));\n};\n\nvar MenuVertical = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    height: \"4px\",\n    viewBox: \"0 0 16 4\",\n    width: \"16px\"\n  }, props), React__default.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\"\n  }, React__default.createElement(\"g\", {\n    fill: \"#000000\"\n  }, React__default.createElement(\"path\", {\n    d: \"M2,0 C0.9,0 0,0.9 0,2 C0,3.1 0.9,4 2,4 C3.1,4 4,3.1 4,2 C4,0.9 3.1,0 2,0 Z M14,0 C12.9,0 12,0.9 12,2 C12,3.1 12.9,4 14,4 C15.1,4 16,3.1 16,2 C16,0.9 15.1,0 14,0 Z M8,0 C6.9,0 6,0.9 6,2 C6,3.1 6.9,4 8,4 C9.1,4 10,3.1 10,2 C10,0.9 9.1,0 8,0 Z\"\n  }))));\n};\n\nvar MenuVerticalIcon = function MenuVerticalIcon(props) {\n  return createElement(Icon, props, createElement(MenuVertical, null));\n};\n\nvar Minimize = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    fill: \"none\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\"\n  }, props), React__default.createElement(\"path\", {\n    d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n  }));\n};\n\nvar MinimizeIcon = function MinimizeIcon(props) {\n  return createElement(Icon, props, createElement(Minimize, null));\n};\n\nvar Mute = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-854.000000, -325.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(830.000000, 207.000000)\"\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"g\", {\n    transform: \"translate(22.000000, 116.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M13.75,10 C13.75,8.525 12.9,7.25833333 11.6666667,6.64166667 L11.6666667,8.48333333 L13.7083333,10.525 C13.7333333,10.3583333 13.75,10.1833333 13.75,10 Z M15.8333333,10 C15.8333333,10.7833333 15.6666667,11.5166667 15.3833333,12.2 L16.6416667,13.4583333 C17.1916667,12.425 17.5,11.25 17.5,10 C17.5,6.43333333 15.0083333,3.45 11.6666667,2.69166667 L11.6666667,4.40833333 C14.075,5.125 15.8333333,7.35833333 15.8333333,10 Z M3.55833333,2.5 L2.5,3.55833333 L6.44166667,7.5 L2.5,7.5 L2.5,12.5 L5.83333333,12.5 L10,16.6666667 L10,11.0583333 L13.5416667,14.6 C12.9833333,15.0333333 12.3583333,15.375 11.6666667,15.5833333 L11.6666667,17.3 C12.8166667,17.0416667 13.8583333,16.5083333 14.7416667,15.7916667 L16.4416667,17.5 L17.5,16.4416667 L10,8.94166667 L3.55833333,2.5 Z M10,3.33333333 L8.25833333,5.075 L10,6.81666667 L10,3.33333333 Z\"\n  })))))));\n};\n\nvar MuteIcon = function MuteIcon(props) {\n  return createElement(Icon, props, createElement(Mute, null));\n};\n\nvar Unmute = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-854.000000, -325.000000)\",\n    fill: \"#FFFFFF\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(830.000000, 207.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M24.5,123.5 L24.5,128.5 L27.8333333,128.5 L32,132.666667 L32,119.333333 L27.8333333,123.5 L24.5,123.5 Z M35.75,126 C35.75,124.525 34.9,123.258333 33.6666667,122.641667 L33.6666667,129.35 C34.9,128.741667 35.75,127.475 35.75,126 Z M33.6666667,118.691667 L33.6666667,120.408333 C36.075,121.125 37.8333333,123.358333 37.8333333,126 C37.8333333,128.641667 36.075,130.875 33.6666667,131.591667 L33.6666667,133.308333 C37.0083333,132.55 39.5,129.566667 39.5,126 C39.5,122.433333 37.0083333,119.45 33.6666667,118.691667 Z\"\n  })))));\n};\n\nvar UnmuteIcon = function UnmuteIcon(props) {\n  return createElement(Icon, props, createElement(Unmute, null));\n};\n\nvar RadioOff = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-861.000000, -656.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(861.000000, 656.000000)\"\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"circle\", {\n    stroke: \"#BCC6D0\",\n    strokeWidth: \"1\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"7.5\",\n    style: {\n      fill: 'none'\n    }\n  }))))));\n};\n\nvar RadioOffIcon = function RadioOffIcon(props) {\n  return createElement(Icon, props, createElement(RadioOff, null));\n};\n\nvar RadioOn = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    version: \"1.1\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-861.000000, -626.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(861.000000, 626.000000)\"\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"circle\", {\n    stroke: \"#4384F5\",\n    strokeWidth: \"1\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"7.5\",\n    style: {\n      fill: 'none'\n    }\n  })), React__default.createElement(\"circle\", {\n    fill: \"#4384F5\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"3\"\n  })))));\n};\n\nvar RadioOnIcon = function RadioOnIcon(props) {\n  return createElement(Icon, props, createElement(RadioOn, null));\n};\n\nvar RateBad = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"14px\",\n    height: \"19px\",\n    viewBox: \"0 0 14 19\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-1092.000000, -247.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(832.000000, 237.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M262.011431,10.0079649 C264.301872,10.0254688 266.149331,11.871012 266.149331,14.141574 L266.149331,15.006151 C266.149331,15.7362453 266.746389,16.3281036 267.482897,16.3281036 L270.483677,16.3281036 C270.679987,16.3281036 270.875953,16.3444026 271.069519,16.3768295 C272.984075,16.6975635 274.27384,18.4961084 273.950288,20.3939919 L273.161331,25.0218442 C272.786728,27.2191809 270.866945,28.8276198 268.618875,28.8276198 L265.455497,28.8276198 C262.442509,28.8276198 260,26.406381 260,23.4196316 L260,12.0040832 C260,10.9016253 260.893719,10.0079066 261.996177,10.0079066 C262.001262,10.0079066 262.006347,10.007926 262.011431,10.0079649 Z M268.206897,24.4827922 L272.086361,24.4827922 L272.086361,25.4442124 L269.168317,25.4442124 C268.637339,25.4442124 268.206897,25.0137699 268.206897,24.4827922 Z M268.206897,22.0689991 L273.056228,22.0689991 L273.056228,23.0304193 L269.168317,23.0304193 C268.637339,23.0304193 268.206897,22.5999768 268.206897,22.0689991 Z M268.206897,19.655206 L273.541161,19.655206 L273.541161,20.6166262 L269.168317,20.6166262 C268.637339,20.6166262 268.206897,20.1861837 268.206897,19.655206 Z M261.939732,23.4196316 C261.939732,25.3444256 263.513794,26.9047795 265.455497,26.9047795 L268.618875,26.9047795 C269.920389,26.9047795 271.031842,25.9735781 271.248717,24.7014358 L272.037675,20.0735835 C272.182715,19.2228081 271.604545,18.4165638 270.746296,18.2727865 C270.659525,18.2582503 270.571678,18.2509439 270.483677,18.2509439 L267.482897,18.2509439 C265.675104,18.2509439 264.209598,16.7982006 264.209598,15.006151 L264.209598,14.141574 C264.209598,12.9271831 263.221501,11.9401098 261.996478,11.930748 L261.939732,11.9303143 L261.939732,23.4196316 Z\",\n    transform: \"translate(267.000000, 19.413810) scale(-1, -1) translate(-267.000000, -19.413810) \"\n  })))));\n};\n\nvar RateBadIcon = function RateBadIcon(props) {\n  return createElement(Icon, props, createElement(RateBad, null));\n};\n\nvar RateGood = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"14px\",\n    height: \"19px\",\n    viewBox: \"0 0 14 19\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-1047.000000, -247.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(832.000000, 237.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M217.011431,10.0079649 C219.301872,10.0254688 221.149331,11.871012 221.149331,14.141574 L221.149331,15.006151 C221.149331,15.7362453 221.746389,16.3281036 222.482897,16.3281036 L225.483677,16.3281036 C225.679987,16.3281036 225.875953,16.3444026 226.069519,16.3768295 C227.984075,16.6975635 229.27384,18.4961084 228.950288,20.3939919 L228.161331,25.0218442 C227.786728,27.2191809 225.866945,28.8276198 223.618875,28.8276198 L220.455497,28.8276198 C217.442509,28.8276198 215,26.406381 215,23.4196316 L215,12.0040832 C215,10.9016253 215.893719,10.0079066 216.996177,10.0079066 C217.001262,10.0079066 217.006347,10.007926 217.011431,10.0079649 Z M223.206897,24.4827922 L227.086361,24.4827922 L227.086361,25.4442124 L224.168317,25.4442124 C223.637339,25.4442124 223.206897,25.0137699 223.206897,24.4827922 Z M223.206897,22.0689991 L228.056228,22.0689991 L228.056228,23.0304193 L224.168317,23.0304193 C223.637339,23.0304193 223.206897,22.5999768 223.206897,22.0689991 Z M223.206897,19.655206 L228.541161,19.655206 L228.541161,20.6166262 L224.168317,20.6166262 C223.637339,20.6166262 223.206897,20.1861837 223.206897,19.655206 Z M216.939732,23.4196316 C216.939732,25.3444256 218.513794,26.9047795 220.455497,26.9047795 L223.618875,26.9047795 C224.920389,26.9047795 226.031842,25.9735781 226.248717,24.7014358 L227.037675,20.0735835 C227.182715,19.2228081 226.604545,18.4165638 225.746296,18.2727865 C225.659525,18.2582503 225.571678,18.2509439 225.483677,18.2509439 L222.482897,18.2509439 C220.675104,18.2509439 219.209598,16.7982006 219.209598,15.006151 L219.209598,14.141574 C219.209598,12.9271831 218.221501,11.9401098 216.996478,11.930748 L216.939732,11.9303143 L216.939732,23.4196316 Z\"\n  })))));\n};\n\nvar RateGoodIcon = function RateGoodIcon(props) {\n  return createElement(Icon, props, createElement(RateGood, null));\n};\n\nvar Send = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    height: \"18px\",\n    viewBox: \"0 0 21 18\",\n    width: \"21px\"\n  }, props), React__default.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\"\n  }, React__default.createElement(\"g\", {\n    fill: \"#000000\"\n  }, React__default.createElement(\"polygon\", {\n    points: \"0.01 18 21 9 0.01 0 0 7 15 9 0 11\"\n  }))));\n};\n\nvar SendIcon = function SendIcon(props) {\n  return createElement(Icon, props, createElement(Send, null));\n};\n\nvar Search = function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"28px\",\n    height: \"28px\",\n    viewBox: \"0 0 512 512\"\n  }, props), React__default.createElement(\"path\", {\n    d: \"M508.5 481.6l-129-129c-2.3-2.3-5.3-3.5-8.5-3.5h-10.3C395 312 416 262.5 416 208 416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c54.5 0 104-21 141.1-55.2V371c0 3.2 1.3 6.2 3.5 8.5l129 129c4.7 4.7 12.3 4.7 17 0l9.9-9.9c4.7-4.7 4.7-12.3 0-17zM208 384c-97.3 0-176-78.7-176-176S110.7 32 208 32s176 78.7 176 176-78.7 176-176 176z\"\n  }));\n};\n\nvar SearchIcon = function SearchIcon(props) {\n  return createElement(Icon, props, createElement(Search, null));\n};\n\nvar notRenderedStyle = /*#__PURE__*/css(\"display:none;\");\n\nvar Image = function Image(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      imgProps = _objectWithoutPropertiesLoose(_ref, [\"children\", \"className\"]);\n\n  var _React$useState = useState('pending'),\n      imageStatus = _React$useState[0],\n      setImageStatus = _React$useState[1];\n\n  return createElement(Fragment, null, createElement(\"img\", _extends({}, imgProps, {\n    onLoad: function onLoad() {\n      return setImageStatus('loaded');\n    },\n    onError: function onError() {\n      return setImageStatus('failed');\n    },\n    className: cx(className, imageStatus !== 'loaded' && notRenderedStyle)\n  })), children && children({\n    imageStatus: imageStatus\n  }));\n};\n\nImage.propTypes = {\n  children: func\n};\n\nvar mapPropsToStyles$3 = function mapPropsToStyles(props) {\n  var propsStyle = {};\n  var imageStyle = {};\n  var size = props.size,\n      radius = props.radius,\n      fontSize = props.fontSize;\n\n  if (size) {\n    propsStyle.width = size;\n    propsStyle.height = size;\n    propsStyle.lineHeight = size;\n  }\n\n  if (radius) {\n    propsStyle.borderRadius = radius;\n    imageStyle.borderRadius = radius;\n  }\n\n  if (fontSize) {\n    propsStyle.fontSize = fontSize;\n  }\n\n  return _extends({}, propsStyle, {\n    '& img': imageStyle\n  });\n};\n\nvar embeddedImageStyle = /*#__PURE__*/css(\"display:block;border-radius:inherit;width:100%;height:100%;object-fit:cover;\");\nvar StyledAvatar = /*#__PURE__*/styled$1('div', {\n  displayName: 'Avatar',\n  mapPropsToStyles: mapPropsToStyles$3,\n  target: \"e11ezd0e0\"\n})(\"border:1px solid #fff;border-radius:50%;text-align:center;background-color:#fff;text-transform:uppercase;overflow:hidden;\");\n\nvar Avatar = function Avatar(props) {\n  var imgUrl = props.imgUrl,\n      letter = props.letter;\n  var child = null;\n\n  if (imgUrl) {\n    child = createElement(Image, {\n      src: imgUrl,\n      className: embeddedImageStyle,\n      alt: 'avatar'\n    }, function (_ref) {\n      var imageStatus = _ref.imageStatus;\n      return imageStatus === 'failed' && createElement(PersonIcon, {\n        className: embeddedImageStyle\n      });\n    });\n  } else if (letter) {\n    child = createElement(\"span\", null, letter);\n  } else if (process.env.NODE_ENV === 'development') {\n    console.warn('Avatar component expects one of imgUrl or letter props.');\n  }\n\n  return createElement(StyledAvatar, props, child);\n};\n\nAvatar.propTypes = {\n  /** URL of the image */\n  imgUrl: string,\n\n  /** Letter to be used instead of the image (when imgUrl is not provided) */\n  letter: string,\n\n  /** Avatar size (width and height) */\n  size: string,\n\n  /** Override component's styles */\n  style: shape()\n};\nvar forwardBorderRadiuses = /*#__PURE__*/css(\"& >:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit;border-bottom-right-radius:0;border-bottom-left-radius:0;}& >:last-child{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:inherit;border-bottom-left-radius:inherit;}& >:first-child:last-child{border-top-left-radius:inherit;border-top-right-radius:inherit;border-bottom-right-radius:inherit;border-bottom-left-radius:inherit;}\");\nvar displayName = 'Bubble';\n\nvar flipBorderRadiusesHorizontally = function flipBorderRadiusesHorizontally(_ref) {\n  var borderTopLeftRadius = _ref.borderTopLeftRadius,\n      borderTopRightRadius = _ref.borderTopRightRadius,\n      borderBottomRightRadius = _ref.borderBottomRightRadius,\n      borderBottomLeftRadius = _ref.borderBottomLeftRadius;\n  return {\n    borderTopLeftRadius: borderTopRightRadius,\n    borderTopRightRadius: borderTopLeftRadius,\n    borderBottomRightRadius: borderBottomLeftRadius,\n    borderBottomLeftRadius: borderBottomRightRadius\n  };\n};\n\nvar mapPropsToStyles$4 = function mapPropsToStyles(props) {\n  var isOwn = props.isOwn,\n      ovalBorderRadius = props.ovalBorderRadius,\n      sharpBorderRadius = props.sharpBorderRadius,\n      radiusType = props.radiusType;\n  var borderRadiuses = {\n    borderTopLeftRadius: radiusType === 'single' || radiusType === 'first' ? ovalBorderRadius : sharpBorderRadius,\n    borderTopRightRadius: ovalBorderRadius,\n    borderBottomRightRadius: ovalBorderRadius,\n    borderBottomLeftRadius: radiusType === 'single' || radiusType === 'last' ? ovalBorderRadius : sharpBorderRadius\n  }; // TODO maybe this could be reversed somehow in theme?\n  // return isOwn ? flipBorderRadiusesHorizontally(borderRadiuses) : borderRadiuses\n\n  return isOwn ? flipBorderRadiusesHorizontally(borderRadiuses) : borderRadiuses;\n};\n\nvar StyledBubble = /*#__PURE__*/styled$1('div', {\n  displayName: displayName,\n  mapPropsToStyles: mapPropsToStyles$4,\n  target: \"emwkn670\"\n})(forwardBorderRadiuses, \";border:1px solid rgba(0,0,0,0.05);display:inline-block;max-width:100%;margin-bottom:0.1em;& img{max-width:100%;display:block;}\");\nStyledBubble.propTypes = {\n  /** Test of the message */\n  children: node,\n\n  /** Message auhor - me (right side) or their (left side) */\n  isOwn: bool,\n\n  /** Specifies rendering type, it's used for appropriate corners' rounding */\n  radiusType: oneOf(['single', 'first', 'last'])\n};\nvar StyledColumn = /*#__PURE__*/styled$1('div', {\n  target: \"ek650k30\"\n})(\"display:flex;flex-direction:column;min-width:0;\");\n\nvar mapPropsToStyles$5 = function mapPropsToStyles(props) {\n  return {\n    flexShrink: props.shrink ? 1 : 0\n  };\n};\n\nvar StyledFill = /*#__PURE__*/styled$1('div', {\n  mapPropsToStyles: mapPropsToStyles$5,\n  target: \"e1jdwequ0\"\n})();\n\nvar Fill = function Fill(props) {\n  return createElement(StyledFill, _extends({\n    flexFill: true\n  }, props));\n};\n\nFill.defaultProps = {\n  shrink: true\n};\nFill.propTypes = {\n  shrink: bool\n};\n\nvar mapPropsToStyles$6 = function mapPropsToStyles(props) {\n  return {\n    flexShrink: props.shrink ? 1 : 0\n  };\n};\n\nvar StyledFit = /*#__PURE__*/styled$1('div', {\n  mapPropsToStyles: mapPropsToStyles$6,\n  target: \"e1yi1p4d0\"\n})();\n\nvar Fit = function Fit(props) {\n  return createElement(StyledFit, _extends({\n    flexFit: true\n  }, props));\n};\n\nFit.defaultProps = {\n  shrink: true\n};\nFit.propTypes = {\n  shrink: bool\n};\nvar StyledButton = /*#__PURE__*/styled$1('button', {\n  displayName: 'IconButton',\n  section: true,\n  target: \"e1m5b1js0\"\n})(\"appearance:none;background:transparent;border:0;display:inline-block;margin:0;padding:0.5em;color:inherit;&:hover{cursor:\", function (props) {\n  return props.disabled ? 'default' : 'pointer';\n}, \";}&:active,&:focus{outline:none;}\");\nStyledButton.propTypes = {\n  active: bool,\n  disabled: bool,\n  children: node.isRequired,\n  color: string,\n  onClick: func\n};\n\nvar _React$createContext = createContext({\n  isScrollOnBottom: noop,\n  isScrollOnTop: noop,\n  registerUnseenListItem: noop,\n  scrollToBottom: noop,\n  scrollToTop: noop\n}),\n    MessageListProvider = _React$createContext.Provider,\n    MessageListSpy = _React$createContext.Consumer;\n\nvar autoInc = function autoInc(start) {\n  if (start === void 0) {\n    start = 0;\n  }\n\n  var counter = start;\n  return function () {\n    return counter++;\n  };\n};\n\nvar nextId = autoInc();\nvar StyledList$1 = /*#__PURE__*/styled$1('div', {\n  displayName: 'MessageList',\n  target: \"e1i3n9g60\"\n})(\"padding:0.5em;overflow-y:auto;height:100%;\");\n\nvar MessageList = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(MessageList, _React$Component);\n\n  function MessageList() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this._listItems = [];\n\n    _this._registerUnseenListItem = function (listItemDescription) {\n      var id = nextId();\n\n      _this._listItems.push(_extends({}, listItemDescription, {\n        id: id\n      }));\n\n      return _this._unregisterUnseenListItem.bind(_assertThisInitialized(_this), id);\n    };\n\n    _this._unregisterUnseenListItem = function (id) {\n      var index = findIndex(function (_ref) {\n        var itemId = _ref.id;\n        return itemId === id;\n      }, _this._listItems);\n\n      if (index === -1) {\n        return;\n      }\n\n      _this._listItems.splice(index, 1);\n    };\n\n    _this._getListRef = function (ref) {\n      _this.listRef = ref;\n\n      _this.props.innerRef(ref);\n    };\n\n    _this._handleScroll = throttle(300, function (event) {\n      if (_this.props.active) {\n        _this.callSeenCallbacks();\n      }\n\n      _this.props.onScroll(event);\n    });\n    _this._context = {\n      isScrollOnBottom: _this.props.isScrollOnBottom,\n      isScrollOnTop: _this.props.isScrollOnTop,\n      registerUnseenListItem: _this._registerUnseenListItem,\n      scrollToBottom: _this.props.scrollToBottom,\n      scrollToTop: _this.props.scrollToTop\n    };\n    return _this;\n  }\n\n  var _proto = MessageList.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.active === true) {\n      this.callSeenCallbacks();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (prevProps.active === false && this.props.active === true) {\n      this.callSeenCallbacks();\n    }\n  };\n\n  _proto.callSeenCallbacks = function callSeenCallbacks() {\n    var _this2 = this;\n\n    this._listItems.forEach(function (listItem) {\n      if (!isAboveFold(_this2.listRef, listItem.ref)) {\n        return;\n      }\n\n      listItem.onSeen();\n    });\n  };\n\n  _proto.render = function render() {\n    return createElement(MessageListProvider, {\n      value: this._context\n    }, createElement(StyledList$1, _extends({}, this.props, {\n      innerRef: this._getListRef,\n      onScroll: this._handleScroll\n    })));\n  };\n\n  return MessageList;\n}(Component);\n\nMessageList.propTypes = {\n  /** This prop tell us if we should call onSeen callbacks from contained MessageListItems when scrolling */\n  active: bool,\n\n  /** Children of the list */\n  children: node.isRequired,\n\n  /** Prop used as function ref to the underlaying DOM element */\n  innerRef: func,\n\n  /** Callback hooked into list's scroll event */\n  onScroll: func\n};\nMessageList.defaultProps = {\n  active: true,\n  innerRef: noop,\n  onScroll: noop\n};\nvar MessageList$1 = withPinnedScroll()(MessageList);\n\nvar MessageListItem = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(MessageListItem, _React$Component);\n\n  function MessageListItem() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this._unregisterFromMessageList = noop;\n    _this._registerInMessageList = memoizeOne(function (register) {\n      return function (ref) {\n        // this only handles null ref (when it stops to listen to onSeen - when this.props.seen transition from true to false)\n        _this._unregisterFromMessageList();\n\n        if (!ref) {\n          return;\n        }\n\n        _this._unregisterFromMessageList = register({\n          ref: ref,\n          onSeen: _this.props.onSeen\n        });\n      };\n    });\n    return _this;\n  }\n\n  var _proto = MessageListItem.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this._unregisterFromMessageList();\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return createElement(MessageListSpy, null, function (_ref) {\n      var registerUnseenListItem = _ref.registerUnseenListItem;\n      return createElement(\"div\", {\n        ref: _this2.props.seen ? null : _this2._registerInMessageList(registerUnseenListItem)\n      }, Children.only(_this2.props.children));\n    });\n  };\n\n  return MessageListItem;\n}(Component);\n\nMessageListItem.propTypes = {\n  children: node.isRequired,\n  onSeen: func\n};\nMessageListItem.defaultProps = {\n  onSeen: noop\n};\nvar fade = /*#__PURE__*/css(\"&-enter{opacity:0;height:0;}&-enter&-enter-active{opacity:1;height:1.2em;transition:height 200ms ease-in-out,opacity 100ms ease-in-out 100ms;}&-exit{opacity:1;height:1.2em;}&-exit&-exit-active{opacity:0;height:0;transition:height 100ms ease-in-out 100ms,opacity 200ms ease-in-out;}\");\n\nvar Fade = function Fade(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n\n  return createElement(CSSTransition, _extends({}, props, {\n    classNames: fade,\n    timeout: 200\n  }), children);\n};\n\nFade.propTypes = {\n  children: node\n};\n\nvar mapPropsToStyles$7 = function mapPropsToStyles(_ref) {\n  var horizontalAlign = _ref.horizontalAlign;\n\n  if (!horizontalAlign) {\n    return null;\n  }\n\n  return {\n    flexDirection: horizontalAlign === 'left' ? 'row' : 'row-reverse'\n  };\n}; // TODO: check out if this element should be flex, seems it might be some leftover, need to check all browsers\n\n\nvar StyledMessage = /*#__PURE__*/styled$1('div', {\n  displayName: 'Message',\n  mapPropsToStyles: mapPropsToStyles$7,\n  section: true,\n  target: \"e10ccb470\"\n})(\"display:flex;align-items:flex-start;font-size:0.9em;margin:0.3em;max-width:100%;\");\nvar AuthorName = /*#__PURE__*/styled$1('span', {\n  displayName: 'AuthorName',\n  target: \"e10ccb471\"\n})(\"font-size:0.8em;\");\nvar MessageMeta = /*#__PURE__*/styled$1('div', {\n  displayName: 'MessageMeta',\n  target: \"e10ccb472\"\n})(\"text-align:left;\");\nvar Content = /*#__PURE__*/styled$1('div', {\n  displayName: 'Content',\n  target: \"e10ccb473\"\n})(\"display:flex;flex-direction:column;overflow:hidden;align-items:flex-start;\");\nvar Time = /*#__PURE__*/styled$1('span', {\n  displayName: 'Time',\n  target: \"e10ccb474\"\n})(\"font-size:0.8em;\");\nvar Status = /*#__PURE__*/styled$1('div', {\n  displayName: 'Status',\n  target: \"e10ccb475\"\n})(\"text-align:right;font-size:0.8em;\");\n\nvar Message = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Message, _React$Component);\n\n  function Message() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Message.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        authorName = _this$props.authorName,\n        deliveryStatus = _this$props.deliveryStatus,\n        isOwn = _this$props.isOwn,\n        date = _this$props.date,\n        showMetaOnClick = _this$props.showMetaOnClick,\n        onSeen = _this$props.onSeen,\n        radiusType = _this$props.radiusType,\n        seen = _this$props.seen,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"authorName\", \"deliveryStatus\", \"isOwn\", \"date\", \"showMetaOnClick\", \"onSeen\", \"radiusType\", \"seen\"]);\n\n    var message = createElement(Toggle, null, function (_ref2) {\n      var authorOpened = _ref2.on,\n          getElementTogglerProps = _ref2.getElementTogglerProps;\n      return createElement(StyledMessage, _extends({}, getElementTogglerProps(props), {\n        own: isOwn,\n        tabIndex: null\n      }), createElement(Content, null, createElement(TransitionGroup, null, (!showMetaOnClick || authorOpened) && createElement(Fade, null, createElement(MessageMeta, null, authorName && createElement(AuthorName, null, authorName, \" \"), date && createElement(Time, null, date)))), children, deliveryStatus && createElement(Status, null, deliveryStatus)));\n    });\n    return createElement(MessageListItem, {\n      onSeen: onSeen,\n      seen: seen\n    }, message);\n  };\n\n  return Message;\n}(Component);\n\nMessage.propTypes = {\n  /** Message author's name */\n  authorName: string,\n  authorOpened: bool,\n\n  /** Message children components */\n  children: node,\n\n  /** Message date */\n  date: string,\n  deliveryStatus: string,\n\n  /** Message author - agent (left side) or visitor (right side) */\n  isOwn: bool,\n  onClick: func,\n\n  /** Callback called when the user scrolls the list to the message. Message must be wrapped by MessageList component. */\n  onSeen: func,\n  showMetaOnClick: bool,\n\n  /** Override component's styles */\n  style: shape(),\n  toggleAuthor: func,\n\n  /** Specifies rendering type, it's used for appropriate corners' rounding */\n  radiusType: oneOf(['single', 'first', 'last']),\n  seen: bool\n};\nMessage.defaultProps = {\n  onClick: function onClick() {},\n  seen: false\n};\nvar SubTitle = /*#__PURE__*/styled$1('div', {\n  displayName: 'SubTitle',\n  target: \"e1fut3qs0\"\n})(\"font-weight:300;opacity:0.7;\");\nSubTitle.defaultProps = {\n  textWrap: true\n};\nvar Title = /*#__PURE__*/styled$1('div', {\n  displayName: 'Title',\n  target: \"e9xf8br0\"\n})(\"font-weight:500;\");\nTitle.defaultProps = {\n  textWrap: true\n};\nvar warnOnce = once(console.warn.bind(console));\nvar StyledTitle = /*#__PURE__*/styled$1('div', {\n  displayName: 'MessageTitle',\n  target: \"e1ykjxgu0\"\n})(\"font-weight:600;padding:1em;\");\nvar marginBottomClass = /*#__PURE__*/css(\"margin-bottom:4px;\");\n\nvar MessageTitle = function MessageTitle(_ref) {\n  var children = _ref.children,\n      title = _ref.title,\n      subtitle = _ref.subtitle,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"title\", \"subtitle\"]);\n\n  if (process.env.NODE_ENV !== 'production' && children && (title || subtitle)) {\n    // eslint-disable-next-line no-console\n    warnOnce(['You should not use title nor subtitle & children props together.', 'They cannot be rendered at once - children prop has higher rendering priority.'].join('\\n'));\n  }\n\n  var childs = children ? children : [title && createElement(Title, {\n    key: \"title\",\n    className: marginBottomClass\n  }, title), subtitle && createElement(SubTitle, {\n    key: \"subtitle\",\n    preserveLines: true\n  }, subtitle)];\n  return createElement(StyledTitle, props, childs);\n};\n\nMessageTitle.propTypes = {\n  children: oneOfType([arrayOf(node), node]),\n  subtitle: string,\n  title: string\n};\nvar StyledText = /*#__PURE__*/styled$1('div', {\n  displayName: 'MessageText',\n  target: \"eovu8nx0\"\n})(\"white-space:pre-line;word-wrap:break-word;overflow-wrap:break-word;max-width:100%;padding:1em;\");\n\nvar mapPropsToStyles$8 = function mapPropsToStyles(props) {\n  var _ref = props.style || {},\n      borderTopLeftRadius = _ref.borderTopLeftRadius,\n      borderTopRightRadius = _ref.borderTopRightRadius,\n      borderBottomRightRadius = _ref.borderBottomRightRadius,\n      borderBottomLeftRadius = _ref.borderBottomLeftRadius;\n\n  return {\n    img: {\n      borderTopLeftRadius: borderTopLeftRadius,\n      borderTopRightRadius: borderTopRightRadius,\n      borderBottomRightRadius: borderBottomRightRadius,\n      borderBottomLeftRadius: borderBottomLeftRadius\n    }\n  };\n};\n\nvar StyledMedia = /*#__PURE__*/styled$1('div', {\n  displayName: 'MessageMedia',\n  mapPropsToStyles: mapPropsToStyles$8,\n  target: \"evmhqt80\"\n})(\"overflow:hidden;\");\nvar borderColor = 'rgba(0, 0, 0, 0.1)';\nvar border = \"1px solid \" + borderColor;\nvar StyledButtons = /*#__PURE__*/styled$1('div', {\n  displayName: 'MessageButtons',\n  target: \"edowbh60\"\n})(forwardBorderRadiuses, \";& >:first-child{border-top:\", border, \";}&:first-child >:first-child{border-top:0;}& >:last-child{border-bottom:\", border, \";}&:last-child >:last-child{border-bottom:0;}> *{border-color:\", borderColor, \" !important;}\");\nvar getDarker = darken(0.2);\n\nvar mapPropsToStyles$9 = function mapPropsToStyles(props) {\n  // TODO: fix color here\n  var color = props.primary ? props.theme.vars['--primary-color'] : 'black';\n  var darkerColor = getDarker(color);\n  return {\n    borderColor: color,\n    color: color,\n    ':hover': {\n      color: darkerColor,\n      borderColor: darkerColor\n    }\n  };\n};\n\nvar StyledButton$1 = /*#__PURE__*/styled$1(function (_ref) {\n  var href = _ref.href,\n      props = _objectWithoutPropertiesLoose(_ref, [\"href\"]);\n\n  if (!href) {\n    return createElement(\"button\", props);\n  }\n\n  return createElement(\"a\", _extends({\n    href: href,\n    rel: \"nofollow noopener\"\n  }, props));\n}, {\n  displayName: 'Button',\n  mapPropsToStyles: mapPropsToStyles$9,\n  shouldForwardProp: isPropValid,\n  target: \"e1972fzd0\"\n})(\"border-width:1px;border-style:solid;background-color:#fff;font-size:1em;font-family:inherit;text-align:center;text-decoration:none;appearance:none;padding:0.8em;transition:box-shadow 0.1s,color 0.1s,border-color 0.2s;&:hover{cursor:pointer;}&:active{box-shadow:none;outline:none;}&:focus{box-shadow:none;outline:none;}&[disabled]{pointer-events:none;}\");\n\nvar Button = function Button(_ref2) {\n  var label = _ref2.label,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"label\"]);\n\n  return createElement(StyledButton$1, props, label);\n};\n\nButton.propTypes = {\n  /** Button's label */\n  label: string\n};\nvar StyledButton$2 = /*#__PURE__*/styled$1(Button, {\n  target: \"e121y1dq0\"\n})(\"display:inline-block;width:100%;border-left:0;border-right:0;border-top:0;border-bottom-color:rgba(0,0,0,0.1);box-shadow:none;transition:background-color 0.1s;background:transparent;color:\", function (props) {\n  return props.disabled ? '#8D9BA9' : 'inherit';\n}, \";margin:0;&:hover{border-bottom-color:rgba(0,0,0,0.15);background:rgba(0,0,0,0.02);color:inherit;}&:active{background:rgba(0,0,0,0.04);color:inherit;}\");\n\nvar MessageButton = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(MessageButton, _React$Component);\n\n  function MessageButton() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleClick = function (event) {\n      event.stopPropagation();\n\n      _this.props.onClick(event);\n    };\n\n    return _this;\n  }\n\n  var _proto = MessageButton.prototype;\n\n  _proto.render = function render() {\n    return createElement(StyledButton$2, _extends({}, this.props, {\n      onClick: this.handleClick\n    }));\n  };\n\n  return MessageButton;\n}(Component);\n\nMessageButton.propTypes = {\n  className: string,\n\n  /** Button's label */\n  label: string,\n  onClick: func,\n  primary: bool,\n\n  /** Button's value */\n  value: oneOfType([string, number])\n};\nMessageButton.defaultProps = {\n  onClick: noop\n};\n\nvar compactChildren = function compactChildren(children) {\n  return Children.toArray(children).filter(Boolean);\n};\n\nvar hasControlledProps = function hasControlledProps(controlledList, ownProps) {\n  return values(pick(controlledList, ownProps)).filter(function (prop) {\n    return prop !== undefined;\n  }).length > 0;\n};\n\nvar SINGLE = {\n  radiusType: 'single'\n};\nvar FIRST = {\n  radiusType: 'first'\n};\nvar LAST = {\n  radiusType: 'last'\n};\nvar hideMetaProps = {\n  authorName: null,\n  date: null\n};\n\nvar mapPropsToStyles$a = function mapPropsToStyles(props) {\n  if (props.isOwn) {\n    return {\n      flexDirection: 'row-reverse'\n    };\n  }\n\n  return null;\n};\n\nvar StyledGroup = /*#__PURE__*/styled$1('div', {\n  displayName: 'MessageGroup',\n  mapPropsToStyles: mapPropsToStyles$a,\n  target: \"eslhdd60\"\n})(\"display:flex;margin-bottom:1em;\");\nvar AvatarWrapper = /*#__PURE__*/styled$1('div', {\n  target: \"eslhdd61\"\n})(\"display:flex;flex-direction:column;align-items:center;text-align:center;font-size:0.7em;line-height:1.6em;\", function (props) {\n  return {\n    minWidth: props.theme.Avatar.size,\n    margin: props.isOwn ? '0 0 0 .3em' : '0 .3em 0 0'\n  };\n}, \";\");\nvar messageGropContainerStyle = /*#__PURE__*/css(\"overflow:hidden;\");\n\nvar MessageGroup = function MessageGroup(_ref) {\n  var avatar = _ref.avatar,\n      avatarLetter = _ref.avatarLetter,\n      children = _ref.children,\n      onlyFirstWithMeta = _ref.onlyFirstWithMeta,\n      props = _objectWithoutPropertiesLoose(_ref, [\"avatar\", \"avatarLetter\", \"children\", \"onlyFirstWithMeta\"]);\n\n  var compactedChildren = compactChildren(children);\n  var childrenCount = Children.count(compactedChildren);\n  return createElement(StyledGroup, props, (avatar || avatarLetter) && createElement(AvatarWrapper, {\n    flexFit: true,\n    isOwn: props.isOwn\n  }, createElement(Avatar, {\n    imgUrl: avatar,\n    letter: avatarLetter\n  })), createElement(Fill, {\n    className: messageGropContainerStyle\n  }, Children.map(compactedChildren, function (child, index) {\n    if (childrenCount === 1) {\n      return cloneElement(child, SINGLE);\n    }\n\n    if (index === 0) {\n      return cloneElement(child, FIRST);\n    }\n\n    var hideMeta = onlyFirstWithMeta && index > 0;\n\n    if (index === childrenCount - 1) {\n      return cloneElement(child, hideMeta ? _extends({}, LAST, {}, hideMetaProps) : LAST);\n    }\n\n    return hideMeta ? cloneElement(child, hideMetaProps) : child;\n  })));\n};\n\nMessageGroup.propTypes = {\n  /** Message author's avatar URL */\n  avatar: string,\n\n  /** Message author's initials (if no URL is passed) */\n  avatarLetter: string,\n\n  /** Component's children nodes - i.e. Message components */\n  children: node,\n\n  /** Message author - agent (left side) or visitor (right side) */\n  isOwn: bool,\n  onlyFirstWithMeta: bool\n};\nvar darkTheme = {\n  vars: {\n    'primary-color': '#0d449b',\n    'secondary-color': '#3a3a3a',\n    'tertiary-color': 'rgba(0, 0, 0, 0.8)'\n  },\n  AgentBar: {\n    css: {\n      color: '#fff'\n    },\n    IconButton: {\n      css: {\n        background: 'rgba(0, 0, 0, 0.2)',\n        borderRadius: '50%',\n        padding: '1em',\n        margin: '.3em'\n      }\n    },\n    Icon: {\n      css: {\n        transform: 'scale(0.7)'\n      }\n    }\n  },\n  Bubble: {\n    css: {\n      color: '#fff'\n    }\n  },\n  TitleBar: {\n    css: {\n      background: '#3a3a3a',\n      borderRadius: '1.2em 1.2em 0 0',\n      padding: '.5em'\n    }\n  },\n  FixedWrapperMaximized: {\n    css: {\n      borderRadius: '1.2em',\n      overflow: 'hidden',\n      height: '660px'\n    }\n  },\n  Message: {\n    secondaryTextColor: '#fff'\n  },\n  TextComposer: {\n    css: {\n      background: '#eaeaea'\n    }\n  },\n  TextInput: {\n    css: {\n      background: '#eaeaea'\n    }\n  }\n};\nvar purpleTheme = {\n  vars: {\n    'primary-color': '#6D5BBA',\n    'secondary-color': '#3a3a3a',\n    'tertiary-color': 'rgba(0, 0, 0, 0.8)'\n  },\n  Avatar: {\n    size: '20px',\n    css: {\n      boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n    }\n  },\n  AgentBar: {\n    css: {\n      color: '#fff',\n      background: 'linear-gradient(to right, #6D5BBA, #8D58BF)',\n      borderRadius: '.5em',\n      marginBottom: '.7em',\n      boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n    }\n  },\n  TitleBar: {\n    css: {\n      background: 'transparent',\n      borderRadius: '.5em',\n      marginBottom: '.5em',\n      padding: '0'\n    },\n    IconButton: {\n      css: {\n        background: 'linear-gradient(to right, #6D5BBA, #8D58BF)',\n        borderRadius: '8px',\n        padding: '1em',\n        margin: '.3em',\n        boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n      }\n    }\n  },\n  MessageList: {\n    css: {\n      background: 'linear-gradient(to right, #6D5BBA, #8D58BF)',\n      marginBottom: '.7em',\n      borderRadius: '.5em',\n      boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n    }\n  },\n  TextComposer: {\n    css: {\n      borderRadius: '.5em',\n      marginBottom: '.7em',\n      boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n    }\n  },\n  Message: {\n    secondaryTextColor: '#fff',\n    own: {\n      Bubble: {\n        css: {\n          color: '#fff',\n          background: '#AA8BD2'\n        }\n      }\n    }\n  },\n  Bubble: {\n    ovalBorderRadius: '.4em',\n    sharpBorderRadius: '.4em',\n    css: {\n      color: '#5A6976',\n      background: '#fff',\n      fontSize: '14px'\n    }\n  },\n  FixedWrapperMaximized: {\n    css: {\n      width: '280px'\n    }\n  }\n};\nvar elegantTheme = {\n  vars: {\n    'primary-color': '#5A6976'\n  },\n  Avatar: {\n    size: '20px',\n    css: {\n      boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n    }\n  },\n  FixedWrapperMaximized: {\n    css: {\n      width: '310px',\n      borderRadius: 0,\n      boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n    }\n  },\n  AgentBar: {\n    css: {\n      color: '#000',\n      background: '#fff'\n    },\n    Avatar: {\n      css: {\n        boxShadow: 'none'\n      }\n    }\n  },\n  TitleBar: {\n    css: {\n      color: '#000',\n      background: '#fff'\n    },\n    Icon: {\n      color: '#D9A646'\n    }\n  },\n  MessageList: {\n    css: {\n      background: 'rgba(0, 0, 0, 0.8)'\n    }\n  },\n  Bubble: {\n    sharpBorderRadius: '.4em',\n    ovalBorderRadius: '.4em'\n  }\n};\nvar LIGHT_BLUE = '#427fe1';\nvar WHITE = '#fff';\nvar defaultTheme = {\n  vars: {\n    'primary-color': LIGHT_BLUE,\n    'secondary-color': '#fbfbfb',\n    'tertiary-color': WHITE\n  },\n  AgentBar: {\n    Avatar: {\n      size: '42px',\n      css: {\n        marginRight: '.6em'\n      }\n    },\n    css: {\n      backgroundColor: 'var(--secondary-color)'\n    }\n  },\n  Avatar: {\n    size: '30px'\n  },\n  Bubble: {\n    sharpBorderRadius: '0.3em',\n    ovalBorderRadius: '1.4em',\n    css: {\n      backgroundColor: {\n        \"default\": 'var(--secondary-color)',\n        bot: 'green'\n      }\n    }\n  },\n  Button: {},\n  ChatListItem: {\n    Avatar: {\n      css: {\n        marginRight: '.5em'\n      }\n    }\n  },\n  FixedWrapperMaximized: {\n    animationDuration: 100,\n    width: '400px',\n    height: '500px'\n  },\n  FixedWrapperMinimized: {\n    animationDuration: 100\n  },\n  FixedWrapperRoot: {\n    position: 'right',\n    css: {}\n  },\n  Message: {\n    secondaryTextColor: '#000',\n    horizontalAlign: 'left',\n    own: {\n      horizontalAlign: 'right',\n      Bubble: {\n        css: {\n          backgroundColor: 'var(--primary-color)',\n          color: WHITE\n        }\n      },\n      Content: {\n        css: {\n          alignItems: 'flex-end'\n        }\n      },\n      MessageMeta: {\n        css: {\n          textAlign: 'right'\n        }\n      },\n      Time: {\n        css: {\n          textAlign: 'right'\n        }\n      }\n    },\n    bot: {\n      Bubble: {\n        css: {\n          backgroundColor: 'green'\n        }\n      }\n    }\n  },\n  MessageButtons: {},\n  MessageGroup: {},\n  MessageList: {\n    css: {\n      backgroundColor: 'var(--tertiary-color)'\n    }\n  },\n  MessageMedia: {},\n  MessageText: {},\n  MessageTitle: {},\n  QuickReply: {\n    css: {\n      borderColor: 'var(--primary-color)',\n      backgroundColor: '#fff',\n      color: 'var(--primary-color)'\n    }\n  },\n  TextComposer: {\n    // TODO: this is a color for text, but sounds like a color for background\n    inputColor: '#000',\n    Icon: {\n      color: '#aaa'\n    },\n    IconButton: {\n      active: {\n        Icon: {\n          color: 'var(--primary-color)'\n        }\n      }\n    }\n  },\n  TitleBar: {\n    iconsColor: '#fff',\n    behaviour: 'default',\n    css: {\n      backgroundColor: 'var(--primary-color)'\n    }\n  }\n};\n\nvar parseTheme = function parseTheme(theme) {\n  var componentKeys = pickComponentKeys(theme);\n\n  if (Object.keys(componentKeys).length === 0) {\n    return _extends({}, theme, {\n      vars: mapKeys(function (key) {\n        return \"--\" + key;\n      }, theme.vars || {})\n    });\n  }\n\n  return _extends({}, theme, {}, mapValues(function (component) {\n    return _extends({}, parseTheme(component), {\n      css: component.css || {}\n    });\n  }, componentKeys), {\n    vars: mapKeys(function (key) {\n      return \"--\" + key;\n    }, theme.vars || {})\n  });\n};\n\nvar TopLevelThemeProvider = function TopLevelThemeProvider(_ref) {\n  var _ref$theme = _ref.theme,\n      theme = _ref$theme === void 0 ? {} : _ref$theme,\n      children = _ref.children;\n  var parsed = parseTheme(merge(defaultTheme, theme));\n  return createElement(ThemeProvider, {\n    value: parsed\n  }, children);\n}; // TODO: hover states and such should be handled - tweak at least borderColor, and backgroundColor\n\n\nvar StyledReply = /*#__PURE__*/styled$1('button', {\n  displayName: 'QuickReply',\n  target: \"e1gt5po80\"\n})(\"border-width:1px;border-style:solid;font-size:1em;line-height:1em;appearance:none;transition:box-shadow 0.1s,color 0.1s,border-color 0.2s;margin:0.25em;background-color:#fff;border-radius:1.4em;box-shadow:0 0.1em 0.1em 0 rgba(32,34,40,0.05);font-weight:400;overflow:hidden;padding:0.375em 1em 0.5em;word-break:break-word;&:hover{cursor:pointer;}&:active,&:focus{box-shadow:none;outline:none;background-color:rgba(0,0,0,0.05);}\");\n\nvar QuickReply = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(QuickReply, _React$Component);\n\n  function QuickReply() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this._handleClick = function (event) {\n      // TODO: discuss during review - button already has native value\n      // QuickReply might not need onSelect, just onClick, and one can read the value by accessing event.target.value\n      // QuickReplies OTOH needs onSelect\n      _this.props.onSelect(_this.props.value);\n\n      _this.props.onClick(event);\n    };\n\n    return _this;\n  }\n\n  var _proto = QuickReply.prototype;\n\n  _proto.render = function render() {\n    return createElement(StyledReply, _extends({}, this.props, {\n      onClick: this._handleClick\n    }));\n  };\n\n  return QuickReply;\n}(Component);\n\nQuickReply.defaultProps = {\n  onClick: noop,\n  onSelect: noop\n};\nQuickReply.propTypes = {\n  children: node.isRequired,\n  onClick: func,\n  onSelect: func,\n  value: oneOfType([string, number])\n}; // eslint-disable-next-line no-console\n\nvar warnOnce$1 = once(console.warn.bind(console));\nvar StyledReplies = /*#__PURE__*/styled$1('div', {\n  displayName: 'QuickReplies',\n  target: \"e1dnb9qc0\"\n})(\"display:flex;flex-wrap:wrap;text-align:center;justify-content:center;width:100%;\");\n\nvar QuickReplies = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(QuickReplies, _React$Component);\n\n  function QuickReplies() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this._handleSelect = function (value) {\n      return _this.props.onSelect(value);\n    };\n\n    return _this;\n  }\n\n  var _proto = QuickReplies.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this; // eslint-disable-next-line no-unused-vars\n\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        replies = _this$props.replies,\n        onSelect = _this$props.onSelect,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"replies\", \"onSelect\"]);\n\n    if (process.env.NODE_ENV !== 'production' && children && replies) {\n      // eslint-disable-next-line no-console\n      warnOnce$1(['You should not use replies & children props together.', 'They cannot be rendered at once - children prop has higher rendering priority.'].join('\\n'));\n    }\n\n    var childs = children ? compactChildren(children) : replies.map(function (reply, index) {\n      return createElement(QuickReply, {\n        key: index,\n        value: reply\n      }, reply);\n    });\n    return createElement(StyledReplies, props, Children.map(childs, function (child) {\n      return cloneElement(child, {\n        onSelect: _this2._handleSelect\n      });\n    }));\n  };\n\n  return QuickReplies;\n}(Component);\n\nQuickReplies.defaultProps = {\n  onSelect: noop\n};\nQuickReplies.propTypes = {\n  children: node,\n  onSelect: func,\n  replies: arrayOf(string)\n};\nvar StyledBar$1 = /*#__PURE__*/styled$1('div', {\n  displayName: 'TitleBar',\n  section: true,\n  target: \"e1ohfhv0\"\n})(\"display:flex;justify-content:center;align-items:center;width:100%;border:#000;color:#fff;position:relative;z-index:2;text-align:center;padding:0.4em;\");\nvar Title$1 = /*#__PURE__*/styled$1('div', {\n  displayName: 'TitleBarTitle',\n  target: \"e1ohfhv1\"\n})(\"width:100%;margin:0;margin-bottom:4px;padding:0 2px;text-align:center;font-size:0.9em;flex-grow:1;\");\n\nvar TitleBar = function TitleBar(_ref) {\n  var leftIcons = _ref.leftIcons,\n      rightIcons = _ref.rightIcons,\n      title = _ref.title,\n      props = _objectWithoutPropertiesLoose(_ref, [\"leftIcons\", \"rightIcons\", \"title\"]);\n\n  return createElement(StyledBar$1, props, leftIcons, createElement(Title$1, {\n    ellipsis: true\n  }, title), rightIcons);\n};\n\nTitleBar.propTypes = {\n  leftIcons: arrayOf(node),\n  rightIcons: arrayOf(node),\n  theme: shape(),\n  title: node\n};\n\nvar _React$createContext$1 = createContext(),\n    ComposerProvider = _React$createContext$1.Provider,\n    ComposerSpy = _React$createContext$1.Consumer;\n\nvar StyledComposer = /*#__PURE__*/styled$1('div', {\n  displayName: 'TextComposer',\n  section: true,\n  target: \"eyij3xx0\"\n})(\"padding:0.5em;background:#fff;border-top:1px solid rgba(0,0,0,0.1);\");\n\nvar TextComposer = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TextComposer, _React$Component);\n\n  function TextComposer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      value: _this._getValue({\n        value: _this.props.defaultValue\n      })\n    };\n\n    _this._handleButtonClick = function (event) {\n      var sent = _this.maybeSend();\n\n      if (!sent) {\n        return;\n      }\n\n      _this.props.onButtonClick(event);\n    };\n\n    _this._handleChange = function (event) {\n      var value = event.target.value;\n\n      if (!_this._isControlled()) {\n        _this.setState({\n          value: value\n        });\n      }\n\n      _this.props.onValueChange(value);\n\n      _this.props.onChange(event);\n    };\n\n    _this._handleInputRef = function (ref) {\n      _this._inputRef = ref;\n\n      _this.props.inputRef(ref);\n    };\n\n    _this._handleKeyDown = function (event) {\n      var onKeyDown = _this.props.onKeyDown;\n\n      if (wasOnlyEnterPressed(event)) {\n        event.preventDefault();\n      }\n\n      if (!wasEnterPressed(event) || wasNewLineIntended(event)) {\n        onKeyDown(event);\n        return;\n      }\n\n      _this.maybeSend();\n\n      onKeyDown(event);\n    };\n\n    _this.maybeSend = function () {\n      if (!_this._canSend()) {\n        return false;\n      }\n\n      if (!_this._isControlled()) {\n        _this.setState({\n          value: ''\n        });\n      }\n\n      _this.props.onValueChange('');\n\n      _this.props.onSend(trimEnd(_this.state.value));\n\n      return true;\n    };\n\n    return _this;\n  }\n\n  var _proto = TextComposer.prototype;\n\n  _proto._getValue = function _getValue(state, props) {\n    if (state === void 0) {\n      state = this.state;\n    }\n\n    if (props === void 0) {\n      props = this.props;\n    }\n\n    return this._isControlled() ? props.value : state.value;\n  };\n\n  _proto._canSend = function _canSend() {\n    return this.props.active && this.state.value.trim() !== '';\n  };\n\n  _proto._isControlled = function _isControlled() {\n    return this.props.value === 'string';\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var value = this._getValue();\n\n    var prevValue = this._getValue(prevState, prevProps);\n\n    if (value !== prevValue && value === '') {\n      this._inputRef.focus();\n    }\n  };\n\n  _proto.render = function render() {\n    // eslint-disable-next-line no-unused-vars\n    var _this$props = this.props,\n        active = _this$props.active,\n        children = _this$props.children,\n        defaultValue = _this$props.defaultValue,\n        onButtonClick = _this$props.onButtonClick,\n        onChange = _this$props.onChange,\n        onKeyDown = _this$props.onKeyDown,\n        onSend = _this$props.onSend,\n        onValueChange = _this$props.onValueChange,\n        value = _this$props.value,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"active\", \"children\", \"defaultValue\", \"onButtonClick\", \"onChange\", \"onKeyDown\", \"onSend\", \"onValueChange\", \"value\"]);\n\n    var contextValue = {\n      active: this._canSend(),\n      inputRef: this._handleInputRef,\n      value: this._getValue(),\n      maybeSend: this.maybeSend,\n      onButtonClick: this._handleButtonClick,\n      onChange: this._handleChange,\n      onKeyDown: this._handleKeyDown\n    };\n    return createElement(ComposerProvider, {\n      value: contextValue\n    }, createElement(StyledComposer, props, children));\n  };\n\n  return TextComposer;\n}(Component);\n\nTextComposer.propTypes = {\n  active: bool,\n  children: node,\n  defaultValue: string,\n  inputRef: func,\n  onButtonClick: func,\n  onChange: func,\n  onKeyDown: func,\n  onSend: func,\n  value: string\n};\nTextComposer.defaultProps = {\n  active: true,\n  defaultValue: '',\n  inputRef: noop,\n  onButtonClick: noop,\n  onChange: noop,\n  onKeyDown: noop,\n  onSend: noop,\n  onValueChange: noop\n};\n\nvar withComposer = function (mapComposerToProps) {\n  if (mapComposerToProps === void 0) {\n    mapComposerToProps = identity;\n  }\n\n  return function (WrappedComponent) {\n    var _class, _temp;\n\n    return _temp = _class = /*#__PURE__*/function (_React$Component) {\n      _inheritsLoose(WithComposer, _React$Component);\n\n      function WithComposer() {\n        return _React$Component.apply(this, arguments) || this;\n      }\n\n      var _proto = WithComposer.prototype;\n\n      _proto.render = function render() {\n        var _this = this;\n\n        return createElement(ComposerSpy, null, function (context) {\n          return createElement(WrappedComponent, _extends({}, _this.props, mapComposerToProps(context, _this.props)));\n        });\n      };\n\n      return WithComposer;\n    }(Component), _class.displayName = \"withComposer(\" + getDisplayName(WrappedComponent) + \")\", _temp;\n  };\n};\n\nvar SendButton = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(SendButton, _React$Component);\n\n  function SendButton() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = SendButton.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        icon = _this$props.icon,\n        restProps = _objectWithoutPropertiesLoose(_this$props, [\"icon\"]);\n\n    return createElement(StyledButton, restProps, icon ? createElement(Icon, null, icon) : createElement(SendIcon, null));\n  };\n\n  return SendButton;\n}(Component); // eslint-disable-next-line no-console\n\n\nSendButton.propTypes = {\n  active: bool,\n  onClick: func\n};\nvar warnOnce$2 = once(console.warn.bind(console));\nvar SendButton$1 = withComposer(function (_ref, ownProps) {\n  var active = _ref.active,\n      onButtonClick = _ref.onButtonClick;\n\n  if (process.env.NODE_ENV === 'development') {\n    var sendButtonProps = ['active', 'onClick'];\n\n    if (hasControlledProps(sendButtonProps, ownProps)) {\n      // eslint-disable-next-line no-console\n      warnOnce$2([sendButtonProps + \" props are controlled by TextComposer,\", \"if you want to use those please pass them to the TextComposer instead of \" + getDisplayName(SendButton) + \".\"].join(' '));\n    }\n  }\n\n  return active ? {\n    active: active,\n    onClick: onButtonClick\n  } : {\n    active: active\n  };\n})(SendButton); // TODO: we should have our own styled factory and this omit should be applied for each \"global\" custom prop\n// for wrapped custom React component\n\nvar StyledInput = /*#__PURE__*/styled$1(function (_ref) {\n  var flexFill = _ref.flexFill,\n      props = _objectWithoutPropertiesLoose(_ref, [\"flexFill\"]);\n\n  return createElement(TextareaAutosize, props);\n}, {\n  displayName: 'TextInput',\n  target: \"e1m92qam0\"\n})(\"apperance:none;border:0;resize:none;background-color:#fff;height:1.5em;line-height:1.5em;min-width 0;width:100%;font-size:1em;&:focus,&:active{outline:none;}\");\n\nvar TextInput = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TextInput, _React$Component);\n\n  function TextInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this._getRef = function (ref) {\n      _this.props.inputRef(ref);\n\n      _this.props.innerRef(ref);\n    };\n\n    return _this;\n  }\n\n  var _proto = TextInput.prototype;\n\n  _proto.render = function render() {\n    // eslint-disable-next-line no-unused\n    var _this$props = this.props,\n        innerRef = _this$props.innerRef,\n        inputRef = _this$props.inputRef,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"innerRef\", \"inputRef\"]);\n\n    return createElement(StyledInput, _extends({}, props, {\n      inputRef: this._getRef\n    }));\n  };\n\n  return TextInput;\n}(Component); // eslint-disable-next-line no-console\n\n\nTextInput.defaultProps = {\n  innerRef: noop,\n  inputRef: noop,\n  maxRows: 3,\n  onChange: noop,\n  onKeyDown: noop,\n  placeholder: 'Write a message...'\n};\nTextInput.propTypes = {\n  defaultValue: string,\n  innerRef: func,\n  inputRef: func,\n  maxRows: number,\n  minRows: number,\n  onChange: func,\n  onHeightChange: func,\n  onKeyDown: func,\n  placeholder: string,\n  value: string\n};\nvar warnOnce$3 = once(console.warn.bind(console));\nvar TextInput$1 = withComposer(function (_ref2, ownProps) {\n  var inputRef = _ref2.inputRef,\n      onChange = _ref2.onChange,\n      onKeyDown = _ref2.onKeyDown,\n      value = _ref2.value;\n\n  if (process.env.NODE_ENV === 'development') {\n    var textInputProps = ['defaultValue', 'inputRef', 'onChange', 'onKeyDown', 'value'];\n\n    if (hasControlledProps(textInputProps, ownProps)) {\n      // eslint-disable-next-line no-console\n      warnOnce$3([textInputProps + \" props are controlled by TextComposer,\", \"if you want to use those please pass them to the TextComposer instead of \" + getDisplayName(TextInput) + \".\"].join(' '));\n    }\n  }\n\n  return {\n    inputRef: inputRef,\n    onChange: onChange,\n    onKeyDown: onKeyDown,\n    value: value\n  };\n})(TextInput);\n\nvar mapPropsToStyles$b = function mapPropsToStyles(props) {\n  var propsStyle = {};\n\n  if (props.theme) {\n    // TODO: should be done with nesting?\n    propsStyle.right = props.theme.FixedWrapperRoot.position === 'right' ? '0' : 'auto';\n    propsStyle.left = props.theme.FixedWrapperRoot.position === 'left' ? '0' : 'auto';\n  }\n\n  if (props.animationDuration) {\n    propsStyle.transition = \"all \" + props.animationDuration + \"ms ease-out\";\n  }\n\n  if (props.state) {\n    propsStyle.transform = props.state === 'entered' ? 'none' : 'scale(0.8) translate(10%, 30%)';\n    propsStyle.opacity = props.state === 'entered' ? '1' : '0';\n  }\n\n  if (props.height) {\n    propsStyle.height = props.height;\n  }\n\n  if (props.width) {\n    propsStyle.width = props.width;\n  }\n\n  return propsStyle;\n};\n\nvar StyledWrapper = /*#__PURE__*/styled$1('div', {\n  displayName: 'FixedWrapperMaximized',\n  mapPropsToStyles: mapPropsToStyles$b,\n  target: \"ep7mz240\"\n})(\"display:flex;flex-direction:column;max-height:100vh;position:absolute;bottom:0;@media (max-width:490px){width:100%;height:100%;position:fixed;}\");\n\nvar FixedWrapperMaximized = function FixedWrapperMaximized(props) {\n  return createElement(Transition, {\n    \"in\": props.active,\n    mountOnEnter: true,\n    timeout: props.theme.FixedWrapperMaximized.animationDuration,\n    unmountOnExit: true\n  }, function (state) {\n    return createElement(StyledWrapper, _extends({}, props, {\n      state: state\n    }), Children.map(props.children, function (child) {\n      return cloneElement(child, {\n        minimize: props.minimize\n      });\n    }));\n  });\n};\n\nFixedWrapperMaximized.propTypes = {\n  /** Component active - shown or hidden */\n  active: bool,\n\n  /** Content of the component, will have minimize function injected */\n  children: node.isRequired,\n\n  /** Method to change component's state from shown to hiden - passed by FixedWrapper.Root */\n  minimize: func,\n\n  /** Override component's styles */\n  style: shape()\n};\nvar Maximized = withTheme(FixedWrapperMaximized);\n\nvar mapPropsToStyles$c = function mapPropsToStyles(_ref) {\n  var state = _ref.state,\n      theme = _ref.theme;\n  var propsStyles = {};\n\n  if (theme) {\n    propsStyles.transition = \"all \" + theme.FixedWrapperMaximized.animationDuration + \"ms ease-out\"; // TODO could be done with nesting?\n\n    propsStyles.right = theme.FixedWrapperRoot.position === 'right' ? '0' : 'auto';\n    propsStyles.left = theme.FixedWrapperRoot.position === 'left' ? '0' : 'auto';\n  }\n\n  if (state) {\n    propsStyles.transform = state === 'entered' ? 'none' : 'scale(0.8) translate(10%, 30%)';\n    propsStyles.opacity = state === 'entered' ? '1' : '0';\n  }\n\n  return propsStyles;\n};\n\nvar StyledWrapper$1 = /*#__PURE__*/styled$1('div', {\n  displayName: 'FixedWrapperMinimized',\n  mapPropsToStyles: mapPropsToStyles$c,\n  target: \"eq1nrcm0\"\n})(\"width:60px;height:60px;position:absolute;bottom:1em;\");\n\nvar FixedWrapperMinimized = function FixedWrapperMinimized(props) {\n  return createElement(Transition, {\n    \"in\": props.active,\n    mountOnEnter: true,\n    timeout: props.theme.FixedWrapperMinimized.animationDuration,\n    unmountOnExit: true\n  }, function (state) {\n    return createElement(StyledWrapper$1, _extends({}, props, {\n      state: state\n    }), Children.map(props.children, function (child) {\n      return cloneElement(child, {\n        maximize: props.maximize\n      });\n    }));\n  });\n};\n\nFixedWrapperMinimized.propTypes = {\n  /** Component active - shown or hidden */\n  active: bool,\n\n  /** Content of the component, will have maximize function injected */\n  children: node.isRequired,\n\n  /** Method to change component's state from shown to hiden - passed by FixedWrapper.Root */\n  maximize: func,\n\n  /** Override component's styles */\n  style: shape()\n};\nvar Minimized = withTheme(FixedWrapperMinimized);\n\nvar mapPropsToStyles$d = function mapPropsToStyles(props) {\n  var propsStyles = {};\n\n  if (props.position === 'right') {\n    propsStyles.right = '1em';\n    propsStyles.left = 'auto';\n  } else if (props.position === 'left') {\n    propsStyles.right = 'auto';\n    propsStyles.left = '1em';\n  }\n\n  return propsStyles;\n};\n\nvar StyledWrapper$2 = /*#__PURE__*/styled$1('div', {\n  displayName: 'FixedWrapperRoot',\n  mapPropsToStyles: mapPropsToStyles$d,\n  target: \"e7t7c040\"\n})(\"position:fixed;bottom:0;z-index:99;font-size:16px;\");\n\nvar FixedWrapperRoot = function FixedWrapperRoot(props) {\n  return createElement(StyledWrapper$2, props, createElement(Toggle, {\n    defaultOn: props.maximizedOnInit\n  }, function (_ref) {\n    var on = _ref.on,\n        setOff = _ref.setOff,\n        setOn = _ref.setOn;\n    return createElement(\"div\", null, Children.map(props.children, function (child) {\n      if (child.type === Maximized) {\n        return cloneElement(child, {\n          minimize: setOff,\n          active: on\n        });\n      }\n\n      if (child.type === Minimized) {\n        return cloneElement(child, {\n          maximize: setOn,\n          active: !on\n        });\n      }\n\n      return child;\n    }));\n  }));\n};\n\nFixedWrapperRoot.defaultProps = {\n  maximizedOnInit: false\n};\nFixedWrapperRoot.propTypes = {\n  /** Content of the component. FixedWrapper.Maximized and FixedWrapper.Minimized components will receive the proper state and methods */\n  children: node.isRequired,\n\n  /** Show maximized component on init */\n  maximizedOnInit: bool,\n\n  /** Override component's styles */\n  style: shape()\n};\nvar FixedWrapperImport = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Root: FixedWrapperRoot,\n  Maximized: Maximized,\n  Minimized: Minimized\n});\nvar FixedWrapper = FixedWrapperImport;\n\nvar ElementButtons = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ElementButtons, _React$Component);\n\n  function ElementButtons() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleButtonClick = function (key) {\n      return function (event) {\n        _this.props.onButtonClick(event, key);\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = ElementButtons.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        buttons = _this$props.buttons,\n        onButtonClick = _this$props.onButtonClick;\n    return createElement(StyledButtons, null, buttons.map(function (_ref, index) {\n      var text = _ref.text,\n          _key = _ref.key,\n          buttonProps = _objectWithoutPropertiesLoose(_ref, [\"text\", \"key\"]);\n\n      var key = _key !== undefined ? _key : index;\n      return createElement(MessageButton, _extends({\n        key: key,\n        label: text,\n        onClick: _this2.handleButtonClick(key)\n      }, buttonProps));\n    }));\n  };\n\n  return ElementButtons;\n}(Component);\n\nElementButtons.defaultProps = {\n  onButtonClick: noop\n};\n\nvar stopPropagation = function stopPropagation(event) {\n  return event.stopPropagation();\n}; // eslint-disable-next-line jsx-a11y/anchor-has-content\n\n\nvar Link = function Link(props) {\n  return createElement(\"a\", _extends({}, props, {\n    onClick: stopPropagation,\n    rel: \"nofollow noopener\",\n    target: \"_blank\"\n  }));\n};\n\nvar StyledImg = /*#__PURE__*/styled$1('img', {\n  target: \"e9ztsyy0\"\n})(\"display:block;width:100%;height:150px;object-fit:cover;\");\nvar StyledImageContainer = /*#__PURE__*/styled$1('div', {\n  target: \"e9ztsyy1\"\n})(\"width:100%;margin:0 auto;\");\n\nvar getThumbnailProps = function getThumbnailProps(url, srcset) {\n  var props = {\n    src: url\n  };\n\n  if (srcset !== undefined) {\n    props.srcSet = srcset;\n  }\n\n  return props;\n}; // eslint-disable-next-line react/no-multi-comp\n\n\nvar Image$1 = function Image(_ref) {\n  var url = _ref.url,\n      srcset = _ref.srcset,\n      props = _objectWithoutPropertiesLoose(_ref, [\"url\", \"srcset\"]);\n\n  return createElement(StyledMedia, props, createElement(StyledImageContainer, null, createElement(StyledImg, _extends({\n    alt: \"\"\n  }, getThumbnailProps(url, srcset)))));\n}; // eslint-disable-next-line react/no-multi-comp\n\n\nvar CardImage = function CardImage(_ref2) {\n  var link = _ref2.link,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"link\"]);\n\n  return link ? createElement(Link, {\n    href: link,\n    style: props.style\n  }, Image$1(props)) : Image$1(props);\n};\n\nCardImage.propTypes = {\n  link: string,\n  url: string.isRequired,\n  srcSet: string\n};\nvar minWidth = /*#__PURE__*/css(\"width:230px;\");\n\nvar Card = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Card, _React$Component);\n\n  function Card() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Card.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        card = _this$props.card,\n        onButtonClick = _this$props.onButtonClick,\n        restProps = _objectWithoutPropertiesLoose(_this$props, [\"card\", \"onButtonClick\"]);\n\n    return createElement(StyledBubble, _extends({\n      className: minWidth\n    }, restProps), card.image && createElement(CardImage, card.image), (card.title || card.subtitle) && createElement(MessageTitle, {\n      subtitle: card.subtitle,\n      title: card.title\n    }), card.buttons && createElement(ElementButtons, {\n      buttons: card.buttons,\n      onButtonClick: onButtonClick\n    }));\n  };\n\n  return Card;\n}(Component);\n\nvar StyledCarouselContainer = /*#__PURE__*/styled$1('div', {\n  target: \"epptpc30\"\n})(\"position:relative;width:100%;display:flex;\");\nvar StyledCardsContainer = /*#__PURE__*/styled$1('div', {\n  target: \"epptpc31\"\n})(\"display:flex;width:100%;overflow-x:\", function (props) {\n  return props.mobile ? 'auto' : 'hidden';\n}, \";-webkit-overflow-scrolling:touch;align-items:flex-start;-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}\");\nvar StyledCardContainer = /*#__PURE__*/styled$1('div', {\n  target: \"epptpc32\"\n})(\"flex-grow:0;flex-shrink:0;& + &{margin-left:0.5em;}\");\nvar ArrowButton = /*#__PURE__*/styled$1('button', {\n  target: \"epptpc33\"\n})(\"position:absolute;width:30px;height:30px;border-radius:50%;background:#fff;border:0;box-shadow:0 4px 12px rgba(0,0,0,0.3);outline:none;text-align:center;top:32%;display:flex;align-items:center;justify-content:center;padding:0;&:hover{cursor:pointer;}svg{display:inline;}\", function (_ref) {\n  var _ref2;\n\n  var variant = _ref.variant;\n  return _ref2 = {}, _ref2[variant] = '.5em', _ref2;\n}, \";\");\n\nvar distance = function distance(max) {\n  return function (percent) {\n    return percent * max;\n  };\n};\n\nvar animateScrollX = function animateScrollX(targetX, durationMs, element) {\n  var initialX = element.scrollLeft;\n  var diffX = targetX - initialX;\n  pipe(durationProgress(durationMs), map(easeOut), map(distance(diffX)), forEach(function (x) {\n    element.scrollLeft = initialX + x;\n  }));\n};\n\nvar calculateItemsWidth = function calculateItemsWidth(_ref3) {\n  var count = _ref3.count,\n      width = _ref3.width,\n      spacing = _ref3.spacing;\n  return count * width + (count - 1) * spacing;\n};\n\nvar Carousel = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Carousel, _React$PureComponent);\n\n  function Carousel() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      showScrollLeft: false,\n      showScrollRight: false\n    };\n\n    _this.getCardContainerRef = function (ref) {\n      _this.cardContainerRef = ref;\n    };\n\n    _this.showAppropriateArrowsIfNeeded = function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          cardContainerRef = _assertThisInitialize.cardContainerRef;\n\n      _this.setState({\n        showScrollLeft: !isScrolledToLeft(cardContainerRef),\n        showScrollRight: !isScrolledToRight(cardContainerRef)\n      });\n    };\n\n    _this.handleContainerScroll = throttle(200, _this.showAppropriateArrowsIfNeeded);\n    _this.scrollToDirection = memoize(function (direction) {\n      return function (event) {\n        event.stopPropagation();\n        var _this$cardContainerRe = _this.cardContainerRef,\n            currentX = _this$cardContainerRe.scrollLeft,\n            visibleWidth = _this$cardContainerRe.offsetWidth,\n            scrollWidth = _this$cardContainerRe.scrollWidth;\n        var calculatedX = currentX + direction * visibleWidth;\n        var clampedX = direction === 1 ? Math.min(calculatedX, scrollWidth - visibleWidth) : Math.max(calculatedX, 0);\n        var targetX = calculatedX === clampedX ? _this.findXToCenterNextBatch(calculatedX, direction) : clampedX;\n        animateScrollX(targetX, 300, _this.cardContainerRef);\n      };\n    });\n    return _this;\n  }\n\n  var _proto = Carousel.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.showAppropriateArrowsIfNeeded();\n    this._observer = new ResizeObserver(debounce(200, this.showAppropriateArrowsIfNeeded));\n\n    this._observer.observe(this.cardContainerRef);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this._observer.disconnect();\n  };\n\n  _proto.findXToCenterNextBatch = function findXToCenterNextBatch(targetX, direction) {\n    var _this$cardContainerRe2 = this.cardContainerRef,\n        childNodes = _this$cardContainerRe2.childNodes,\n        visibleWidth = _this$cardContainerRe2.offsetWidth;\n    var first = childNodes[0],\n        second = childNodes[1];\n\n    var _first$getBoundingCli = first.getBoundingClientRect(),\n        right = _first$getBoundingCli.right,\n        width = _first$getBoundingCli.width;\n\n    var spacing = second.getBoundingClientRect().left - right;\n    var itemsCount = Math.abs(targetX) / (width + spacing);\n    var completeItemsCount = direction === 1 ? Math.floor(itemsCount) : Math.ceil(itemsCount);\n    var obscuredX = completeItemsCount * (width + spacing);\n    var estimatedVisibleCount = Math.floor(visibleWidth / (width + spacing));\n    var estimateItemsWidth = calculateItemsWidth({\n      count: estimatedVisibleCount,\n      width: width,\n      spacing: spacing\n    });\n    var visibleCount = estimateItemsWidth + width <= visibleWidth ? estimatedVisibleCount + 1 : estimatedVisibleCount;\n    var itemsWidth = calculateItemsWidth({\n      count: visibleCount,\n      width: width,\n      spacing: spacing\n    });\n    var finalX = obscuredX + itemsWidth / 2 - visibleWidth / 2;\n    return finalX;\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        mobile = _this$props.mobile;\n    return createElement(StyledCarouselContainer, null, createElement(StyledCardsContainer, {\n      innerRef: this.getCardContainerRef,\n      mobile: mobile,\n      onScroll: this.handleContainerScroll\n    }, Children.map(children, function (child) {\n      return createElement(StyledCardContainer, null, child);\n    })), this.state.showScrollLeft && createElement(ArrowButton, {\n      onClick: this.scrollToDirection(-1),\n      variant: \"left\"\n    }, createElement(ArrowLeftIcon, null)), this.state.showScrollRight && createElement(ArrowButton, {\n      onClick: this.scrollToDirection(1),\n      variant: \"right\"\n    }, createElement(ArrowRightIcon, null)));\n  };\n\n  return Carousel;\n}(PureComponent);\n\nCarousel.defaultProps = {\n  mobile: typeof window !== 'undefined' ? /mobile/gi.test(navigator.userAgent) : false\n};\nexport { AddIcon, AgentBar, ArrowLeftIcon, ArrowRightIcon, AttachIcon, Avatar, StyledBubble as Bubble, Card, Carousel, ChatIcon, ChatList, ChatListItem, CheckboxOffIcon, CheckboxOnIcon, CloseIcon, StyledColumn as Column, ComposerSpy, EmailFilledIcon, EmailIcon, EmojiIcon, ExitIcon, Fill, Fit, FixedWrapper, HourglassIcon, Icon, StyledButton as IconButton, Image, MaximizeIcon, MenuVerticalIcon, Message, MessageButton, StyledButtons as MessageButtons, MessageGroup, MessageList$1 as MessageList, MessageListItem, MessageListSpy, StyledMedia as MessageMedia, StyledText as MessageText, MessageTitle, MinimizeIcon, MuteIcon, PersonIcon, QuickReplies, QuickReply, RadioOffIcon, RadioOnIcon, RateBadIcon, RateGoodIcon, StyledRow as Row, SearchIcon, SendButton$1 as SendButton, SendIcon, SubTitle as Subtitle, TextComposer, TextInput$1 as TextInput, TopLevelThemeProvider as ThemeProvider, Title, TitleBar, UnmuteIcon, css, cx, darkTheme, defaultTheme, elegantTheme, injectGlobal, keyframes, purpleTheme, styled$1 as styled };","map":{"version":3,"sources":["C:/Shaiharyaar Ahmad/Final Year Project/1.Main/socialsentispace_frontend_/node_modules/@livechat/ui-kit/dist/ui-kit.esm.js"],"names":["createEmotion","varsPlugin","_extends","React","React__default","createContext","createElement","Component","useState","Fragment","Children","cloneElement","PureComponent","createEmotionStyled","omitByIndexed","pickByIndexed","groupKeys","isObject","mergeAll","pickBy","compact","mapValuesIndexed","find","noop","throttle","memoize","findIndex","memoizeOne","once","values","pick","merge","mapKeys","mapValues","trimEnd","identity","debounce","_inheritsLoose","getDisplayName","ThemeProvider","ThemeProvider$1","withTheme","_objectWithoutPropertiesLoose","_assertThisInitialized","bool","func","node","string","shape","oneOf","oneOfType","arrayOf","number","ResizeObserver","isPropValid","CSSTransition","TransitionGroup","Transition","Toggle","darken","TextareaAutosize","easeOut","durationProgress","forEach","map","pipe","emotion","key","stylisPlugins","css","cx","injectGlobal","keyframes","mapCommonPropsToStyles","props","styles","flexFill","flexGrow","maxWidth","flexFit","process","env","NODE_ENV","console","warn","noShrink","flexShrink","ellipsis","whiteSpace","overflow","textOverflow","nowrap","preserveLines","textWrap","breakWord","wordWrap","overflowWrap","wordBreak","ThemeContext","_ref","value","children","theme","Provider","isComponentKey","charAt","toLowerCase","_isComponentKey","omitComponentKeys","bind","pickComponentKeys","empty","unpackRest","rest","unpackThemeDescription","themeDescription","vars","parsePropsDescriptions","componentName","propsDescriptions","activeDescriptions","prop","Object","keys","_componentDescription","propDescription","_unpackThemeDescripti","themeProps","components","componentDescription","mergeInnerTheme","_unpackThemeDescripti2","activePropsDescriptions","concat","filter","Boolean","withSubtheme","WrappedComponent","_class","_temp","wrappedName","__ui_kit_name","mergeThemes","_React$Component","WithSubtheme","apply","arguments","_proto","prototype","render","displayName","styled","registeredComponents","unpackCss","basedOnProps","activeProp","parseStyles","mapPropsToStyles","style","componentVars","undefined","styled$1","component","options","_options","displayType","section","factory","name","_len","length","Array","_key","styledComponent","defineProperty","toString","getBottomFoldPosition","element","scrollTop","clientHeight","getOffsetTop","getBoundingClientRect","top","window","pageYOffset","isAboveFold","container","isScrollOnBottom","threshold","Math","abs","scrollHeight","isScrollOnTop","isScrolledToRight","scrollLeft","clientWidth","scrollWidth","isScrolledToLeft","scrollToBottom","scrollToTop","allowScrollEvent","event","currentTarget","deltaY","scrollingDown","stopPropagation","containScrollInSubtree","allowed","preventDefault","ENTER_KEYCODE","wasEnterPressed","which","wasNewLineIntended","altKey","shiftKey","wasOnlyEnterPressed","withPinnedScroll","_ref$pinThreshold","pinThreshold","_ref$reverse","reverse","_temp2","WithPinnedScroll","_this","args","call","_unmounted","_getListRef","ref","_listRef","innerRef","_handleScroll","_assertThisInitialize","onScroll","_isAtTheBottom","onScrollBottom","onScrollTop","_handleWheel","onWheel","scrollProps","isScrollOnBottom$1","isScrollOnTop$1","componentDidMount","_this2","usePinnedScroll","_observer","observe","componentWillUnmount","disconnect","getSnapshotBeforeUpdate","shouldScrollToEdge","prevScrollTop","scrollTopFromBottomFold","componentDidUpdate","prevProps","prevState","snapshot","_maybeRestoreScrollPosition","_ref2","_this$props","_containScrollInSubtree","_onScrollBottom","_onScrollTop","_usePinnedScroll","propTypes","defaultProps","StyledList","target","ChatList","verticalAlign","alignItems","justify","justifyContent","flexDirection","StyledRow","mapPropsToStyles$1","background","active","StyledItem","ChatListItem","isRequired","StyledBar","AgentBar","mapPropsToStyles$2","color","fill","createStyledIcon","Icon","shouldForwardProp","StyledIcon","type","Add","_ref$styles","height","viewBox","width","fillRule","stroke","strokeWidth","d","AddIcon","ArrowLeft","transform","points","ArrowLeftIcon","ArrowRight","ArrowRightIcon","Attach","AttachIcon","Person","enableBackground","clipRule","PersonIcon","Chat","ChatIcon","CheckboxOff","x","y","rx","CheckboxOffIcon","CheckboxOn","CheckboxOnIcon","Close","CloseIcon","Email","fillOpacity","EmailIcon","EmailFilled","EmailFilledIcon","Emoji","EmojiIcon","Exit","ExitIcon","Hourglass","HourglassIcon","Maximize","MaximizeIcon","MenuVertical","MenuVerticalIcon","Minimize","MinimizeIcon","Mute","MuteIcon","Unmute","UnmuteIcon","RadioOff","cy","r","RadioOffIcon","RadioOn","version","RadioOnIcon","RateBad","RateBadIcon","RateGood","RateGoodIcon","Send","SendIcon","Search","SearchIcon","notRenderedStyle","Image","className","imgProps","_React$useState","imageStatus","setImageStatus","onLoad","onError","mapPropsToStyles$3","propsStyle","imageStyle","size","radius","fontSize","lineHeight","borderRadius","embeddedImageStyle","StyledAvatar","Avatar","imgUrl","letter","child","src","alt","forwardBorderRadiuses","flipBorderRadiusesHorizontally","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","mapPropsToStyles$4","isOwn","ovalBorderRadius","sharpBorderRadius","radiusType","borderRadiuses","StyledBubble","StyledColumn","mapPropsToStyles$5","shrink","StyledFill","Fill","mapPropsToStyles$6","StyledFit","Fit","StyledButton","disabled","onClick","_React$createContext","registerUnseenListItem","MessageListProvider","MessageListSpy","Consumer","autoInc","start","counter","nextId","StyledList$1","MessageList","_listItems","_registerUnseenListItem","listItemDescription","id","push","_unregisterUnseenListItem","index","itemId","splice","listRef","callSeenCallbacks","_context","listItem","onSeen","MessageList$1","MessageListItem","_unregisterFromMessageList","_registerInMessageList","register","seen","only","fade","Fade","classNames","timeout","mapPropsToStyles$7","horizontalAlign","StyledMessage","AuthorName","MessageMeta","Content","Time","Status","Message","authorName","deliveryStatus","date","showMetaOnClick","message","authorOpened","on","getElementTogglerProps","own","tabIndex","toggleAuthor","SubTitle","Title","warnOnce","StyledTitle","marginBottomClass","MessageTitle","title","subtitle","join","childs","StyledText","mapPropsToStyles$8","img","StyledMedia","borderColor","border","StyledButtons","getDarker","mapPropsToStyles$9","primary","darkerColor","StyledButton$1","href","rel","Button","label","StyledButton$2","MessageButton","handleClick","compactChildren","toArray","hasControlledProps","controlledList","ownProps","SINGLE","FIRST","LAST","hideMetaProps","mapPropsToStyles$a","StyledGroup","AvatarWrapper","minWidth","margin","messageGropContainerStyle","MessageGroup","avatar","avatarLetter","onlyFirstWithMeta","compactedChildren","childrenCount","count","hideMeta","darkTheme","IconButton","padding","Bubble","TitleBar","FixedWrapperMaximized","secondaryTextColor","TextComposer","TextInput","purpleTheme","boxShadow","marginBottom","elegantTheme","LIGHT_BLUE","WHITE","defaultTheme","marginRight","backgroundColor","bot","animationDuration","FixedWrapperMinimized","FixedWrapperRoot","position","textAlign","MessageButtons","MessageMedia","MessageText","QuickReply","inputColor","iconsColor","behaviour","parseTheme","componentKeys","TopLevelThemeProvider","_ref$theme","parsed","StyledReply","_handleClick","onSelect","warnOnce$1","StyledReplies","QuickReplies","_handleSelect","replies","reply","StyledBar$1","Title$1","leftIcons","rightIcons","_React$createContext$1","ComposerProvider","ComposerSpy","StyledComposer","state","_getValue","defaultValue","_handleButtonClick","sent","maybeSend","onButtonClick","_handleChange","_isControlled","setState","onValueChange","onChange","_handleInputRef","_inputRef","inputRef","_handleKeyDown","onKeyDown","_canSend","onSend","trim","prevValue","focus","contextValue","withComposer","mapComposerToProps","WithComposer","context","SendButton","icon","restProps","warnOnce$2","SendButton$1","sendButtonProps","StyledInput","_getRef","maxRows","placeholder","minRows","onHeightChange","warnOnce$3","TextInput$1","textInputProps","mapPropsToStyles$b","right","left","transition","opacity","StyledWrapper","mountOnEnter","unmountOnExit","minimize","Maximized","mapPropsToStyles$c","propsStyles","StyledWrapper$1","maximize","Minimized","mapPropsToStyles$d","StyledWrapper$2","defaultOn","maximizedOnInit","setOff","setOn","FixedWrapperImport","freeze","__proto__","Root","FixedWrapper","ElementButtons","_key2","handleButtonClick","buttons","text","buttonProps","Link","StyledImg","StyledImageContainer","getThumbnailProps","url","srcset","srcSet","Image$1","CardImage","link","Card","card","image","StyledCarouselContainer","StyledCardsContainer","mobile","StyledCardContainer","ArrowButton","variant","distance","max","percent","animateScrollX","targetX","durationMs","initialX","diffX","calculateItemsWidth","_ref3","spacing","Carousel","_React$PureComponent","showScrollLeft","showScrollRight","getCardContainerRef","cardContainerRef","showAppropriateArrowsIfNeeded","handleContainerScroll","scrollToDirection","direction","_this$cardContainerRe","currentX","visibleWidth","offsetWidth","calculatedX","clampedX","min","findXToCenterNextBatch","_this$cardContainerRe2","childNodes","first","second","_first$getBoundingCli","itemsCount","completeItemsCount","floor","ceil","obscuredX","estimatedVisibleCount","estimateItemsWidth","visibleCount","itemsWidth","finalX","test","navigator","userAgent","Column","Row","Subtitle"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,gBAA1B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,cAAP,IAAyBC,aAAzB,EAAwCC,aAAxC,EAAuDC,SAAvD,EAAkEC,QAAlE,EAA4EC,QAA5E,EAAsFC,QAAtF,EAAgGC,YAAhG,EAA8GC,aAA9G,QAAmI,OAAnI;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,SAASC,aAAT,EAAwBC,aAAxB,EAAuCC,SAAvC,EAAkDC,QAAlD,EAA4DC,QAA5D,EAAsEC,MAAtE,EAA8EC,OAA9E,EAAuFC,gBAAvF,EAAyGC,IAAzG,EAA+GC,IAA/G,EAAqHC,QAArH,EAA+HC,OAA/H,EAAwIC,SAAxI,EAAmJC,UAAnJ,EAA+JC,IAA/J,EAAqKC,MAArK,EAA6KC,IAA7K,EAAmLC,KAAnL,EAA0LC,OAA1L,EAAmMC,SAAnM,EAA8MC,OAA9M,EAAuNC,QAAvN,EAAiOC,QAAjO,QAAiP,sBAAjP;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,SAASC,cAAT,QAA+B,WAA/B;AACA,SAASC,aAAa,IAAIC,eAA1B,EAA2CC,SAA3C,QAA4D,iBAA5D;AACA,OAAOC,6BAAP,MAA0C,yDAA1C;AACA,OAAOC,sBAAP,MAAmC,kDAAnC;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,IAArB,EAA2BC,MAA3B,EAAmCC,KAAnC,EAA0CC,KAA1C,EAAiDC,SAAjD,EAA4DC,OAA5D,EAAqEC,MAArE,QAAmF,YAAnF;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,aAAT,EAAwBC,eAAxB,EAAyCC,UAAzC,QAA2D,wBAA3D;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,OAAOC,gBAAP,MAA6B,2BAA7B;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AAEA,IAAIC,OAAO,GAAGlE,aAAa,CAAC,EAAD,EAAK;AAC9BmE,EAAAA,GAAG,EAAE,IADyB;AAE9BC,EAAAA,aAAa,EAAE,CAACnE,UAAD;AAFe,CAAL,CAA3B;AAIA,IAAIoE,GAAG,GAAGH,OAAO,CAACG,GAAlB;AAAA,IACIC,EAAE,GAAGJ,OAAO,CAACI,EADjB;AAAA,IAEIC,YAAY,GAAGL,OAAO,CAACK,YAF3B;AAAA,IAGIC,SAAS,GAAGN,OAAO,CAACM,SAHxB;;AAKA,IAAIC,sBAAsB,GAAI,UAAUC,KAAV,EAAiB;AAC7C,MAAIC,MAAM,GAAG,EAAb;;AAEA,MAAID,KAAK,CAACE,QAAV,EAAoB;AAClBD,IAAAA,MAAM,CAACE,QAAP,GAAkB,CAAlB;AACAF,IAAAA,MAAM,CAACG,QAAP,GAAkB,MAAlB;AACD;;AAED,MAAIJ,KAAK,CAACK,OAAV,EAAmB;AACjB,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,IAA0CR,KAAK,CAACE,QAApD,EAA8D;AAC5D;AACAO,MAAAA,OAAO,CAACC,IAAR,CAAa,6DAAb;AACD;;AAEDT,IAAAA,MAAM,CAACE,QAAP,GAAkB,CAAlB;AACD;;AAED,MAAIH,KAAK,CAACW,QAAV,EAAoB;AAClBV,IAAAA,MAAM,CAACW,UAAP,GAAoB,CAApB;AACD;;AAED,MAAIZ,KAAK,CAACa,QAAV,EAAoB;AAClBZ,IAAAA,MAAM,CAACa,UAAP,GAAoB,QAApB;AACAb,IAAAA,MAAM,CAACc,QAAP,GAAkB,QAAlB;AACAd,IAAAA,MAAM,CAACe,YAAP,GAAsB,UAAtB;AACD;;AAED,MAAIhB,KAAK,CAACiB,MAAV,EAAkB;AAChBhB,IAAAA,MAAM,CAACa,UAAP,GAAoB,QAApB;AACD;;AAED,MAAId,KAAK,CAACkB,aAAV,EAAyB;AACvB,QAAIZ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,IAA0CR,KAAK,CAACiB,MAApD,EAA4D;AAC1D;AACAR,MAAAA,OAAO,CAACC,IAAR,CAAa,iEAAb;AACD;;AAEDT,IAAAA,MAAM,CAACa,UAAP,GAAoB,UAApB;AACD;;AAED,MAAId,KAAK,CAACmB,QAAV,EAAoB;AAClB,QAAIC,SAAS,GAAG,YAAhB;AACAnB,IAAAA,MAAM,CAACoB,QAAP,GAAkBD,SAAlB;AACAnB,IAAAA,MAAM,CAACqB,YAAP,GAAsBF,SAAtB;AACAnB,IAAAA,MAAM,CAACsB,SAAP,GAAmBH,SAAnB;AACD;;AAED,SAAOnB,MAAP;AACD,CAhDD;;AAkDA,IAAIuB,YAAY,GAAG7F,aAAa,EAAhC;;AAEA,IAAIkC,aAAa,GAAG,SAASA,aAAT,CAAuB4D,IAAvB,EAA6B;AAC/C,MAAIC,KAAK,GAAGD,IAAI,CAACC,KAAjB;AAAA,MACIC,QAAQ,GAAGF,IAAI,CAACE,QADpB,CAD+C,CAG/C;;AACA,SAAO/F,aAAa,CAACkC,eAAD,EAAkB;AACpC8D,IAAAA,KAAK,EAAEF;AAD6B,GAAlB,EAEjB9F,aAAa,CAAC4F,YAAY,CAACK,QAAd,EAAwB;AACtCH,IAAAA,KAAK,EAAEA;AAD+B,GAAxB,EAEbC,QAFa,CAFI,CAApB;AAKD,CATD;;AAWA,IAAIG,cAAc,GAAG,SAASA,cAAT,CAAwBrC,GAAxB,EAA6B;AAChD,SAAOA,GAAG,CAACsC,MAAJ,CAAW,CAAX,MAAkBtC,GAAG,CAACsC,MAAJ,CAAW,CAAX,EAAcC,WAAd,EAAzB;AACD,CAFD;;AAIA,IAAIC,eAAe,GAAG,SAASA,eAAT,CAAyBP,KAAzB,EAAgCjC,GAAhC,EAAqC;AACzD,SAAOqC,cAAc,CAACrC,GAAD,CAArB;AACD,CAFD;;AAIA,IAAIyC,iBAAiB,GAAG9F,aAAa,CAAC+F,IAAd,CAAmB,IAAnB,EAAyBF,eAAzB,CAAxB;AACA,IAAIG,iBAAiB,GAAG/F,aAAa,CAAC8F,IAAd,CAAmB,IAAnB,EAAyBF,eAAzB,CAAxB;AAEA,IAAII,KAAK,GAAG,EAAZ;;AAEA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBC,IAApB,EAA0B;AACzC,SAAOjG,SAAS,CAAC,UAAUmD,GAAV,EAAe;AAC9B,QAAIqC,cAAc,CAACrC,GAAD,CAAlB,EAAyB;AACvB,aAAO,YAAP;AACD;;AAED,QAAIlD,QAAQ,CAACgG,IAAI,CAAC9C,GAAD,CAAL,CAAZ,EAAyB;AACvB,aAAO,mBAAP;AACD;;AAED,WAAO,YAAP;AACD,GAVe,EAUb8C,IAVa,CAAhB;AAWD,CAZD;;AAcA,IAAIC,sBAAsB,GAAI,UAAUC,gBAAV,EAA4B;AACxD,MAAI,CAACA,gBAAL,EAAuB;AACrB,WAAOJ,KAAP;AACD;;AAED,MAAI1C,GAAG,GAAG8C,gBAAgB,CAAC9C,GAA3B;AAAA,MACI+C,IAAI,GAAGD,gBAAgB,CAACC,IAD5B;AAAA,MAEIH,IAAI,GAAGvE,6BAA6B,CAACyE,gBAAD,EAAmB,CAAC,KAAD,EAAQ,MAAR,CAAnB,CAFxC;;AAIA,SAAOjH,QAAQ,CAAC;AACdmE,IAAAA,GAAG,EAAEA,GADS;AAEd+C,IAAAA,IAAI,EAAEA;AAFQ,GAAD,EAGZJ,UAAU,CAACC,IAAD,CAHE,CAAf;AAID,CAbD;;AAeA,IAAII,sBAAsB,GAAG,SAASA,sBAAT,CAAgCC,aAAhC,EAA+C5C,KAA/C,EAAsD6C,iBAAtD,EAAyE;AACpG,MAAIA,iBAAiB,KAAK,KAAK,CAA/B,EAAkC;AAChCA,IAAAA,iBAAiB,GAAG,EAApB;AACD;;AAED,MAAIC,kBAAkB,GAAGzG,aAAa,CAAC,UAAUqF,KAAV,EAAiBqB,IAAjB,EAAuB;AAC5D,WAAO/C,KAAK,CAAC+C,IAAD,CAAZ;AACD,GAFqC,EAEnCF,iBAFmC,CAAtC;AAGA,SAAOG,MAAM,CAACC,IAAP,CAAYH,kBAAZ,EAAgCxD,GAAhC,CAAoC,UAAUyD,IAAV,EAAgB;AACzD,QAAIG,qBAAJ;;AAEA,QAAIC,eAAe,GAAGL,kBAAkB,CAACC,IAAD,CAAxC;;AAEA,QAAIK,qBAAqB,GAAGZ,sBAAsB,CAACW,eAAD,CAAlD;AAAA,QACIE,UAAU,GAAGD,qBAAqB,CAACC,UADvC;AAAA,QAEIC,UAAU,GAAGF,qBAAqB,CAACE,UAFvC;;AAIA,QAAI,CAACD,UAAL,EAAiB;AACf,aAAOC,UAAP;AACD;;AAED,QAAIC,oBAAoB,IAAIL,qBAAqB,GAAG,EAAxB,EAA4BA,qBAAqB,CAACN,aAAD,CAArB,GAAuCS,UAAnE,EAA+EH,qBAAnF,CAAxB;;AAEA,QAAI,CAACI,UAAL,EAAiB;AACf,aAAOC,oBAAP;AACD;;AAED,WAAO/H,QAAQ,CAAC,EAAD,EAAK+H,oBAAL,EAA2B,EAA3B,EAA+BD,UAA/B,CAAf;AACD,GApBM,CAAP;AAqBD,CA7BD;;AA+BA,IAAIE,eAAe,GAAG,SAASA,eAAT,CAAyBZ,aAAzB,EAAwC;AAC5D,SAAO,UAAU5C,KAAV,EAAiB;AACtB,WAAO,UAAU4B,KAAV,EAAiB;AACtB,UAAI2B,oBAAoB,GAAG3B,KAAK,CAACgB,aAAD,CAAhC;;AAEA,UAAI,CAACW,oBAAL,EAA2B;AACzB,eAAO3B,KAAP;AACD;;AAED,UAAI6B,sBAAsB,GAAGjB,sBAAsB,CAACe,oBAAD,CAAnD;AAAA,UACIV,iBAAiB,GAAGY,sBAAsB,CAACZ,iBAD/C;AAAA,UAEIS,UAAU,GAAGG,sBAAsB,CAACH,UAFxC;;AAIA,UAAI,CAACT,iBAAD,IAAsB,CAACS,UAA3B,EAAuC;AACrC,eAAO1B,KAAP;AACD;;AAED,UAAI8B,uBAAuB,GAAGf,sBAAsB,CAACC,aAAD,EAAgB5C,KAAhB,EAAuB6C,iBAAvB,CAApD;AACA,aAAOrG,QAAQ,CAAC,CAACoF,KAAD,EAAQ0B,UAAR,EAAoBK,MAApB,CAA2BD,uBAA3B,EAAoDE,MAApD,CAA2DC,OAA3D,CAAD,CAAf;AACD,KAjBD;AAkBD,GAnBD;AAoBD,CArBD;;AAuBA,IAAIC,YAAY,GAAI,UAAUC,gBAAV,EAA4B;AAC9C,MAAIC,MAAJ,EAAYC,KAAZ;;AAEA,MAAIC,WAAW,GAAGH,gBAAgB,CAACI,aAAnC;AACA,MAAIC,WAAW,GAAGZ,eAAe,CAACU,WAAD,CAAjC;AACA,SAAOD,KAAK,GAAGD,MAAM,GACrB,aACA,UAAUK,gBAAV,EAA4B;AAC1B1G,IAAAA,cAAc,CAAC2G,YAAD,EAAeD,gBAAf,CAAd;;AAEA,aAASC,YAAT,GAAwB;AACtB,aAAOD,gBAAgB,CAACE,KAAjB,CAAuB,IAAvB,EAA6BC,SAA7B,KAA2C,IAAlD;AACD;;AAED,QAAIC,MAAM,GAAGH,YAAY,CAACI,SAA1B;;AAEAD,IAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,UAAI3E,KAAK,GAAG,KAAKA,KAAjB;AACA,aAAOpE,aAAa,CAACiC,aAAD,EAAgB;AAClC6D,QAAAA,KAAK,EAAE0C,WAAW,CAACpE,KAAD;AADgB,OAAhB,EAEjBpE,aAAa,CAACmI,gBAAD,EAAmB/D,KAAnB,CAFI,CAApB;AAGD,KALD;;AAOA,WAAOsE,YAAP;AACD,GAjBD,CAiBEzI,SAjBF,CAFO,EAmBOmI,MAAM,CAACY,WAAP,GAAqB,kBAAkBV,WAAlB,GAAgC,GAnB5D,EAmBiED,KAnBxE;AAoBD,CAzBD;;AA2BA,IAAIY,MAAM,GAAG1I,mBAAmB,CAACqD,OAAD,EAAU/D,KAAV,CAAhC;AACA,IAAIqJ,oBAAoB,GAAG,EAA3B;;AAEA,IAAIC,SAAS,GAAG,SAASA,SAAT,CAAmB/E,KAAnB,EAA0BL,GAA1B,EAA+B;AAC7C,MAAIqF,YAAY,GAAGvI,MAAM,CAACF,QAAD,EAAWoD,GAAX,CAAzB;;AAEA,MAAIqD,MAAM,CAACC,IAAP,CAAY+B,YAAZ,MAA8B,CAAlC,EAAqC;AACnC,WAAOrF,GAAP;AACD;;AAED,SAAOjD,OAAO,CAACC,gBAAgB,CAAC,UAAU+E,KAAV,EAAiBjC,GAAjB,EAAsB;AACpD,QAAI,CAAClD,QAAQ,CAACmF,KAAD,CAAb,EAAsB;AACpB,aAAOA,KAAP;AACD;;AAED,QAAIjC,GAAG,CAAC,CAAD,CAAH,KAAW,GAAf,EAAoB;AAClB,aAAOsF,SAAS,CAAC/E,KAAD,EAAQ0B,KAAR,CAAhB;AACD;;AAED,QAAIuD,UAAU,GAAGrI,IAAI,CAAC,UAAUmG,IAAV,EAAgB;AACpC,aAAO/C,KAAK,CAAC+C,IAAD,CAAZ;AACD,KAFoB,EAElBC,MAAM,CAACC,IAAP,CAAYvB,KAAZ,CAFkB,CAArB,CAToD,CAW5B;AACxB;AACA;;AAEA,WAAOA,KAAK,CAACuD,UAAD,CAAL,IAAqBvD,KAAK,CAAC,SAAD,CAAjC;AACD,GAhB8B,EAgB5B/B,GAhB4B,CAAjB,CAAd;AAiBD,CAxBD;;AA0BA,IAAIuF,WAAW,GAAG,SAASA,WAAT,CAAqBlF,KAArB,EAA4B4C,aAA5B,EAA2CuC,gBAA3C,EAA6D;AAC7E,MAAIvD,KAAK,GAAG5B,KAAK,CAAC4B,KAAlB;AAAA,MACIwD,KAAK,GAAGpF,KAAK,CAACoF,KADlB;;AAGA,MAAIhC,qBAAqB,GAAGZ,sBAAsB,CAACZ,KAAK,CAACgB,aAAD,CAAN,CAAlD;AAAA,MACIjD,GAAG,GAAGyD,qBAAqB,CAACzD,GADhC;AAAA,MAEI0F,aAAa,GAAGjC,qBAAqB,CAACV,IAF1C;AAAA,MAGIW,UAAU,GAAGD,qBAAqB,CAACC,UAHvC;;AAKA,MAAIX,IAAI,GAAG2C,aAAa,GAAG7J,QAAQ,CAAC,EAAD,EAAKoG,KAAK,CAACc,IAAX,EAAiB,EAAjB,EAAqB2C,aAArB,CAAX,GAAiDzD,KAAK,CAACc,IAA/E,CAT6E,CASQ;;AAErF,SAAO,CAACA,IAAD,EAAO,OAAOyC,gBAAP,KAA4B,UAA5B,IAA0C9B,UAAU,KAAKiC,SAAzD,IAAsEH,gBAAgB,CAAC9B,UAAD,CAA7F,EAA2G1D,GAAG,IAAIoF,SAAS,CAAC/E,KAAD,EAAQL,GAAR,CAA3H,EAAyII,sBAAsB,CAACC,KAAD,CAA/J,EAAwK,OAAOmF,gBAAP,KAA4B,UAA5B,IAA0CA,gBAAgB,CAACnF,KAAD,CAAlO,EAA2OoF,KAA3O,CAAP;AACD,CAZD;;AAcA,IAAIG,QAAQ,GAAI,UAAUC,SAAV,EAAqBC,OAArB,EAA8B;AAC5C,MAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AACtBA,IAAAA,OAAO,GAAG,EAAV;AACD;;AAED,MAAIC,QAAQ,GAAGD,OAAf;AAAA,MACIb,WAAW,GAAGc,QAAQ,CAACd,WAD3B;AAAA,MAEIe,WAAW,GAAGD,QAAQ,CAACC,WAF3B;AAAA,MAGIR,gBAAgB,GAAGO,QAAQ,CAACP,gBAHhC;;AAKA,MAAI7E,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCoE,WAA7C,EAA0D;AACxD,QAAIE,oBAAoB,CAACF,WAAD,CAAxB,EAAuC;AACrCnE,MAAAA,OAAO,CAACC,IAAR,CAAa,OAAOkE,WAAP,GAAqB,yDAAlC;AACD;;AAEDE,IAAAA,oBAAoB,CAACF,WAAD,CAApB,GAAoC,IAApC;AACD;;AAED,MAAItE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyC,CAACoE,WAA1C,IAAyDa,OAAO,CAACG,OAArE,EAA8E;AAC5EnF,IAAAA,OAAO,CAACC,IAAR,CAAa,2DAAb;AACD;;AAED,MAAImF,OAAO,GAAGhB,MAAM,CAACW,SAAD,EAAYC,OAAZ,CAApB;AACA,SAAO,YAAY;AACjB,QAAIK,IAAI,GAAGlB,WAAW,IAAIe,WAAf,IAA8B,IAAzC;;AAEA,SAAK,IAAII,IAAI,GAAGvB,SAAS,CAACwB,MAArB,EAA6B/F,MAAM,GAAG,IAAIgG,KAAJ,CAAUF,IAAV,CAAtC,EAAuDG,IAAI,GAAG,CAAnE,EAAsEA,IAAI,GAAGH,IAA7E,EAAmFG,IAAI,EAAvF,EAA2F;AACzFjG,MAAAA,MAAM,CAACiG,IAAD,CAAN,GAAe1B,SAAS,CAAC0B,IAAD,CAAxB;AACD;;AAED,QAAIC,eAAe,GAAGN,OAAO,CAACtB,KAAR,CAAc,KAAK,CAAnB,EAAsBtE,MAAM,CAAC0D,MAAP,CAAc,CAAC,UAAU3D,KAAV,EAAiB;AAC1E,aAAOkF,WAAW,CAAClF,KAAD,EAAQ8F,IAAR,EAAcX,gBAAd,CAAlB;AACD,KAFyD,CAAd,CAAtB,CAAtB;AAGAgB,IAAAA,eAAe,CAAChC,aAAhB,GAAgC2B,IAAhC;AACA,WAAOL,OAAO,CAACG,OAAR,GAAkB5C,MAAM,CAACoD,cAAP,CAAsBtC,YAAY,CAACqC,eAAD,CAAlC,EAAqD,UAArD,EAAiE;AACxFzE,MAAAA,KAAK,EAAEyE,eAAe,CAACE;AADiE,KAAjE,CAAlB,GAEFF,eAFL;AAGD,GAdD;AAeD,CAtCD;;AAwCA,IAAIG,qBAAqB,GAAG,SAASA,qBAAT,CAA+BC,OAA/B,EAAwC;AAClE,SAAOA,OAAO,CAACC,SAAR,GAAoBD,OAAO,CAACE,YAAnC;AACD,CAFD;;AAGA,IAAIC,YAAY,GAAG,SAASA,YAAT,CAAsBH,OAAtB,EAA+B;AAChD,SAAOA,OAAO,CAACI,qBAAR,GAAgCC,GAAhC,GAAsCC,MAAM,CAACC,WAApD;AACD,CAFD;;AAIA,IAAIC,WAAW,GAAG,SAASA,WAAT,CAAqBC,SAArB,EAAgCT,OAAhC,EAAyC;AACzD,SAAOG,YAAY,CAACH,OAAD,CAAZ,GAAwBG,YAAY,CAACM,SAAD,CAApC,GAAkDT,OAAO,CAACE,YAA1D,IAA0EO,SAAS,CAACP,YAA3F;AACD,CAFD;;AAGA,IAAIQ,gBAAgB,GAAG,SAASA,gBAAT,CAA0B7I,IAA1B,EAAgC8I,SAAhC,EAA2C;AAChE,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;AACxBA,IAAAA,SAAS,GAAG,CAAZ;AACD;;AAED,SAAOC,IAAI,CAACC,GAAL,CAAShJ,IAAI,CAACoI,SAAL,GAAiBpI,IAAI,CAACqI,YAAtB,GAAqCrI,IAAI,CAACiJ,YAAnD,KAAoEH,SAA3E;AACD,CAND;;AAOA,IAAII,aAAa,GAAG,SAASA,aAAT,CAAuBlJ,IAAvB,EAA6B8I,SAA7B,EAAwC;AAC1D,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;AACxBA,IAAAA,SAAS,GAAG,CAAZ;AACD;;AAED,SAAO9I,IAAI,CAACoI,SAAL,IAAkBU,SAAzB;AACD,CAND;;AAOA,IAAIK,iBAAiB,GAAG,SAASA,iBAAT,CAA2BhB,OAA3B,EAAoC;AAC1D,SAAOY,IAAI,CAACC,GAAL,CAASb,OAAO,CAACiB,UAAR,GAAqBjB,OAAO,CAACkB,WAA7B,GAA2ClB,OAAO,CAACmB,WAA5D,KAA4E,CAAnF;AACD,CAFD;;AAGA,IAAIC,gBAAgB,GAAG,SAASA,gBAAT,CAA0BpB,OAA1B,EAAmC;AACxD,SAAOA,OAAO,CAACiB,UAAR,IAAsB,CAA7B;AACD,CAFD;;AAGA,IAAII,cAAc,GAAG,SAASA,cAAT,CAAwBrB,OAAxB,EAAiC;AACpDA,EAAAA,OAAO,CAACC,SAAR,GAAoBD,OAAO,CAACc,YAA5B;AACD,CAFD;;AAGA,IAAIQ,WAAW,GAAG,SAASA,WAAT,CAAqBtB,OAArB,EAA8B;AAC9CA,EAAAA,OAAO,CAACC,SAAR,GAAoB,CAApB;AACD,CAFD;;AAIA,IAAIsB,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,KAA1B,EAAiC;AACtD,MAAIC,aAAa,GAAGD,KAAK,CAACC,aAA1B;AAAA,MACIC,MAAM,GAAGF,KAAK,CAACE,MADnB;AAEA,MAAIzB,SAAS,GAAGwB,aAAa,CAACxB,SAA9B;AAAA,MACIa,YAAY,GAAGW,aAAa,CAACX,YADjC;AAEA,MAAIa,aAAa,GAAGD,MAAM,GAAG,CAA7B;;AAEA,MAAIC,aAAa,IAAID,MAAM,GAAGZ,YAAY,GAAGf,qBAAqB,CAAC0B,aAAD,CAAlE,EAAmF;AACjFA,IAAAA,aAAa,CAACxB,SAAd,GAA0Ba,YAA1B;AACA,WAAO,KAAP;AACD;;AAED,MAAI,CAACa,aAAD,IAAkB,CAACD,MAAD,GAAUzB,SAAhC,EAA2C;AACzCwB,IAAAA,aAAa,CAACxB,SAAd,GAA0B,CAA1B;AACA,WAAO,KAAP;AACD;;AAEDuB,EAAAA,KAAK,CAACI,eAAN;AACA,SAAO,IAAP;AACD,CAnBD;;AAoBA,IAAIC,sBAAsB,GAAG,SAASA,sBAAT,CAAgCL,KAAhC,EAAuC;AAClE,MAAIM,OAAO,GAAGP,gBAAgB,CAACC,KAAD,CAA9B;;AAEA,MAAIM,OAAJ,EAAa;AACX;AACD;;AAEDN,EAAAA,KAAK,CAACO,cAAN;AACD,CARD;;AASA,IAAIC,aAAa,GAAG,EAApB;;AACA,IAAIC,eAAe,GAAG,SAASA,eAAT,CAAyBT,KAAzB,EAAgC;AACpD,SAAOA,KAAK,CAACU,KAAN,KAAgBF,aAAvB;AACD,CAFD;;AAGA,IAAIG,kBAAkB,GAAG,SAASA,kBAAT,CAA4BX,KAA5B,EAAmC;AAC1D,SAAOS,eAAe,CAACT,KAAD,CAAf,KAA2BA,KAAK,CAACY,MAAN,IAAgBZ,KAAK,CAACa,QAAjD,CAAP;AACD,CAFD;;AAGA,IAAIC,mBAAmB,GAAG,SAASA,mBAAT,CAA6Bd,KAA7B,EAAoC;AAC5D,SAAOS,eAAe,CAACT,KAAD,CAAf,IAA0B,CAACA,KAAK,CAACY,MAAjC,IAA2C,CAACZ,KAAK,CAACa,QAAzD;AACD,CAFD;;AAIA,IAAIE,gBAAgB,GAAI,UAAU7E,KAAV,EAAiB;AACvC,MAAIxC,IAAI,GAAGwC,KAAK,KAAK,KAAK,CAAf,GAAmB,EAAnB,GAAwBA,KAAnC;AAAA,MACI8E,iBAAiB,GAAGtH,IAAI,CAACuH,YAD7B;AAAA,MAEIA,YAAY,GAAGD,iBAAiB,KAAK,KAAK,CAA3B,GAA+B,EAA/B,GAAoCA,iBAFvD;AAAA,MAGIE,YAAY,GAAGxH,IAAI,CAACyH,OAHxB;AAAA,MAIIA,OAAO,GAAGD,YAAY,KAAK,KAAK,CAAtB,GAA0B,KAA1B,GAAkCA,YAJhD;;AAMA,SAAO,UAAUlF,gBAAV,EAA4B;AACjC,QAAIC,MAAJ,EAAYmF,MAAZ;;AAEA,WAAOA,MAAM,GAAGnF,MAAM,GACtB,aACA,UAAUK,gBAAV,EAA4B;AAC1B1G,MAAAA,cAAc,CAACyL,gBAAD,EAAmB/E,gBAAnB,CAAd;;AAEA,eAAS+E,gBAAT,GAA4B;AAC1B,YAAIC,KAAJ;;AAEA,aAAK,IAAItD,IAAI,GAAGvB,SAAS,CAACwB,MAArB,EAA6BsD,IAAI,GAAG,IAAIrD,KAAJ,CAAUF,IAAV,CAApC,EAAqDG,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGH,IAA3E,EAAiFG,IAAI,EAArF,EAAyF;AACvFoD,UAAAA,IAAI,CAACpD,IAAD,CAAJ,GAAa1B,SAAS,CAAC0B,IAAD,CAAtB;AACD;;AAEDmD,QAAAA,KAAK,GAAGhF,gBAAgB,CAACkF,IAAjB,CAAsBhF,KAAtB,CAA4BF,gBAA5B,EAA8C,CAAC,IAAD,EAAOV,MAAP,CAAc2F,IAAd,CAA9C,KAAsE,IAA9E;AACAD,QAAAA,KAAK,CAACG,UAAN,GAAmB,KAAnB;;AAEAH,QAAAA,KAAK,CAACI,WAAN,GAAoB,UAAUC,GAAV,EAAe;AACjCL,UAAAA,KAAK,CAACM,QAAN,GAAiBD,GAAjB;;AAEAL,UAAAA,KAAK,CAACrJ,KAAN,CAAY4J,QAAZ,CAAqBF,GAArB;AACD,SAJD;;AAMAL,QAAAA,KAAK,CAACQ,aAAN,GAAsB/M,QAAQ,CAAC,GAAD,EAAM,UAAUiL,KAAV,EAAiB;AACnD,cAAIsB,KAAK,CAACG,UAAV,EAAsB;AACpB;AACD;;AAED,cAAIM,qBAAqB,GAAG7L,sBAAsB,CAACoL,KAAD,CAAlD;AAAA,cACIrJ,KAAK,GAAG8J,qBAAqB,CAAC9J,KADlC;AAAA,cAEI5B,IAAI,GAAG0L,qBAAqB,CAACH,QAFjC;;AAIA3J,UAAAA,KAAK,CAAC+J,QAAN,CAAehC,KAAf;;AAEA,cAAId,gBAAgB,CAAC7I,IAAD,EAAO4K,YAAP,CAApB,EAA0C;AACxCK,YAAAA,KAAK,CAACW,cAAN,GAAuB,IAAvB;AACAhK,YAAAA,KAAK,CAACiK,cAAN,CAAqBlC,KAArB;AACA;AACD;;AAEDsB,UAAAA,KAAK,CAACW,cAAN,GAAuB,KAAvB;;AAEA,cAAI1C,aAAa,CAAClJ,IAAD,EAAO4K,YAAP,CAAjB,EAAuC;AACrChJ,YAAAA,KAAK,CAACkK,WAAN,CAAkBnC,KAAlB;AACA;AACD;AACF,SAvB6B,CAA9B;;AAyBAsB,QAAAA,KAAK,CAACc,YAAN,GAAqB,UAAUpC,KAAV,EAAiB;AACpC,cAAIsB,KAAK,CAACrJ,KAAN,CAAYoI,sBAAhB,EAAwC;AACtCA,YAAAA,sBAAsB,CAACL,KAAD,CAAtB;AACD;;AAEDsB,UAAAA,KAAK,CAACrJ,KAAN,CAAYoK,OAAZ,CAAoBrC,KAApB;AACD,SAND;;AAQAsB,QAAAA,KAAK,CAACzB,cAAN,GAAuB,YAAY;AACjCA,UAAAA,cAAc,CAACyB,KAAK,CAACM,QAAP,CAAd;AACAN,UAAAA,KAAK,CAACW,cAAN,GAAuB,IAAvB;AACD,SAHD;;AAKAX,QAAAA,KAAK,CAACxB,WAAN,GAAoB,YAAY;AAC9BA,UAAAA,WAAW,CAACwB,KAAK,CAACM,QAAP,CAAX;AACD,SAFD;;AAIAN,QAAAA,KAAK,CAACgB,WAAN,GAAoB;AAClBpD,UAAAA,gBAAgB,EAAE,SAASqD,kBAAT,GAA8B;AAC9C,mBAAOrD,gBAAgB,CAACoC,KAAK,CAACM,QAAP,EAAiBX,YAAjB,CAAvB;AACD,WAHiB;AAIlB1B,UAAAA,aAAa,EAAE,SAASiD,eAAT,GAA2B;AACxC,mBAAOjD,aAAa,CAAC+B,KAAK,CAACM,QAAP,EAAiBX,YAAjB,CAApB;AACD,WANiB;AAOlBpB,UAAAA,cAAc,EAAEyB,KAAK,CAACzB,cAPJ;AAQlBC,UAAAA,WAAW,EAAEwB,KAAK,CAACxB;AARD,SAApB;AAUA,eAAOwB,KAAP;AACD;;AAED,UAAI5E,MAAM,GAAG2E,gBAAgB,CAAC1E,SAA9B;;AAEAD,MAAAA,MAAM,CAAC+F,iBAAP,GAA2B,SAASA,iBAAT,GAA6B;AACtD,YAAIC,MAAM,GAAG,IAAb;;AAEA,YAAI,CAAC,KAAKzK,KAAL,CAAW0K,eAAhB,EAAiC;AAC/B;AACD;;AAED,aAAKC,SAAL,GAAiB,IAAIhM,cAAJ,CAAmB,YAAY;AAC9C,cAAI,CAAC8L,MAAM,CAACT,cAAZ,EAA4B;AAC1B;AACD;;AAEDS,UAAAA,MAAM,CAAC7C,cAAP;AACD,SANgB,CAAjB;;AAQA,aAAK+C,SAAL,CAAeC,OAAf,CAAuB,KAAKjB,QAA5B;;AAEA,YAAIT,OAAJ,EAAa;AACX;AACD;;AAED,aAAKtB,cAAL;AACD,OAtBD;;AAwBAnD,MAAAA,MAAM,CAACoG,oBAAP,GAA8B,SAASA,oBAAT,GAAgC;AAC5D,aAAKrB,UAAL,GAAkB,IAAlB;;AAEA,YAAI,KAAKmB,SAAT,EAAoB;AAClB,eAAKA,SAAL,CAAeG,UAAf;AACD;AACF,OAND;;AAQArG,MAAAA,MAAM,CAACsG,uBAAP,GAAiC,SAASA,uBAAT,GAAmC;AAClE,YAAI,CAAC,KAAK/K,KAAL,CAAW0K,eAAhB,EAAiC;AAC/B,iBAAO,IAAP;AACD;;AAED,YAAItM,IAAI,GAAG,KAAKuL,QAAhB;AACA,eAAOT,OAAO,GAAG;AACf8B,UAAAA,kBAAkB,EAAE1D,aAAa,CAAClJ,IAAD,EAAO4K,YAAP;AADlB,SAAH,GAEV;AACFgC,UAAAA,kBAAkB,EAAE/D,gBAAgB,CAAC7I,IAAD,EAAO4K,YAAP,CADlC;AAEFiC,UAAAA,aAAa,EAAE7M,IAAI,CAACoI,SAFlB;AAGF0E,UAAAA,uBAAuB,EAAE/D,IAAI,CAACC,GAAL,CAAShJ,IAAI,CAACoI,SAAL,GAAiBpI,IAAI,CAACiJ,YAA/B;AAHvB,SAFJ;AAOD,OAbD;;AAeA5C,MAAAA,MAAM,CAAC0G,kBAAP,GAA4B,SAASA,kBAAT,CAA4BC,SAA5B,EAAuCC,SAAvC,EAAkDC,QAAlD,EAA4D;AACtF,YAAI,CAAC,KAAKtL,KAAL,CAAW0K,eAAhB,EAAiC;AAC/B;AACD;;AAED,YAAIY,QAAQ,CAACN,kBAAb,EAAiC;AAC/B,cAAI9B,OAAJ,EAAa;AACXrB,YAAAA,WAAW,CAAC,KAAK8B,QAAN,CAAX;AACD,WAFD,MAEO;AACL,iBAAK/B,cAAL;AACD;;AAED;AACD;;AAED,aAAKoC,cAAL,GAAsB,KAAtB;;AAEA,YAAI,CAACd,OAAL,EAAc;AACZ,eAAKqC,2BAAL,CAAiCD,QAAjC;AACD;AACF,OApBD;;AAsBA7G,MAAAA,MAAM,CAAC8G,2BAAP,GAAqC,SAASA,2BAAT,CAAqCC,KAArC,EAA4C;AAC/E,YAAIP,aAAa,GAAGO,KAAK,CAACP,aAA1B;AAAA,YACIC,uBAAuB,GAAGM,KAAK,CAACN,uBADpC;AAEA,YAAI9M,IAAI,GAAG,KAAKuL,QAAhB,CAH+E,CAGrD;AAC1B;;AAEA,YAAIvL,IAAI,CAACoI,SAAL,KAAmByE,aAAnB,IAAoCA,aAAa,KAAK,CAA1D,EAA6D;AAC3D;AACD;;AAED7M,QAAAA,IAAI,CAACoI,SAAL,GAAiBW,IAAI,CAACC,GAAL,CAAS8D,uBAAuB,GAAG9M,IAAI,CAACiJ,YAAxC,CAAjB;AACD,OAXD;;AAaA5C,MAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,YAAI8G,WAAW,GAAG,KAAKzL,KAAvB;AAAA,YACI0L,uBAAuB,GAAGD,WAAW,CAACrD,sBAD1C;AAAA,YAEIuD,eAAe,GAAGF,WAAW,CAACxB,cAFlC;AAAA,YAGI2B,YAAY,GAAGH,WAAW,CAACvB,WAH/B;AAAA,YAII2B,gBAAgB,GAAGJ,WAAW,CAACf,eAJnC;AAAA,YAKI1K,KAAK,GAAGhC,6BAA6B,CAACyN,WAAD,EAAc,CAAC,wBAAD,EAA2B,gBAA3B,EAA6C,aAA7C,EAA4D,iBAA5D,CAAd,CALzC;;AAOA,eAAO7P,aAAa,CAACmI,gBAAD,EAAmBvI,QAAQ,CAAC,EAAD,EAAKwE,KAAL,EAAY,KAAKqK,WAAjB,EAA8B;AAC3ET,UAAAA,QAAQ,EAAE,KAAKH,WAD4D;AAE3EM,UAAAA,QAAQ,EAAE,KAAKF,aAF4D;AAG3EO,UAAAA,OAAO,EAAE,KAAKD;AAH6D,SAA9B,CAA3B,CAApB;AAKD,OAbD;;AAeA,aAAOf,gBAAP;AACD,KA9KD,CA8KEvN,SA9KF,CAFO,EAgLOmI,MAAM,CAACY,WAAP,GAAqB,sBAAsBhH,cAAc,CAACmG,gBAAD,CAApC,GAAyD,GAhLrF,EAgL0FC,MAAM,CAAC8H,SAAP,GAAmB;AAClH1D,MAAAA,sBAAsB,EAAElK,IAD0F;AAElH0L,MAAAA,QAAQ,EAAEzL,IAFwG;AAGlH4L,MAAAA,QAAQ,EAAE5L,IAHwG;AAIlH8L,MAAAA,cAAc,EAAE9L,IAJkG;AAKlH+L,MAAAA,WAAW,EAAE/L,IALqG;AAMlHiM,MAAAA,OAAO,EAAEjM,IANyG;AAOlHuM,MAAAA,eAAe,EAAExM;AAPiG,KAhL7G,EAwLJ8F,MAAM,CAAC+H,YAAP,GAAsB;AACvB3D,MAAAA,sBAAsB,EAAE,KADD;AAEvBwB,MAAAA,QAAQ,EAAE/M,IAFa;AAGvBoN,MAAAA,cAAc,EAAEpN,IAHO;AAIvBqN,MAAAA,WAAW,EAAErN,IAJU;AAKvBuN,MAAAA,OAAO,EAAEvN,IALc;AAMvBkN,MAAAA,QAAQ,EAAElN,IANa;AAOvB6N,MAAAA,eAAe,EAAE;AAPM,KAxLlB,EAgMJvB,MAhMH;AAiMD,GApMD;AAqMD,CA5MD;;AA8MA,IAAI6C,UAAU,GACd,aACAzG,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,UADC;AAEdgB,EAAAA,OAAO,EAAE,IAFK;AAGdqG,EAAAA,MAAM,EAAE;AAHM,CAAR,CAAR,EAFA;AAOA,IAAIC,QAAQ,GAAGpD,gBAAgB,CAAC;AAC9BI,EAAAA,OAAO,EAAE;AADqB,CAAD,CAAhB,CAEZ8C,UAFY,CAAf;;AAIA,IAAI7G,gBAAgB,GAAG,SAASA,gBAAT,CAA0BnF,KAA1B,EAAiC;AACtD,MAAIC,MAAM,GAAG,EAAb;;AAEA,MAAID,KAAK,CAACmM,aAAV,EAAyB;AACvB,QAAInM,KAAK,CAACmM,aAAN,KAAwB,KAA5B,EAAmC;AACjClM,MAAAA,MAAM,CAACmM,UAAP,GAAoB,YAApB;AACD,KAFD,MAEO,IAAIpM,KAAK,CAACmM,aAAN,KAAwB,QAA5B,EAAsC;AAC3ClM,MAAAA,MAAM,CAACmM,UAAP,GAAoB,UAApB;AACD,KAFM,MAEA;AACLnM,MAAAA,MAAM,CAACmM,UAAP,GAAoBpM,KAAK,CAACmM,aAA1B;AACD;AACF;;AAED,MAAInM,KAAK,CAACqM,OAAV,EAAmB;AACjB,QAAIrM,KAAK,CAACqM,OAAN,KAAkB,IAAtB,EAA4B;AAC1BpM,MAAAA,MAAM,CAACqM,cAAP,GAAwB,eAAxB;AACD,KAFD,MAEO,IAAItM,KAAK,CAACqM,OAAN,KAAkB,MAAtB,EAA8B;AACnCpM,MAAAA,MAAM,CAACqM,cAAP,GAAwB,YAAxB;AACD,KAFM,MAEA,IAAItM,KAAK,CAACqM,OAAN,KAAkB,OAAtB,EAA+B;AACpCpM,MAAAA,MAAM,CAACqM,cAAP,GAAwB,UAAxB;AACD,KAFM,MAEA;AACLrM,MAAAA,MAAM,CAACqM,cAAP,GAAwBtM,KAAK,CAACqM,OAA9B;AACD;AACF;;AAED,MAAIrM,KAAK,CAACkJ,OAAV,EAAmB;AACjBjJ,IAAAA,MAAM,CAACsM,aAAP,GAAuB,aAAvB;AACD;;AAED,SAAOtM,MAAP;AACD,CA9BD;;AAgCA,IAAIuM,SAAS,GACb,aACAjH,QAAQ,CAAC,KAAD,EAAQ;AACdJ,EAAAA,gBAAgB,EAAEA,gBADJ;AAEd8G,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,CAGG,2BAHH,CAFA;;AAOA,IAAIQ,kBAAkB,GAAG,SAAStH,gBAAT,CAA0BnF,KAA1B,EAAiC;AACxD,SAAO;AACL0M,IAAAA,UAAU,EAAE1M,KAAK,CAAC2M,MAAN,GAAe,oBAAf,GAAsC;AAD7C,GAAP;AAGD,CAJD;;AAMA,IAAIC,UAAU,GACd,aACArH,QAAQ,CAACiH,SAAD,EAAY;AAClB5H,EAAAA,WAAW,EAAE,cADK;AAElBO,EAAAA,gBAAgB,EAAEsH,kBAFA;AAGlB7G,EAAAA,OAAO,EAAE,IAHS;AAIlBqG,EAAAA,MAAM,EAAE;AAJU,CAAZ,CAAR,CAKG,2GALH,CAFA;;AASA,IAAIY,YAAY,GAAG,SAASA,YAAT,CAAsB7M,KAAtB,EAA6B;AAC9C,SAAOpE,aAAa,CAACgR,UAAD,EAAa5M,KAAb,CAApB;AACD,CAFD;;AAIA6M,YAAY,CAACf,SAAb,GAAyB;AACvBa,EAAAA,MAAM,EAAEzO,IADe;AAEvByD,EAAAA,QAAQ,EAAEvD,IAAI,CAAC0O;AAFQ,CAAzB;AAKA,IAAIC,SAAS,GACb,aACAxH,QAAQ,CAACiH,SAAD,EAAY;AAClB5H,EAAAA,WAAW,EAAE,UADK;AAElBgB,EAAAA,OAAO,EAAE,IAFS;AAGlBqG,EAAAA,MAAM,EAAE;AAHU,CAAZ,CAAR,CAIG,cAJH,CAFA;;AAQA,IAAIe,QAAQ,GAAG,SAASA,QAAT,CAAkBhN,KAAlB,EAAyB;AACtC,SAAOpE,aAAa,CAACmR,SAAD,EAAYvR,QAAQ,CAAC;AACvC2Q,IAAAA,aAAa,EAAE;AADwB,GAAD,EAErCnM,KAFqC,CAApB,CAApB;AAGD,CAJD;;AAMAgN,QAAQ,CAAClB,SAAT,GAAqB;AACnBnK,EAAAA,QAAQ,EAAEvD;AADS,CAArB;;AAIA,IAAI6O,kBAAkB,GAAG,SAAS9H,gBAAT,CAA0B1D,IAA1B,EAAgC;AACvD,MAAIyL,KAAK,GAAGzL,IAAI,CAACyL,KAAjB;;AAEA,MAAI,CAACA,KAAL,EAAY;AACV,WAAO,IAAP;AACD;;AAED,SAAO;AACLC,IAAAA,IAAI,EAAED,KADD;AAEL,WAAO;AACLC,MAAAA,IAAI,EAAED;AADD;AAFF,GAAP;AAMD,CAbD;;AAeA,IAAIE,gBAAgB,GAAGrQ,OAAO,CAAC,UAAUsQ,IAAV,EAAgB;AAC7C,SACE,aACA9H,QAAQ,CAAC8H,IAAD,EAAO;AACb1H,IAAAA,WAAW,EAAE,MADA;AAEbR,IAAAA,gBAAgB,EAAE8H,kBAFL;AAGbK,IAAAA,iBAAiB,EAAE1O,WAHN;AAIbqN,IAAAA,MAAM,EAAE;AAJK,GAAP,CAAR,CAKG,4CALH,CAFF;AASD,CAV6B,CAA9B;;AAYA,IAAIoB,IAAI,GAAG,SAASA,IAAT,CAAc7B,KAAd,EAAqB;AAC9B,MAAI7J,QAAQ,GAAG6J,KAAK,CAAC7J,QAArB;AAAA,MACI3B,KAAK,GAAGhC,6BAA6B,CAACwN,KAAD,EAAQ,CAAC,UAAD,CAAR,CADzC;;AAGA,MAAI+B,UAAU,GAAGH,gBAAgB,CAACzL,QAAQ,CAAC6L,IAAV,CAAjC;AACA,SAAO5R,aAAa,CAAC2R,UAAD,EAAavN,KAAb,CAApB;AACD,CAND;;AAQAqN,IAAI,CAACvB,SAAL,GAAiB;AACfnK,EAAAA,QAAQ,EAAEvD,IAAI,CAAC0O;AADA,CAAjB;;AAIA,IAAIW,GAAG,GAAI,UAAUhM,IAAV,EAAgB;AACzB,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDmS,IAAAA,MAAM,EAAE,MAD0C;AAElDC,IAAAA,OAAO,EAAE,WAFyC;AAGlDC,IAAAA,KAAK,EAAE;AAH2C,GAAD,EAIhD7N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CuR,IAAAA,IAAI,EAAE,MADqC;AAE3CW,IAAAA,QAAQ,EAAE,SAFiC;AAG3CC,IAAAA,MAAM,EAAE,MAHmC;AAI3CC,IAAAA,WAAW,EAAE;AAJ8B,GAAlC,EAKRtS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCuR,IAAAA,IAAI,EAAE,SAD6B;AAEnCW,IAAAA,QAAQ,EAAE;AAFyB,GAAlC,EAGApS,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE;AADmC,GAArC,CAHA,CALQ,CAJJ,CAAP;AAeD,CAnBD;;AAqBA,IAAIC,OAAO,GAAG,SAASA,OAAT,CAAiBlO,KAAjB,EAAwB;AACpC,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC6R,GAAD,EAAM,IAAN,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIU,SAAS,GAAI,UAAU1M,IAAV,EAAgB;AAC/B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,KAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE,qCADwB;AAEnCjB,IAAAA,IAAI,EAAE,SAF6B;AAGnCW,IAAAA,QAAQ,EAAE;AAHyB,GAAlC,EAIApS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,SAA7B,EAAwC;AACzCyS,IAAAA,MAAM,EAAE;AADiC,GAAxC,CAFA,CAFA,CAJA,CALQ,CAJJ,CAAP;AAoBD,CAxBD;;AA0BA,IAAIC,aAAa,GAAG,SAASA,aAAT,CAAuBtO,KAAvB,EAA8B;AAChD,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAACuS,SAAD,EAAY,IAAZ,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAII,UAAU,GAAI,UAAU9M,IAAV,EAAgB;AAChC,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,KAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE,sCADwB;AAEnCjB,IAAAA,IAAI,EAAE,SAF6B;AAGnCW,IAAAA,QAAQ,EAAE;AAHyB,GAAlC,EAIApS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,SAA7B,EAAwC;AACzCyS,IAAAA,MAAM,EAAE;AADiC,GAAxC,CAFA,CAFA,CAJA,CALQ,CAJJ,CAAP;AAoBD,CAxBD;;AA0BA,IAAIG,cAAc,GAAG,SAASA,cAAT,CAAwBxO,KAAxB,EAA+B;AAClD,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC2S,UAAD,EAAa,IAAb,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,MAAM,GAAI,UAAUhN,IAAV,EAAgB;AAC5B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE,sCADwB;AAEnCjB,IAAAA,IAAI,EAAE,SAF6B;AAGnCW,IAAAA,QAAQ,EAAE;AAHyB,GAAlC,EAIApS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE;AADmC,GAArC,CAFA,CAJA,CALQ,CAJJ,CAAP;AAkBD,CAtBD;;AAwBA,IAAIS,UAAU,GAAG,SAASA,UAAT,CAAoB1O,KAApB,EAA2B;AAC1C,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC6S,MAAD,EAAS,IAAT,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,MAAM,GAAI,UAAUlN,IAAV,EAAgB;AAC5B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDoS,IAAAA,OAAO,EAAE,WADyC;AAElDxI,IAAAA,KAAK,EAAE;AACLwJ,MAAAA,gBAAgB,EAAE;AADb;AAF2C,GAAD,EAKhD5O,KALgD,CAA5C,EAKItE,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AAC9CwJ,IAAAA,KAAK,EAAE;AACL0I,MAAAA,QAAQ,EAAE,SADL;AAELe,MAAAA,QAAQ,EAAE,SAFL;AAGL1B,MAAAA,IAAI,EAAE;AAHD,KADuC;AAM9CU,IAAAA,KAAK,EAAE,IANuC;AAO9CF,IAAAA,MAAM,EAAE;AAPsC,GAArC,CALJ,EAaHjS,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACvCwJ,IAAAA,KAAK,EAAE;AACL0I,MAAAA,QAAQ,EAAE,SADL;AAELe,MAAAA,QAAQ,EAAE,SAFL;AAGL1B,MAAAA,IAAI,EAAE;AAHD,KADgC;AAMvCc,IAAAA,CAAC,EAAE;AANoC,GAArC,CAbG,CAAP;AAqBD,CAzBD;;AA2BA,IAAIa,UAAU,GAAG,SAASA,UAAT,CAAoB9O,KAApB,EAA2B;AAC1C,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC+S,MAAD,EAAS,IAAT,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAII,IAAI,GAAI,UAAUtN,IAAV,EAAgB;AAC1B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCuR,IAAAA,IAAI,EAAE;AAD6B,GAAlC,EAEAzR,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE;AADmC,GAArC,CAFA,CALQ,CAJJ,CAAP;AAcD,CAlBD;;AAoBA,IAAIe,QAAQ,GAAG,SAASA,QAAT,CAAkBhP,KAAlB,EAAyB;AACtC,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAACmT,IAAD,EAAO,IAAP,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,WAAW,GAAI,UAAUxN,IAAV,EAAgB;AACjC,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC,IAAlC,EAAwCF,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AAC9EmS,IAAAA,MAAM,EAAE,SADsE;AAE9EC,IAAAA,WAAW,EAAE,GAFiE;AAG9EkB,IAAAA,CAAC,EAAE,KAH2E;AAI9EC,IAAAA,CAAC,EAAE,KAJ2E;AAK9EtB,IAAAA,KAAK,EAAE,IALuE;AAM9EF,IAAAA,MAAM,EAAE,IANsE;AAO9EyB,IAAAA,EAAE,EAAE,GAP0E;AAQ9EhK,IAAAA,KAAK,EAAE;AACL+H,MAAAA,IAAI,EAAE;AADD;AARuE,GAArC,CAAxC,CAFA,CAFA,CALQ,CAJJ,CAAP;AAyBD,CA7BD;;AA+BA,IAAIkC,eAAe,GAAG,SAASA,eAAT,CAAyBrP,KAAzB,EAAgC;AACpD,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAACqT,WAAD,EAAc,IAAd,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIK,UAAU,GAAI,UAAU7N,IAAV,EAAgB;AAChC,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC,IAAlC,EAAwCF,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AAC9EmS,IAAAA,MAAM,EAAE,SADsE;AAE9EC,IAAAA,WAAW,EAAE,GAFiE;AAG9EkB,IAAAA,CAAC,EAAE,KAH2E;AAI9EC,IAAAA,CAAC,EAAE,KAJ2E;AAK9EtB,IAAAA,KAAK,EAAE,IALuE;AAM9EF,IAAAA,MAAM,EAAE,IANsE;AAO9EyB,IAAAA,EAAE,EAAE,GAP0E;AAQ9EhK,IAAAA,KAAK,EAAE;AACL+H,MAAAA,IAAI,EAAE;AADD;AARuE,GAArC,CAAxC,CAFA,EAaEzR,cAAc,CAACE,aAAf,CAA6B,SAA7B,EAAwC;AAC3CuR,IAAAA,IAAI,EAAE,SADqC;AAE3CkB,IAAAA,MAAM,EAAE;AAFmC,GAAxC,CAbF,CAFA,CALQ,CAJJ,CAAP;AA4BD,CAhCD;;AAkCA,IAAIkB,cAAc,GAAG,SAASA,cAAT,CAAwBvP,KAAxB,EAA+B;AAClD,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC0T,UAAD,EAAa,IAAb,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,KAAK,GAAI,UAAU/N,IAAV,EAAgB;AAC3B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDmS,IAAAA,MAAM,EAAE,MAD0C;AAElDC,IAAAA,OAAO,EAAE,WAFyC;AAGlDC,IAAAA,KAAK,EAAE;AAH2C,GAAD,EAIhD7N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CuR,IAAAA,IAAI,EAAE,MADqC;AAE3CW,IAAAA,QAAQ,EAAE,SAFiC;AAG3CC,IAAAA,MAAM,EAAE,MAHmC;AAI3CC,IAAAA,WAAW,EAAE;AAJ8B,GAAlC,EAKRtS,cAAc,CAACE,aAAf,CAA6B,SAA7B,EAAwC;AACzCuR,IAAAA,IAAI,EAAE,SADmC;AAEzCkB,IAAAA,MAAM,EAAE;AAFiC,GAAxC,CALQ,CAJJ,CAAP;AAaD,CAjBD;;AAmBA,IAAIoB,SAAS,GAAG,SAASA,SAAT,CAAmBzP,KAAnB,EAA0B;AACxC,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC4T,KAAD,EAAQ,IAAR,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,KAAK,GAAI,UAAUjO,IAAV,EAAgB;AAC3B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC,IAAlC,EAAwCF,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3EwS,IAAAA,SAAS,EAAE;AADgE,GAAlC,EAExC1S,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE,8fADmC;AAEtC0B,IAAAA,WAAW,EAAE,KAFyB;AAGtCxC,IAAAA,IAAI,EAAE,SAHgC;AAItCW,IAAAA,QAAQ,EAAE;AAJ4B,GAArC,CAFwC,CAAxC,CAFA,CAFA,CALQ,CAJJ,CAAP;AAqBD,CAzBD;;AA2BA,IAAI8B,SAAS,GAAG,SAASA,SAAT,CAAmB5P,KAAnB,EAA0B;AACxC,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC8T,KAAD,EAAQ,IAAR,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIG,WAAW,GAAI,UAAUpO,IAAV,EAAgB;AACjC,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE,yTADmC;AAEtCd,IAAAA,IAAI,EAAE,SAFgC;AAGtCW,IAAAA,QAAQ,EAAE;AAH4B,GAArC,CALQ,CAJJ,CAAP;AAcD,CAlBD;;AAoBA,IAAIgC,eAAe,GAAG,SAASA,eAAT,CAAyB9P,KAAzB,EAAgC;AACpD,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAACiU,WAAD,EAAc,IAAd,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,KAAK,GAAI,UAAUtO,IAAV,EAAgB;AAC3B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDmS,IAAAA,MAAM,EAAE,MAD0C;AAElDC,IAAAA,OAAO,EAAE,WAFyC;AAGlDC,IAAAA,KAAK,EAAE;AAH2C,GAAD,EAIhD7N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CuR,IAAAA,IAAI,EAAE,MADqC;AAE3CW,IAAAA,QAAQ,EAAE,SAFiC;AAG3CC,IAAAA,MAAM,EAAE,MAHmC;AAI3CC,IAAAA,WAAW,EAAE;AAJ8B,GAAlC,EAKRtS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCuR,IAAAA,IAAI,EAAE;AAD6B,GAAlC,EAEAzR,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE;AADmC,GAArC,CAFA,CALQ,CAJJ,CAAP;AAcD,CAlBD;;AAoBA,IAAI+B,SAAS,GAAG,SAASA,SAAT,CAAmBhQ,KAAnB,EAA0B;AACxC,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAACmU,KAAD,EAAQ,IAAR,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,IAAI,GAAI,UAAUxO,IAAV,EAAgB;AAC1B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE,qCADwB;AAEnCjB,IAAAA,IAAI,EAAE,SAF6B;AAGnCW,IAAAA,QAAQ,EAAE;AAHyB,GAAlC,EAIApS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE;AADmC,GAArC,CAFA,CAJA,CALQ,CAJJ,CAAP;AAkBD,CAtBD;;AAwBA,IAAIiC,QAAQ,GAAG,SAASA,QAAT,CAAkBlQ,KAAlB,EAAyB;AACtC,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAACqU,IAAD,EAAO,IAAP,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,SAAS,GAAI,UAAU1O,IAAV,EAAgB;AAC/B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE,qCADwB;AAEnCjB,IAAAA,IAAI,EAAE,SAF6B;AAGnCW,IAAAA,QAAQ,EAAE;AAHyB,GAAlC,EAIApS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE;AADmC,GAArC,CAFA,CAJA,CALQ,CAJJ,CAAP;AAkBD,CAtBD;;AAwBA,IAAImC,aAAa,GAAG,SAASA,aAAT,CAAuBpQ,KAAvB,EAA8B;AAChD,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAACuU,SAAD,EAAY,IAAZ,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,QAAQ,GAAI,UAAU5O,IAAV,EAAgB;AAC9B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClD2R,IAAAA,IAAI,EAAE,MAD4C;AAElDQ,IAAAA,MAAM,EAAE,IAF0C;AAGlDC,IAAAA,OAAO,EAAE,WAHyC;AAIlDC,IAAAA,KAAK,EAAE;AAJ2C,GAAD,EAKhD7N,KALgD,CAA5C,EAKItE,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AAC9CqS,IAAAA,CAAC,EAAE;AAD2C,GAArC,CALJ,CAAP;AAQD,CAZD;;AAcA,IAAIqC,YAAY,GAAG,SAASA,YAAT,CAAsBtQ,KAAtB,EAA6B;AAC9C,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAACyU,QAAD,EAAW,IAAX,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,YAAY,GAAI,UAAU9O,IAAV,EAAgB;AAClC,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDmS,IAAAA,MAAM,EAAE,KAD0C;AAElDC,IAAAA,OAAO,EAAE,UAFyC;AAGlDC,IAAAA,KAAK,EAAE;AAH2C,GAAD,EAIhD7N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CuR,IAAAA,IAAI,EAAE,MADqC;AAE3CW,IAAAA,QAAQ,EAAE,SAFiC;AAG3CC,IAAAA,MAAM,EAAE,MAHmC;AAI3CC,IAAAA,WAAW,EAAE;AAJ8B,GAAlC,EAKRtS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCuR,IAAAA,IAAI,EAAE;AAD6B,GAAlC,EAEAzR,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE;AADmC,GAArC,CAFA,CALQ,CAJJ,CAAP;AAcD,CAlBD;;AAoBA,IAAIuC,gBAAgB,GAAG,SAASA,gBAAT,CAA0BxQ,KAA1B,EAAiC;AACtD,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC2U,YAAD,EAAe,IAAf,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,QAAQ,GAAI,UAAUhP,IAAV,EAAgB;AAC9B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClD2R,IAAAA,IAAI,EAAE,MAD4C;AAElDQ,IAAAA,MAAM,EAAE,IAF0C;AAGlDC,IAAAA,OAAO,EAAE,WAHyC;AAIlDC,IAAAA,KAAK,EAAE;AAJ2C,GAAD,EAKhD7N,KALgD,CAA5C,EAKItE,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AAC9CqS,IAAAA,CAAC,EAAE;AAD2C,GAArC,CALJ,CAAP;AAQD,CAZD;;AAcA,IAAIyC,YAAY,GAAG,SAASA,YAAT,CAAsB1Q,KAAtB,EAA6B;AAC9C,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC6U,QAAD,EAAW,IAAX,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,IAAI,GAAI,UAAUlP,IAAV,EAAgB;AAC1B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE,qCADwB;AAEnCjB,IAAAA,IAAI,EAAE,SAF6B;AAGnCW,IAAAA,QAAQ,EAAE;AAHyB,GAAlC,EAIApS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC,IAAlC,EAAwCF,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3EwS,IAAAA,SAAS,EAAE;AADgE,GAAlC,EAExC1S,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE;AADmC,GAArC,CAFwC,CAAxC,CAFA,CAJA,CALQ,CAJJ,CAAP;AAoBD,CAxBD;;AA0BA,IAAI2C,QAAQ,GAAG,SAASA,QAAT,CAAkB5Q,KAAlB,EAAyB;AACtC,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC+U,IAAD,EAAO,IAAP,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,MAAM,GAAI,UAAUpP,IAAV,EAAgB;AAC5B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE,qCADwB;AAEnCjB,IAAAA,IAAI,EAAE,SAF6B;AAGnCW,IAAAA,QAAQ,EAAE;AAHyB,GAAlC,EAIApS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE;AADmC,GAArC,CAFA,CAJA,CALQ,CAJJ,CAAP;AAkBD,CAtBD;;AAwBA,IAAI6C,UAAU,GAAG,SAASA,UAAT,CAAoB9Q,KAApB,EAA2B;AAC1C,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAACiV,MAAD,EAAS,IAAT,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,QAAQ,GAAI,UAAUtP,IAAV,EAAgB;AAC9B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC,IAAlC,EAAwCF,cAAc,CAACE,aAAf,CAA6B,QAA7B,EAAuC;AAChFmS,IAAAA,MAAM,EAAE,SADwE;AAEhFC,IAAAA,WAAW,EAAE,GAFmE;AAGhFpO,IAAAA,EAAE,EAAE,GAH4E;AAIhFoR,IAAAA,EAAE,EAAE,GAJ4E;AAKhFC,IAAAA,CAAC,EAAE,KAL6E;AAMhF7L,IAAAA,KAAK,EAAE;AACL+H,MAAAA,IAAI,EAAE;AADD;AANyE,GAAvC,CAAxC,CAFA,CAFA,CALQ,CAJJ,CAAP;AAuBD,CA3BD;;AA6BA,IAAI+D,YAAY,GAAG,SAASA,YAAT,CAAsBlR,KAAtB,EAA6B;AAC9C,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAACmV,QAAD,EAAW,IAAX,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAII,OAAO,GAAI,UAAU1P,IAAV,EAAgB;AAC7B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE,WAHyC;AAIlDwD,IAAAA,OAAO,EAAE;AAJyC,GAAD,EAKhDpR,KALgD,CAA5C,EAKItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC,IAAlC,EAAwCF,cAAc,CAACE,aAAf,CAA6B,QAA7B,EAAuC;AAChFmS,IAAAA,MAAM,EAAE,SADwE;AAEhFC,IAAAA,WAAW,EAAE,GAFmE;AAGhFpO,IAAAA,EAAE,EAAE,GAH4E;AAIhFoR,IAAAA,EAAE,EAAE,GAJ4E;AAKhFC,IAAAA,CAAC,EAAE,KAL6E;AAMhF7L,IAAAA,KAAK,EAAE;AACL+H,MAAAA,IAAI,EAAE;AADD;AANyE,GAAvC,CAAxC,CAFA,EAWEzR,cAAc,CAACE,aAAf,CAA6B,QAA7B,EAAuC;AAC1CuR,IAAAA,IAAI,EAAE,SADoC;AAE1CvN,IAAAA,EAAE,EAAE,GAFsC;AAG1CoR,IAAAA,EAAE,EAAE,GAHsC;AAI1CC,IAAAA,CAAC,EAAE;AAJuC,GAAvC,CAXF,CAFA,CALQ,CALJ,CAAP;AA6BD,CAjCD;;AAmCA,IAAII,WAAW,GAAG,SAASA,WAAT,CAAqBrR,KAArB,EAA4B;AAC5C,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAACuV,OAAD,EAAU,IAAV,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIG,OAAO,GAAI,UAAU7P,IAAV,EAAgB;AAC7B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE,sCADwB;AAEnCjB,IAAAA,IAAI,EAAE,SAF6B;AAGnCW,IAAAA,QAAQ,EAAE;AAHyB,GAAlC,EAIApS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE,qpDADmC;AAEtCG,IAAAA,SAAS,EAAE;AAF2B,GAArC,CAFA,CAJA,CALQ,CAJJ,CAAP;AAmBD,CAvBD;;AAyBA,IAAImD,WAAW,GAAG,SAASA,WAAT,CAAqBvR,KAArB,EAA4B;AAC5C,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC0V,OAAD,EAAU,IAAV,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,QAAQ,GAAI,UAAU/P,IAAV,EAAgB;AAC9B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CmS,IAAAA,MAAM,EAAE,MADmC;AAE3CC,IAAAA,WAAW,EAAE,GAF8B;AAG3Cb,IAAAA,IAAI,EAAE,MAHqC;AAI3CW,IAAAA,QAAQ,EAAE;AAJiC,GAAlC,EAKRpS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE,sCADwB;AAEnCjB,IAAAA,IAAI,EAAE,SAF6B;AAGnCW,IAAAA,QAAQ,EAAE;AAHyB,GAAlC,EAIApS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCwS,IAAAA,SAAS,EAAE;AADwB,GAAlC,EAEA1S,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AACtCqS,IAAAA,CAAC,EAAE;AADmC,GAArC,CAFA,CAJA,CALQ,CAJJ,CAAP;AAkBD,CAtBD;;AAwBA,IAAIwD,YAAY,GAAG,SAASA,YAAT,CAAsBzR,KAAtB,EAA6B;AAC9C,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC4V,QAAD,EAAW,IAAX,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,IAAI,GAAI,UAAUjQ,IAAV,EAAgB;AAC1B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDmS,IAAAA,MAAM,EAAE,MAD0C;AAElDC,IAAAA,OAAO,EAAE,WAFyC;AAGlDC,IAAAA,KAAK,EAAE;AAH2C,GAAD,EAIhD7N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AAC3CuR,IAAAA,IAAI,EAAE,MADqC;AAE3CW,IAAAA,QAAQ,EAAE,SAFiC;AAG3CC,IAAAA,MAAM,EAAE,MAHmC;AAI3CC,IAAAA,WAAW,EAAE;AAJ8B,GAAlC,EAKRtS,cAAc,CAACE,aAAf,CAA6B,GAA7B,EAAkC;AACnCuR,IAAAA,IAAI,EAAE;AAD6B,GAAlC,EAEAzR,cAAc,CAACE,aAAf,CAA6B,SAA7B,EAAwC;AACzCyS,IAAAA,MAAM,EAAE;AADiC,GAAxC,CAFA,CALQ,CAJJ,CAAP;AAcD,CAlBD;;AAoBA,IAAIsD,QAAQ,GAAG,SAASA,QAAT,CAAkB3R,KAAlB,EAAyB;AACtC,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAAC8V,IAAD,EAAO,IAAP,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,MAAM,GAAI,UAAUnQ,IAAV,EAAgB;AAC5B,MAAIiM,WAAW,GAAGjM,IAAI,CAACxB,MAAvB;AAAA,MACID,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,CAAP,CADzC;;AAGA,SAAO/F,cAAc,CAACE,aAAf,CAA6B,KAA7B,EAAoCJ,QAAQ,CAAC;AAClDqS,IAAAA,KAAK,EAAE,MAD2C;AAElDF,IAAAA,MAAM,EAAE,MAF0C;AAGlDC,IAAAA,OAAO,EAAE;AAHyC,GAAD,EAIhD5N,KAJgD,CAA5C,EAIItE,cAAc,CAACE,aAAf,CAA6B,MAA7B,EAAqC;AAC9CqS,IAAAA,CAAC,EAAE;AAD2C,GAArC,CAJJ,CAAP;AAOD,CAXD;;AAaA,IAAI4D,UAAU,GAAG,SAASA,UAAT,CAAoB7R,KAApB,EAA2B;AAC1C,SAAOpE,aAAa,CAACyR,IAAD,EAAOrN,KAAP,EAAcpE,aAAa,CAACgW,MAAD,EAAS,IAAT,CAA3B,CAApB;AACD,CAFD;;AAIA,IAAIE,gBAAgB,GACpB,aACAnS,GAAG,CAAC,eAAD,CAFH;;AAIA,IAAIoS,KAAK,GAAG,SAASA,KAAT,CAAetQ,IAAf,EAAqB;AAC/B,MAAIE,QAAQ,GAAGF,IAAI,CAACE,QAApB;AAAA,MACIqQ,SAAS,GAAGvQ,IAAI,CAACuQ,SADrB;AAAA,MAEIC,QAAQ,GAAGjU,6BAA6B,CAACyD,IAAD,EAAO,CAAC,UAAD,EAAa,WAAb,CAAP,CAF5C;;AAIA,MAAIyQ,eAAe,GAAGpW,QAAQ,CAAC,SAAD,CAA9B;AAAA,MACIqW,WAAW,GAAGD,eAAe,CAAC,CAAD,CADjC;AAAA,MAEIE,cAAc,GAAGF,eAAe,CAAC,CAAD,CAFpC;;AAIA,SAAOtW,aAAa,CAACG,QAAD,EAAW,IAAX,EAAiBH,aAAa,CAAC,KAAD,EAAQJ,QAAQ,CAAC,EAAD,EAAKyW,QAAL,EAAe;AAC/EI,IAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,aAAOD,cAAc,CAAC,QAAD,CAArB;AACD,KAH8E;AAI/EE,IAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,aAAOF,cAAc,CAAC,QAAD,CAArB;AACD,KAN8E;AAO/EJ,IAAAA,SAAS,EAAEpS,EAAE,CAACoS,SAAD,EAAYG,WAAW,KAAK,QAAhB,IAA4BL,gBAAxC;AAPkE,GAAf,CAAhB,CAA9B,EAQfnQ,QAAQ,IAAIA,QAAQ,CAAC;AACxBwQ,IAAAA,WAAW,EAAEA;AADW,GAAD,CARL,CAApB;AAWD,CApBD;;AAsBAJ,KAAK,CAACjG,SAAN,GAAkB;AAChBnK,EAAAA,QAAQ,EAAExD;AADM,CAAlB;;AAIA,IAAIoU,kBAAkB,GAAG,SAASpN,gBAAT,CAA0BnF,KAA1B,EAAiC;AACxD,MAAIwS,UAAU,GAAG,EAAjB;AACA,MAAIC,UAAU,GAAG,EAAjB;AACA,MAAIC,IAAI,GAAG1S,KAAK,CAAC0S,IAAjB;AAAA,MACIC,MAAM,GAAG3S,KAAK,CAAC2S,MADnB;AAAA,MAEIC,QAAQ,GAAG5S,KAAK,CAAC4S,QAFrB;;AAIA,MAAIF,IAAJ,EAAU;AACRF,IAAAA,UAAU,CAAC3E,KAAX,GAAmB6E,IAAnB;AACAF,IAAAA,UAAU,CAAC7E,MAAX,GAAoB+E,IAApB;AACAF,IAAAA,UAAU,CAACK,UAAX,GAAwBH,IAAxB;AACD;;AAED,MAAIC,MAAJ,EAAY;AACVH,IAAAA,UAAU,CAACM,YAAX,GAA0BH,MAA1B;AACAF,IAAAA,UAAU,CAACK,YAAX,GAA0BH,MAA1B;AACD;;AAED,MAAIC,QAAJ,EAAc;AACZJ,IAAAA,UAAU,CAACI,QAAX,GAAsBA,QAAtB;AACD;;AAED,SAAOpX,QAAQ,CAAC,EAAD,EAAKgX,UAAL,EAAiB;AAC9B,aAASC;AADqB,GAAjB,CAAf;AAGD,CAzBD;;AA2BA,IAAIM,kBAAkB,GACtB,aACApT,GAAG,CAAC,8EAAD,CAFH;AAGA,IAAIqT,YAAY,GAChB,aACAzN,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,QADC;AAEdO,EAAAA,gBAAgB,EAAEoN,kBAFJ;AAGdtG,EAAAA,MAAM,EAAE;AAHM,CAAR,CAAR,CAIG,2HAJH,CAFA;;AAQA,IAAIgH,MAAM,GAAG,SAASA,MAAT,CAAgBjT,KAAhB,EAAuB;AAClC,MAAIkT,MAAM,GAAGlT,KAAK,CAACkT,MAAnB;AAAA,MACIC,MAAM,GAAGnT,KAAK,CAACmT,MADnB;AAEA,MAAIC,KAAK,GAAG,IAAZ;;AAEA,MAAIF,MAAJ,EAAY;AACVE,IAAAA,KAAK,GAAGxX,aAAa,CAACmW,KAAD,EAAQ;AAC3BsB,MAAAA,GAAG,EAAEH,MADsB;AAE3BlB,MAAAA,SAAS,EAAEe,kBAFgB;AAG3BO,MAAAA,GAAG,EAAE;AAHsB,KAAR,EAIlB,UAAU7R,IAAV,EAAgB;AACjB,UAAI0Q,WAAW,GAAG1Q,IAAI,CAAC0Q,WAAvB;AACA,aAAOA,WAAW,KAAK,QAAhB,IAA4BvW,aAAa,CAACkT,UAAD,EAAa;AAC3DkD,QAAAA,SAAS,EAAEe;AADgD,OAAb,CAAhD;AAGD,KAToB,CAArB;AAUD,GAXD,MAWO,IAAII,MAAJ,EAAY;AACjBC,IAAAA,KAAK,GAAGxX,aAAa,CAAC,MAAD,EAAS,IAAT,EAAeuX,MAAf,CAArB;AACD,GAFM,MAEA,IAAI7S,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AACjDC,IAAAA,OAAO,CAACC,IAAR,CAAa,yDAAb;AACD;;AAED,SAAO9E,aAAa,CAACoX,YAAD,EAAehT,KAAf,EAAsBoT,KAAtB,CAApB;AACD,CAvBD;;AAyBAH,MAAM,CAACnH,SAAP,GAAmB;AACjB;AACAoH,EAAAA,MAAM,EAAE7U,MAFS;;AAIjB;AACA8U,EAAAA,MAAM,EAAE9U,MALS;;AAOjB;AACAqU,EAAAA,IAAI,EAAErU,MARW;;AAUjB;AACA+G,EAAAA,KAAK,EAAE9G,KAAK;AAXK,CAAnB;AAcA,IAAIiV,qBAAqB,GACzB,aACA5T,GAAG,CAAC,mbAAD,CAFH;AAIA,IAAIiF,WAAW,GAAG,QAAlB;;AAEA,IAAI4O,8BAA8B,GAAG,SAASA,8BAAT,CAAwC/R,IAAxC,EAA8C;AACjF,MAAIgS,mBAAmB,GAAGhS,IAAI,CAACgS,mBAA/B;AAAA,MACIC,oBAAoB,GAAGjS,IAAI,CAACiS,oBADhC;AAAA,MAEIC,uBAAuB,GAAGlS,IAAI,CAACkS,uBAFnC;AAAA,MAGIC,sBAAsB,GAAGnS,IAAI,CAACmS,sBAHlC;AAIA,SAAO;AACLH,IAAAA,mBAAmB,EAAEC,oBADhB;AAELA,IAAAA,oBAAoB,EAAED,mBAFjB;AAGLE,IAAAA,uBAAuB,EAAEC,sBAHpB;AAILA,IAAAA,sBAAsB,EAAED;AAJnB,GAAP;AAMD,CAXD;;AAaA,IAAIE,kBAAkB,GAAG,SAAS1O,gBAAT,CAA0BnF,KAA1B,EAAiC;AACxD,MAAI8T,KAAK,GAAG9T,KAAK,CAAC8T,KAAlB;AAAA,MACIC,gBAAgB,GAAG/T,KAAK,CAAC+T,gBAD7B;AAAA,MAEIC,iBAAiB,GAAGhU,KAAK,CAACgU,iBAF9B;AAAA,MAGIC,UAAU,GAAGjU,KAAK,CAACiU,UAHvB;AAIA,MAAIC,cAAc,GAAG;AACnBT,IAAAA,mBAAmB,EAAEQ,UAAU,KAAK,QAAf,IAA2BA,UAAU,KAAK,OAA1C,GAAoDF,gBAApD,GAAuEC,iBADzE;AAEnBN,IAAAA,oBAAoB,EAAEK,gBAFH;AAGnBJ,IAAAA,uBAAuB,EAAEI,gBAHN;AAInBH,IAAAA,sBAAsB,EAAEK,UAAU,KAAK,QAAf,IAA2BA,UAAU,KAAK,MAA1C,GAAmDF,gBAAnD,GAAsEC;AAJ3E,GAArB,CALwD,CAUrD;AACH;;AAEA,SAAOF,KAAK,GAAGN,8BAA8B,CAACU,cAAD,CAAjC,GAAoDA,cAAhE;AACD,CAdD;;AAgBA,IAAIC,YAAY,GAChB,aACA5O,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAEA,WADC;AAEdO,EAAAA,gBAAgB,EAAE0O,kBAFJ;AAGd5H,EAAAA,MAAM,EAAE;AAHM,CAAR,CAAR,CAIGsH,qBAJH,EAI0B,iIAJ1B,CAFA;AAOAY,YAAY,CAACrI,SAAb,GAAyB;AACvB;AACAnK,EAAAA,QAAQ,EAAEvD,IAFa;;AAIvB;AACA0V,EAAAA,KAAK,EAAE5V,IALgB;;AAOvB;AACA+V,EAAAA,UAAU,EAAE1V,KAAK,CAAC,CAAC,QAAD,EAAW,OAAX,EAAoB,MAApB,CAAD;AARM,CAAzB;AAWA,IAAI6V,YAAY,GAChB,aACA7O,QAAQ,CAAC,KAAD,EAAQ;AACd0G,EAAAA,MAAM,EAAE;AADM,CAAR,CAAR,CAEG,iDAFH,CAFA;;AAMA,IAAIoI,kBAAkB,GAAG,SAASlP,gBAAT,CAA0BnF,KAA1B,EAAiC;AACxD,SAAO;AACLY,IAAAA,UAAU,EAAEZ,KAAK,CAACsU,MAAN,GAAe,CAAf,GAAmB;AAD1B,GAAP;AAGD,CAJD;;AAMA,IAAIC,UAAU,GACd,aACAhP,QAAQ,CAAC,KAAD,EAAQ;AACdJ,EAAAA,gBAAgB,EAAEkP,kBADJ;AAEdpI,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,EAFA;;AAOA,IAAIuI,IAAI,GAAG,SAASA,IAAT,CAAcxU,KAAd,EAAqB;AAC9B,SAAOpE,aAAa,CAAC2Y,UAAD,EAAa/Y,QAAQ,CAAC;AACxC0E,IAAAA,QAAQ,EAAE;AAD8B,GAAD,EAEtCF,KAFsC,CAArB,CAApB;AAGD,CAJD;;AAMAwU,IAAI,CAACzI,YAAL,GAAoB;AAClBuI,EAAAA,MAAM,EAAE;AADU,CAApB;AAGAE,IAAI,CAAC1I,SAAL,GAAiB;AACfwI,EAAAA,MAAM,EAAEpW;AADO,CAAjB;;AAIA,IAAIuW,kBAAkB,GAAG,SAAStP,gBAAT,CAA0BnF,KAA1B,EAAiC;AACxD,SAAO;AACLY,IAAAA,UAAU,EAAEZ,KAAK,CAACsU,MAAN,GAAe,CAAf,GAAmB;AAD1B,GAAP;AAGD,CAJD;;AAMA,IAAII,SAAS,GACb,aACAnP,QAAQ,CAAC,KAAD,EAAQ;AACdJ,EAAAA,gBAAgB,EAAEsP,kBADJ;AAEdxI,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,EAFA;;AAOA,IAAI0I,GAAG,GAAG,SAASA,GAAT,CAAa3U,KAAb,EAAoB;AAC5B,SAAOpE,aAAa,CAAC8Y,SAAD,EAAYlZ,QAAQ,CAAC;AACvC6E,IAAAA,OAAO,EAAE;AAD8B,GAAD,EAErCL,KAFqC,CAApB,CAApB;AAGD,CAJD;;AAMA2U,GAAG,CAAC5I,YAAJ,GAAmB;AACjBuI,EAAAA,MAAM,EAAE;AADS,CAAnB;AAGAK,GAAG,CAAC7I,SAAJ,GAAgB;AACdwI,EAAAA,MAAM,EAAEpW;AADM,CAAhB;AAIA,IAAI0W,YAAY,GAChB,aACArP,QAAQ,CAAC,QAAD,EAAW;AACjBX,EAAAA,WAAW,EAAE,YADI;AAEjBgB,EAAAA,OAAO,EAAE,IAFQ;AAGjBqG,EAAAA,MAAM,EAAE;AAHS,CAAX,CAAR,CAIG,2HAJH,EAIgI,UAAUjM,KAAV,EAAiB;AAC/I,SAAOA,KAAK,CAAC6U,QAAN,GAAiB,SAAjB,GAA6B,SAApC;AACD,CAND,EAMG,mCANH,CAFA;AASAD,YAAY,CAAC9I,SAAb,GAAyB;AACvBa,EAAAA,MAAM,EAAEzO,IADe;AAEvB2W,EAAAA,QAAQ,EAAE3W,IAFa;AAGvByD,EAAAA,QAAQ,EAAEvD,IAAI,CAAC0O,UAHQ;AAIvBI,EAAAA,KAAK,EAAE7O,MAJgB;AAKvByW,EAAAA,OAAO,EAAE3W;AALc,CAAzB;;AAQA,IAAI4W,oBAAoB,GAAGpZ,aAAa,CAAC;AACvCsL,EAAAA,gBAAgB,EAAEpK,IADqB;AAEvCyK,EAAAA,aAAa,EAAEzK,IAFwB;AAGvCmY,EAAAA,sBAAsB,EAAEnY,IAHe;AAIvC+K,EAAAA,cAAc,EAAE/K,IAJuB;AAKvCgL,EAAAA,WAAW,EAAEhL;AAL0B,CAAD,CAAxC;AAAA,IAOIoY,mBAAmB,GAAGF,oBAAoB,CAAClT,QAP/C;AAAA,IAQIqT,cAAc,GAAGH,oBAAoB,CAACI,QAR1C;;AAUA,IAAIC,OAAO,GAAG,SAASA,OAAT,CAAiBC,KAAjB,EAAwB;AACpC,MAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;AACpBA,IAAAA,KAAK,GAAG,CAAR;AACD;;AAED,MAAIC,OAAO,GAAGD,KAAd;AACA,SAAO,YAAY;AACjB,WAAOC,OAAO,EAAd;AACD,GAFD;AAGD,CATD;;AAWA,IAAIC,MAAM,GAAGH,OAAO,EAApB;AACA,IAAII,YAAY,GAChB,aACAjQ,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,aADC;AAEdqH,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,CAGG,4CAHH,CAFA;;AAOA,IAAIwJ,WAAW,GACf,aACA,UAAUpR,gBAAV,EAA4B;AAC1B1G,EAAAA,cAAc,CAAC8X,WAAD,EAAcpR,gBAAd,CAAd;;AAEA,WAASoR,WAAT,GAAuB;AACrB,QAAIpM,KAAJ;;AAEA,SAAK,IAAItD,IAAI,GAAGvB,SAAS,CAACwB,MAArB,EAA6BsD,IAAI,GAAG,IAAIrD,KAAJ,CAAUF,IAAV,CAApC,EAAqDG,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGH,IAA3E,EAAiFG,IAAI,EAArF,EAAyF;AACvFoD,MAAAA,IAAI,CAACpD,IAAD,CAAJ,GAAa1B,SAAS,CAAC0B,IAAD,CAAtB;AACD;;AAEDmD,IAAAA,KAAK,GAAGhF,gBAAgB,CAACkF,IAAjB,CAAsBhF,KAAtB,CAA4BF,gBAA5B,EAA8C,CAAC,IAAD,EAAOV,MAAP,CAAc2F,IAAd,CAA9C,KAAsE,IAA9E;AACAD,IAAAA,KAAK,CAACqM,UAAN,GAAmB,EAAnB;;AAEArM,IAAAA,KAAK,CAACsM,uBAAN,GAAgC,UAAUC,mBAAV,EAA+B;AAC7D,UAAIC,EAAE,GAAGN,MAAM,EAAf;;AAEAlM,MAAAA,KAAK,CAACqM,UAAN,CAAiBI,IAAjB,CAAsBta,QAAQ,CAAC,EAAD,EAAKoa,mBAAL,EAA0B;AACtDC,QAAAA,EAAE,EAAEA;AADkD,OAA1B,CAA9B;;AAIA,aAAOxM,KAAK,CAAC0M,yBAAN,CAAgC5T,IAAhC,CAAqClE,sBAAsB,CAACoL,KAAD,CAA3D,EAAoEwM,EAApE,CAAP;AACD,KARD;;AAUAxM,IAAAA,KAAK,CAAC0M,yBAAN,GAAkC,UAAUF,EAAV,EAAc;AAC9C,UAAIG,KAAK,GAAGhZ,SAAS,CAAC,UAAUyE,IAAV,EAAgB;AACpC,YAAIwU,MAAM,GAAGxU,IAAI,CAACoU,EAAlB;AACA,eAAOI,MAAM,KAAKJ,EAAlB;AACD,OAHoB,EAGlBxM,KAAK,CAACqM,UAHY,CAArB;;AAKA,UAAIM,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB;AACD;;AAED3M,MAAAA,KAAK,CAACqM,UAAN,CAAiBQ,MAAjB,CAAwBF,KAAxB,EAA+B,CAA/B;AACD,KAXD;;AAaA3M,IAAAA,KAAK,CAACI,WAAN,GAAoB,UAAUC,GAAV,EAAe;AACjCL,MAAAA,KAAK,CAAC8M,OAAN,GAAgBzM,GAAhB;;AAEAL,MAAAA,KAAK,CAACrJ,KAAN,CAAY4J,QAAZ,CAAqBF,GAArB;AACD,KAJD;;AAMAL,IAAAA,KAAK,CAACQ,aAAN,GAAsB/M,QAAQ,CAAC,GAAD,EAAM,UAAUiL,KAAV,EAAiB;AACnD,UAAIsB,KAAK,CAACrJ,KAAN,CAAY2M,MAAhB,EAAwB;AACtBtD,QAAAA,KAAK,CAAC+M,iBAAN;AACD;;AAED/M,MAAAA,KAAK,CAACrJ,KAAN,CAAY+J,QAAZ,CAAqBhC,KAArB;AACD,KAN6B,CAA9B;AAOAsB,IAAAA,KAAK,CAACgN,QAAN,GAAiB;AACfpP,MAAAA,gBAAgB,EAAEoC,KAAK,CAACrJ,KAAN,CAAYiH,gBADf;AAEfK,MAAAA,aAAa,EAAE+B,KAAK,CAACrJ,KAAN,CAAYsH,aAFZ;AAGf0N,MAAAA,sBAAsB,EAAE3L,KAAK,CAACsM,uBAHf;AAIf/N,MAAAA,cAAc,EAAEyB,KAAK,CAACrJ,KAAN,CAAY4H,cAJb;AAKfC,MAAAA,WAAW,EAAEwB,KAAK,CAACrJ,KAAN,CAAY6H;AALV,KAAjB;AAOA,WAAOwB,KAAP;AACD;;AAED,MAAI5E,MAAM,GAAGgR,WAAW,CAAC/Q,SAAzB;;AAEAD,EAAAA,MAAM,CAAC+F,iBAAP,GAA2B,SAASA,iBAAT,GAA6B;AACtD,QAAI,KAAKxK,KAAL,CAAW2M,MAAX,KAAsB,IAA1B,EAAgC;AAC9B,WAAKyJ,iBAAL;AACD;AACF,GAJD;;AAMA3R,EAAAA,MAAM,CAAC0G,kBAAP,GAA4B,SAASA,kBAAT,CAA4BC,SAA5B,EAAuC;AACjE,QAAIA,SAAS,CAACuB,MAAV,KAAqB,KAArB,IAA8B,KAAK3M,KAAL,CAAW2M,MAAX,KAAsB,IAAxD,EAA8D;AAC5D,WAAKyJ,iBAAL;AACD;AACF,GAJD;;AAMA3R,EAAAA,MAAM,CAAC2R,iBAAP,GAA2B,SAASA,iBAAT,GAA6B;AACtD,QAAI3L,MAAM,GAAG,IAAb;;AAEA,SAAKiL,UAAL,CAAgBrW,OAAhB,CAAwB,UAAUiX,QAAV,EAAoB;AAC1C,UAAI,CAACvP,WAAW,CAAC0D,MAAM,CAAC0L,OAAR,EAAiBG,QAAQ,CAAC5M,GAA1B,CAAhB,EAAgD;AAC9C;AACD;;AAED4M,MAAAA,QAAQ,CAACC,MAAT;AACD,KAND;AAOD,GAVD;;AAYA9R,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,WAAO/I,aAAa,CAACqZ,mBAAD,EAAsB;AACxCvT,MAAAA,KAAK,EAAE,KAAK2U;AAD4B,KAAtB,EAEjBza,aAAa,CAAC4Z,YAAD,EAAeha,QAAQ,CAAC,EAAD,EAAK,KAAKwE,KAAV,EAAiB;AACtD4J,MAAAA,QAAQ,EAAE,KAAKH,WADuC;AAEtDM,MAAAA,QAAQ,EAAE,KAAKF;AAFuC,KAAjB,CAAvB,CAFI,CAApB;AAMD,GAPD;;AASA,SAAO4L,WAAP;AACD,CA/FD,CA+FE5Z,SA/FF,CAFA;;AAmGA4Z,WAAW,CAAC3J,SAAZ,GAAwB;AACtB;AACAa,EAAAA,MAAM,EAAEzO,IAFc;;AAItB;AACAyD,EAAAA,QAAQ,EAAEvD,IAAI,CAAC0O,UALO;;AAOtB;AACAlD,EAAAA,QAAQ,EAAEzL,IARY;;AAUtB;AACA4L,EAAAA,QAAQ,EAAE5L;AAXY,CAAxB;AAaAsX,WAAW,CAAC1J,YAAZ,GAA2B;AACzBY,EAAAA,MAAM,EAAE,IADiB;AAEzB/C,EAAAA,QAAQ,EAAE/M,IAFe;AAGzBkN,EAAAA,QAAQ,EAAElN;AAHe,CAA3B;AAKA,IAAI2Z,aAAa,GAAG1N,gBAAgB,GAAG2M,WAAH,CAApC;;AAEA,IAAIgB,eAAe,GACnB,aACA,UAAUpS,gBAAV,EAA4B;AAC1B1G,EAAAA,cAAc,CAAC8Y,eAAD,EAAkBpS,gBAAlB,CAAd;;AAEA,WAASoS,eAAT,GAA2B;AACzB,QAAIpN,KAAJ;;AAEA,SAAK,IAAItD,IAAI,GAAGvB,SAAS,CAACwB,MAArB,EAA6BsD,IAAI,GAAG,IAAIrD,KAAJ,CAAUF,IAAV,CAApC,EAAqDG,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGH,IAA3E,EAAiFG,IAAI,EAArF,EAAyF;AACvFoD,MAAAA,IAAI,CAACpD,IAAD,CAAJ,GAAa1B,SAAS,CAAC0B,IAAD,CAAtB;AACD;;AAEDmD,IAAAA,KAAK,GAAGhF,gBAAgB,CAACkF,IAAjB,CAAsBhF,KAAtB,CAA4BF,gBAA5B,EAA8C,CAAC,IAAD,EAAOV,MAAP,CAAc2F,IAAd,CAA9C,KAAsE,IAA9E;AACAD,IAAAA,KAAK,CAACqN,0BAAN,GAAmC7Z,IAAnC;AACAwM,IAAAA,KAAK,CAACsN,sBAAN,GAA+B1Z,UAAU,CAAC,UAAU2Z,QAAV,EAAoB;AAC5D,aAAO,UAAUlN,GAAV,EAAe;AACpB;AACAL,QAAAA,KAAK,CAACqN,0BAAN;;AAEA,YAAI,CAAChN,GAAL,EAAU;AACR;AACD;;AAEDL,QAAAA,KAAK,CAACqN,0BAAN,GAAmCE,QAAQ,CAAC;AAC1ClN,UAAAA,GAAG,EAAEA,GADqC;AAE1C6M,UAAAA,MAAM,EAAElN,KAAK,CAACrJ,KAAN,CAAYuW;AAFsB,SAAD,CAA3C;AAID,OAZD;AAaD,KAdwC,CAAzC;AAeA,WAAOlN,KAAP;AACD;;AAED,MAAI5E,MAAM,GAAGgS,eAAe,CAAC/R,SAA7B;;AAEAD,EAAAA,MAAM,CAACoG,oBAAP,GAA8B,SAASA,oBAAT,GAAgC;AAC5D,SAAK6L,0BAAL;AACD,GAFD;;AAIAjS,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAI8F,MAAM,GAAG,IAAb;;AAEA,WAAO7O,aAAa,CAACsZ,cAAD,EAAiB,IAAjB,EAAuB,UAAUzT,IAAV,EAAgB;AACzD,UAAIuT,sBAAsB,GAAGvT,IAAI,CAACuT,sBAAlC;AACA,aAAOpZ,aAAa,CAAC,KAAD,EAAQ;AAC1B8N,QAAAA,GAAG,EAAEe,MAAM,CAACzK,KAAP,CAAa6W,IAAb,GAAoB,IAApB,GAA2BpM,MAAM,CAACkM,sBAAP,CAA8B3B,sBAA9B;AADN,OAAR,EAEjBhZ,QAAQ,CAAC8a,IAAT,CAAcrM,MAAM,CAACzK,KAAP,CAAa2B,QAA3B,CAFiB,CAApB;AAGD,KALmB,CAApB;AAMD,GATD;;AAWA,SAAO8U,eAAP;AACD,CAhDD,CAgDE5a,SAhDF,CAFA;;AAoDA4a,eAAe,CAAC3K,SAAhB,GAA4B;AAC1BnK,EAAAA,QAAQ,EAAEvD,IAAI,CAAC0O,UADW;AAE1ByJ,EAAAA,MAAM,EAAEpY;AAFkB,CAA5B;AAIAsY,eAAe,CAAC1K,YAAhB,GAA+B;AAC7BwK,EAAAA,MAAM,EAAE1Z;AADqB,CAA/B;AAIA,IAAIka,IAAI,GACR,aACApX,GAAG,CAAC,2RAAD,CAFH;;AAIA,IAAIqX,IAAI,GAAG,SAASA,IAAT,CAAcvV,IAAd,EAAoB;AAC7B,MAAIE,QAAQ,GAAGF,IAAI,CAACE,QAApB;AAAA,MACI3B,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,UAAD,CAAP,CADzC;;AAGA,SAAO7F,aAAa,CAACiD,aAAD,EAAgBrD,QAAQ,CAAC,EAAD,EAAKwE,KAAL,EAAY;AACtDiX,IAAAA,UAAU,EAAEF,IAD0C;AAEtDG,IAAAA,OAAO,EAAE;AAF6C,GAAZ,CAAxB,EAGhBvV,QAHgB,CAApB;AAID,CARD;;AAUAqV,IAAI,CAAClL,SAAL,GAAiB;AACfnK,EAAAA,QAAQ,EAAEvD;AADK,CAAjB;;AAIA,IAAI+Y,kBAAkB,GAAG,SAAShS,gBAAT,CAA0B1D,IAA1B,EAAgC;AACvD,MAAI2V,eAAe,GAAG3V,IAAI,CAAC2V,eAA3B;;AAEA,MAAI,CAACA,eAAL,EAAsB;AACpB,WAAO,IAAP;AACD;;AAED,SAAO;AACL7K,IAAAA,aAAa,EAAE6K,eAAe,KAAK,MAApB,GAA6B,KAA7B,GAAqC;AAD/C,GAAP;AAGD,CAVD,C,CAUG;;;AAGH,IAAIC,aAAa,GACjB,aACA9R,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,SADC;AAEdO,EAAAA,gBAAgB,EAAEgS,kBAFJ;AAGdvR,EAAAA,OAAO,EAAE,IAHK;AAIdqG,EAAAA,MAAM,EAAE;AAJM,CAAR,CAAR,CAKG,kFALH,CAFA;AAQA,IAAIqL,UAAU,GACd,aACA/R,QAAQ,CAAC,MAAD,EAAS;AACfX,EAAAA,WAAW,EAAE,YADE;AAEfqH,EAAAA,MAAM,EAAE;AAFO,CAAT,CAAR,CAGG,kBAHH,CAFA;AAMA,IAAIsL,WAAW,GACf,aACAhS,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,aADC;AAEdqH,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,CAGG,kBAHH,CAFA;AAMA,IAAIuL,OAAO,GACX,aACAjS,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,SADC;AAEdqH,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,CAGG,4EAHH,CAFA;AAMA,IAAIwL,IAAI,GACR,aACAlS,QAAQ,CAAC,MAAD,EAAS;AACfX,EAAAA,WAAW,EAAE,MADE;AAEfqH,EAAAA,MAAM,EAAE;AAFO,CAAT,CAAR,CAGG,kBAHH,CAFA;AAMA,IAAIyL,MAAM,GACV,aACAnS,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,QADC;AAEdqH,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,CAGG,mCAHH,CAFA;;AAOA,IAAI0L,OAAO,GACX,aACA,UAAUtT,gBAAV,EAA4B;AAC1B1G,EAAAA,cAAc,CAACga,OAAD,EAAUtT,gBAAV,CAAd;;AAEA,WAASsT,OAAT,GAAmB;AACjB,WAAOtT,gBAAgB,CAACE,KAAjB,CAAuB,IAAvB,EAA6BC,SAA7B,KAA2C,IAAlD;AACD;;AAED,MAAIC,MAAM,GAAGkT,OAAO,CAACjT,SAArB;;AAEAD,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAI8G,WAAW,GAAG,KAAKzL,KAAvB;AAAA,QACI2B,QAAQ,GAAG8J,WAAW,CAAC9J,QAD3B;AAAA,QAEIiW,UAAU,GAAGnM,WAAW,CAACmM,UAF7B;AAAA,QAGIC,cAAc,GAAGpM,WAAW,CAACoM,cAHjC;AAAA,QAII/D,KAAK,GAAGrI,WAAW,CAACqI,KAJxB;AAAA,QAKIgE,IAAI,GAAGrM,WAAW,CAACqM,IALvB;AAAA,QAMIC,eAAe,GAAGtM,WAAW,CAACsM,eANlC;AAAA,QAOIxB,MAAM,GAAG9K,WAAW,CAAC8K,MAPzB;AAAA,QAQItC,UAAU,GAAGxI,WAAW,CAACwI,UAR7B;AAAA,QASI4C,IAAI,GAAGpL,WAAW,CAACoL,IATvB;AAAA,QAUI7W,KAAK,GAAGhC,6BAA6B,CAACyN,WAAD,EAAc,CAAC,UAAD,EAAa,YAAb,EAA2B,gBAA3B,EAA6C,OAA7C,EAAsD,MAAtD,EAA8D,iBAA9D,EAAiF,QAAjF,EAA2F,YAA3F,EAAyG,MAAzG,CAAd,CAVzC;;AAYA,QAAIuM,OAAO,GAAGpc,aAAa,CAACoD,MAAD,EAAS,IAAT,EAAe,UAAUwM,KAAV,EAAiB;AACzD,UAAIyM,YAAY,GAAGzM,KAAK,CAAC0M,EAAzB;AAAA,UACIC,sBAAsB,GAAG3M,KAAK,CAAC2M,sBADnC;AAEA,aAAOvc,aAAa,CAACyb,aAAD,EAAgB7b,QAAQ,CAAC,EAAD,EAAK2c,sBAAsB,CAACnY,KAAD,CAA3B,EAAoC;AAC9EoY,QAAAA,GAAG,EAAEtE,KADyE;AAE9EuE,QAAAA,QAAQ,EAAE;AAFoE,OAApC,CAAxB,EAGhBzc,aAAa,CAAC4b,OAAD,EAAU,IAAV,EAAgB5b,aAAa,CAACkD,eAAD,EAAkB,IAAlB,EAAwB,CAAC,CAACiZ,eAAD,IAAoBE,YAArB,KAAsCrc,aAAa,CAACob,IAAD,EAAO,IAAP,EAAapb,aAAa,CAAC2b,WAAD,EAAc,IAAd,EAAoBK,UAAU,IAAIhc,aAAa,CAAC0b,UAAD,EAAa,IAAb,EAAmBM,UAAnB,EAA+B,GAA/B,CAA/C,EAAoFE,IAAI,IAAIlc,aAAa,CAAC6b,IAAD,EAAO,IAAP,EAAaK,IAAb,CAAzG,CAA1B,CAA3E,CAA7B,EAAkQnW,QAAlQ,EAA4QkW,cAAc,IAAIjc,aAAa,CAAC8b,MAAD,EAAS,IAAT,EAAeG,cAAf,CAA3S,CAHG,CAApB;AAID,KAP0B,CAA3B;AAQA,WAAOjc,aAAa,CAAC6a,eAAD,EAAkB;AACpCF,MAAAA,MAAM,EAAEA,MAD4B;AAEpCM,MAAAA,IAAI,EAAEA;AAF8B,KAAlB,EAGjBmB,OAHiB,CAApB;AAID,GAzBD;;AA2BA,SAAOL,OAAP;AACD,CArCD,CAqCE9b,SArCF,CAFA;;AAyCA8b,OAAO,CAAC7L,SAAR,GAAoB;AAClB;AACA8L,EAAAA,UAAU,EAAEvZ,MAFM;AAGlB4Z,EAAAA,YAAY,EAAE/Z,IAHI;;AAKlB;AACAyD,EAAAA,QAAQ,EAAEvD,IANQ;;AAQlB;AACA0Z,EAAAA,IAAI,EAAEzZ,MATY;AAUlBwZ,EAAAA,cAAc,EAAExZ,MAVE;;AAYlB;AACAyV,EAAAA,KAAK,EAAE5V,IAbW;AAclB4W,EAAAA,OAAO,EAAE3W,IAdS;;AAgBlB;AACAoY,EAAAA,MAAM,EAAEpY,IAjBU;AAkBlB4Z,EAAAA,eAAe,EAAE7Z,IAlBC;;AAoBlB;AACAkH,EAAAA,KAAK,EAAE9G,KAAK,EArBM;AAsBlBga,EAAAA,YAAY,EAAEna,IAtBI;;AAwBlB;AACA8V,EAAAA,UAAU,EAAE1V,KAAK,CAAC,CAAC,QAAD,EAAW,OAAX,EAAoB,MAApB,CAAD,CAzBC;AA0BlBsY,EAAAA,IAAI,EAAE3Y;AA1BY,CAApB;AA4BAyZ,OAAO,CAAC5L,YAAR,GAAuB;AACrB+I,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB,CAAE,CADT;AAErB+B,EAAAA,IAAI,EAAE;AAFe,CAAvB;AAKA,IAAI0B,QAAQ,GACZ,aACAhT,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,UADC;AAEdqH,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,CAGG,8BAHH,CAFA;AAMAsM,QAAQ,CAACxM,YAAT,GAAwB;AACtB5K,EAAAA,QAAQ,EAAE;AADY,CAAxB;AAIA,IAAIqX,KAAK,GACT,aACAjT,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,OADC;AAEdqH,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,CAGG,kBAHH,CAFA;AAMAuM,KAAK,CAACzM,YAAN,GAAqB;AACnB5K,EAAAA,QAAQ,EAAE;AADS,CAArB;AAIA,IAAIsX,QAAQ,GAAGvb,IAAI,CAACuD,OAAO,CAACC,IAAR,CAAayB,IAAb,CAAkB1B,OAAlB,CAAD,CAAnB;AACA,IAAIiY,WAAW,GACf,aACAnT,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,cADC;AAEdqH,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,CAGG,8BAHH,CAFA;AAMA,IAAI0M,iBAAiB,GACrB,aACAhZ,GAAG,CAAC,oBAAD,CAFH;;AAIA,IAAIiZ,YAAY,GAAG,SAASA,YAAT,CAAsBnX,IAAtB,EAA4B;AAC7C,MAAIE,QAAQ,GAAGF,IAAI,CAACE,QAApB;AAAA,MACIkX,KAAK,GAAGpX,IAAI,CAACoX,KADjB;AAAA,MAEIC,QAAQ,GAAGrX,IAAI,CAACqX,QAFpB;AAAA,MAGI9Y,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,UAAD,EAAa,OAAb,EAAsB,UAAtB,CAAP,CAHzC;;AAKA,MAAInB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCmB,QAAzC,KAAsDkX,KAAK,IAAIC,QAA/D,CAAJ,EAA8E;AAC5E;AACAL,IAAAA,QAAQ,CAAC,CAAC,kEAAD,EAAqE,gFAArE,EAAuJM,IAAvJ,CAA4J,IAA5J,CAAD,CAAR;AACD;;AAED,MAAIC,MAAM,GAAGrX,QAAQ,GAAGA,QAAH,GAAc,CAACkX,KAAK,IAAIjd,aAAa,CAAC4c,KAAD,EAAQ;AAChE/Y,IAAAA,GAAG,EAAE,OAD2D;AAEhEuS,IAAAA,SAAS,EAAE2G;AAFqD,GAAR,EAGvDE,KAHuD,CAAvB,EAGxBC,QAAQ,IAAIld,aAAa,CAAC2c,QAAD,EAAW;AAC7C9Y,IAAAA,GAAG,EAAE,UADwC;AAE7CyB,IAAAA,aAAa,EAAE;AAF8B,GAAX,EAGjC4X,QAHiC,CAHD,CAAnC;AAOA,SAAOld,aAAa,CAAC8c,WAAD,EAAc1Y,KAAd,EAAqBgZ,MAArB,CAApB;AACD,CAnBD;;AAqBAJ,YAAY,CAAC9M,SAAb,GAAyB;AACvBnK,EAAAA,QAAQ,EAAEnD,SAAS,CAAC,CAACC,OAAO,CAACL,IAAD,CAAR,EAAgBA,IAAhB,CAAD,CADI;AAEvB0a,EAAAA,QAAQ,EAAEza,MAFa;AAGvBwa,EAAAA,KAAK,EAAExa;AAHgB,CAAzB;AAMA,IAAI4a,UAAU,GACd,aACA1T,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,aADC;AAEdqH,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,CAGG,gGAHH,CAFA;;AAOA,IAAIiN,kBAAkB,GAAG,SAAS/T,gBAAT,CAA0BnF,KAA1B,EAAiC;AACxD,MAAIyB,IAAI,GAAGzB,KAAK,CAACoF,KAAN,IAAe,EAA1B;AAAA,MACIqO,mBAAmB,GAAGhS,IAAI,CAACgS,mBAD/B;AAAA,MAEIC,oBAAoB,GAAGjS,IAAI,CAACiS,oBAFhC;AAAA,MAGIC,uBAAuB,GAAGlS,IAAI,CAACkS,uBAHnC;AAAA,MAIIC,sBAAsB,GAAGnS,IAAI,CAACmS,sBAJlC;;AAMA,SAAO;AACLuF,IAAAA,GAAG,EAAE;AACH1F,MAAAA,mBAAmB,EAAEA,mBADlB;AAEHC,MAAAA,oBAAoB,EAAEA,oBAFnB;AAGHC,MAAAA,uBAAuB,EAAEA,uBAHtB;AAIHC,MAAAA,sBAAsB,EAAEA;AAJrB;AADA,GAAP;AAQD,CAfD;;AAiBA,IAAIwF,WAAW,GACf,aACA7T,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,cADC;AAEdO,EAAAA,gBAAgB,EAAE+T,kBAFJ;AAGdjN,EAAAA,MAAM,EAAE;AAHM,CAAR,CAAR,CAIG,kBAJH,CAFA;AAQA,IAAIoN,WAAW,GAAG,oBAAlB;AACA,IAAIC,MAAM,GAAG,eAAeD,WAA5B;AACA,IAAIE,aAAa,GACjB,aACAhU,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,gBADC;AAEdqH,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,CAGGsH,qBAHH,EAG0B,8BAH1B,EAG0D+F,MAH1D,EAGkE,2EAHlE,EAG+IA,MAH/I,EAGuJ,gEAHvJ,EAGyND,WAHzN,EAGsO,eAHtO,CAFA;AAOA,IAAIG,SAAS,GAAGva,MAAM,CAAC,GAAD,CAAtB;;AAEA,IAAIwa,kBAAkB,GAAG,SAAStU,gBAAT,CAA0BnF,KAA1B,EAAiC;AACxD;AACA,MAAIkN,KAAK,GAAGlN,KAAK,CAAC0Z,OAAN,GAAgB1Z,KAAK,CAAC4B,KAAN,CAAYc,IAAZ,CAAiB,iBAAjB,CAAhB,GAAsD,OAAlE;AACA,MAAIiX,WAAW,GAAGH,SAAS,CAACtM,KAAD,CAA3B;AACA,SAAO;AACLmM,IAAAA,WAAW,EAAEnM,KADR;AAELA,IAAAA,KAAK,EAAEA,KAFF;AAGL,cAAU;AACRA,MAAAA,KAAK,EAAEyM,WADC;AAERN,MAAAA,WAAW,EAAEM;AAFL;AAHL,GAAP;AAQD,CAZD;;AAcA,IAAIC,cAAc,GAClB,aACArU,QAAQ,CAAC,UAAU9D,IAAV,EAAgB;AACvB,MAAIoY,IAAI,GAAGpY,IAAI,CAACoY,IAAhB;AAAA,MACI7Z,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,MAAD,CAAP,CADzC;;AAGA,MAAI,CAACoY,IAAL,EAAW;AACT,WAAOje,aAAa,CAAC,QAAD,EAAWoE,KAAX,CAApB;AACD;;AAED,SAAOpE,aAAa,CAAC,GAAD,EAAMJ,QAAQ,CAAC;AACjCqe,IAAAA,IAAI,EAAEA,IAD2B;AAEjCC,IAAAA,GAAG,EAAE;AAF4B,GAAD,EAG/B9Z,KAH+B,CAAd,CAApB;AAID,CAZO,EAYL;AACD4E,EAAAA,WAAW,EAAE,QADZ;AAEDO,EAAAA,gBAAgB,EAAEsU,kBAFjB;AAGDnM,EAAAA,iBAAiB,EAAE1O,WAHlB;AAIDqN,EAAAA,MAAM,EAAE;AAJP,CAZK,CAAR,CAiBG,iWAjBH,CAFA;;AAqBA,IAAI8N,MAAM,GAAG,SAASA,MAAT,CAAgBvO,KAAhB,EAAuB;AAClC,MAAIwO,KAAK,GAAGxO,KAAK,CAACwO,KAAlB;AAAA,MACIha,KAAK,GAAGhC,6BAA6B,CAACwN,KAAD,EAAQ,CAAC,OAAD,CAAR,CADzC;;AAGA,SAAO5P,aAAa,CAACge,cAAD,EAAiB5Z,KAAjB,EAAwBga,KAAxB,CAApB;AACD,CALD;;AAOAD,MAAM,CAACjO,SAAP,GAAmB;AACjB;AACAkO,EAAAA,KAAK,EAAE3b;AAFU,CAAnB;AAKA,IAAI4b,cAAc,GAClB,aACA1U,QAAQ,CAACwU,MAAD,EAAS;AACf9N,EAAAA,MAAM,EAAE;AADO,CAAT,CAAR,CAEG,8LAFH,EAEmM,UAAUjM,KAAV,EAAiB;AAClN,SAAOA,KAAK,CAAC6U,QAAN,GAAiB,SAAjB,GAA6B,SAApC;AACD,CAJD,EAIG,wJAJH,CAFA;;AAQA,IAAIqF,aAAa,GACjB,aACA,UAAU7V,gBAAV,EAA4B;AAC1B1G,EAAAA,cAAc,CAACuc,aAAD,EAAgB7V,gBAAhB,CAAd;;AAEA,WAAS6V,aAAT,GAAyB;AACvB,QAAI7Q,KAAJ;;AAEA,SAAK,IAAItD,IAAI,GAAGvB,SAAS,CAACwB,MAArB,EAA6BsD,IAAI,GAAG,IAAIrD,KAAJ,CAAUF,IAAV,CAApC,EAAqDG,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGH,IAA3E,EAAiFG,IAAI,EAArF,EAAyF;AACvFoD,MAAAA,IAAI,CAACpD,IAAD,CAAJ,GAAa1B,SAAS,CAAC0B,IAAD,CAAtB;AACD;;AAEDmD,IAAAA,KAAK,GAAGhF,gBAAgB,CAACkF,IAAjB,CAAsBhF,KAAtB,CAA4BF,gBAA5B,EAA8C,CAAC,IAAD,EAAOV,MAAP,CAAc2F,IAAd,CAA9C,KAAsE,IAA9E;;AAEAD,IAAAA,KAAK,CAAC8Q,WAAN,GAAoB,UAAUpS,KAAV,EAAiB;AACnCA,MAAAA,KAAK,CAACI,eAAN;;AAEAkB,MAAAA,KAAK,CAACrJ,KAAN,CAAY8U,OAAZ,CAAoB/M,KAApB;AACD,KAJD;;AAMA,WAAOsB,KAAP;AACD;;AAED,MAAI5E,MAAM,GAAGyV,aAAa,CAACxV,SAA3B;;AAEAD,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,WAAO/I,aAAa,CAACqe,cAAD,EAAiBze,QAAQ,CAAC,EAAD,EAAK,KAAKwE,KAAV,EAAiB;AAC5D8U,MAAAA,OAAO,EAAE,KAAKqF;AAD8C,KAAjB,CAAzB,CAApB;AAGD,GAJD;;AAMA,SAAOD,aAAP;AACD,CA9BD,CA8BEre,SA9BF,CAFA;;AAkCAqe,aAAa,CAACpO,SAAd,GAA0B;AACxBkG,EAAAA,SAAS,EAAE3T,MADa;;AAGxB;AACA2b,EAAAA,KAAK,EAAE3b,MAJiB;AAKxByW,EAAAA,OAAO,EAAE3W,IALe;AAMxBub,EAAAA,OAAO,EAAExb,IANe;;AAQxB;AACAwD,EAAAA,KAAK,EAAElD,SAAS,CAAC,CAACH,MAAD,EAASK,MAAT,CAAD;AATQ,CAA1B;AAWAwb,aAAa,CAACnO,YAAd,GAA6B;AAC3B+I,EAAAA,OAAO,EAAEjY;AADkB,CAA7B;;AAIA,IAAIud,eAAe,GAAG,SAASA,eAAT,CAAyBzY,QAAzB,EAAmC;AACvD,SAAO3F,QAAQ,CAACqe,OAAT,CAAiB1Y,QAAjB,EAA2BiC,MAA3B,CAAkCC,OAAlC,CAAP;AACD,CAFD;;AAGA,IAAIyW,kBAAkB,GAAG,SAASA,kBAAT,CAA4BC,cAA5B,EAA4CC,QAA5C,EAAsD;AAC7E,SAAOrd,MAAM,CAACC,IAAI,CAACmd,cAAD,EAAiBC,QAAjB,CAAL,CAAN,CAAuC5W,MAAvC,CAA8C,UAAUb,IAAV,EAAgB;AACnE,WAAOA,IAAI,KAAKuC,SAAhB;AACD,GAFM,EAEJU,MAFI,GAEK,CAFZ;AAGD,CAJD;;AAMA,IAAIyU,MAAM,GAAG;AACXxG,EAAAA,UAAU,EAAE;AADD,CAAb;AAGA,IAAIyG,KAAK,GAAG;AACVzG,EAAAA,UAAU,EAAE;AADF,CAAZ;AAGA,IAAI0G,IAAI,GAAG;AACT1G,EAAAA,UAAU,EAAE;AADH,CAAX;AAGA,IAAI2G,aAAa,GAAG;AAClBhD,EAAAA,UAAU,EAAE,IADM;AAElBE,EAAAA,IAAI,EAAE;AAFY,CAApB;;AAKA,IAAI+C,kBAAkB,GAAG,SAAS1V,gBAAT,CAA0BnF,KAA1B,EAAiC;AACxD,MAAIA,KAAK,CAAC8T,KAAV,EAAiB;AACf,WAAO;AACLvH,MAAAA,aAAa,EAAE;AADV,KAAP;AAGD;;AAED,SAAO,IAAP;AACD,CARD;;AAUA,IAAIuO,WAAW,GACf,aACAvV,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,cADC;AAEdO,EAAAA,gBAAgB,EAAE0V,kBAFJ;AAGd5O,EAAAA,MAAM,EAAE;AAHM,CAAR,CAAR,CAIG,iCAJH,CAFA;AAOA,IAAI8O,aAAa,GACjB,aACAxV,QAAQ,CAAC,KAAD,EAAQ;AACd0G,EAAAA,MAAM,EAAE;AADM,CAAR,CAAR,CAEG,4GAFH,EAEiH,UAAUjM,KAAV,EAAiB;AAChI,SAAO;AACLgb,IAAAA,QAAQ,EAAEhb,KAAK,CAAC4B,KAAN,CAAYqR,MAAZ,CAAmBP,IADxB;AAELuI,IAAAA,MAAM,EAAEjb,KAAK,CAAC8T,KAAN,GAAc,YAAd,GAA6B;AAFhC,GAAP;AAID,CAPD,EAOG,GAPH,CAFA;AAUA,IAAIoH,yBAAyB,GAC7B,aACAvb,GAAG,CAAC,kBAAD,CAFH;;AAIA,IAAIwb,YAAY,GAAG,SAASA,YAAT,CAAsB1Z,IAAtB,EAA4B;AAC7C,MAAI2Z,MAAM,GAAG3Z,IAAI,CAAC2Z,MAAlB;AAAA,MACIC,YAAY,GAAG5Z,IAAI,CAAC4Z,YADxB;AAAA,MAEI1Z,QAAQ,GAAGF,IAAI,CAACE,QAFpB;AAAA,MAGI2Z,iBAAiB,GAAG7Z,IAAI,CAAC6Z,iBAH7B;AAAA,MAIItb,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,QAAD,EAAW,cAAX,EAA2B,UAA3B,EAAuC,mBAAvC,CAAP,CAJzC;;AAMA,MAAI8Z,iBAAiB,GAAGnB,eAAe,CAACzY,QAAD,CAAvC;AACA,MAAI6Z,aAAa,GAAGxf,QAAQ,CAACyf,KAAT,CAAeF,iBAAf,CAApB;AACA,SAAO3f,aAAa,CAACkf,WAAD,EAAc9a,KAAd,EAAqB,CAACob,MAAM,IAAIC,YAAX,KAA4Bzf,aAAa,CAACmf,aAAD,EAAgB;AAChG1a,IAAAA,OAAO,EAAE,IADuF;AAEhGyT,IAAAA,KAAK,EAAE9T,KAAK,CAAC8T;AAFmF,GAAhB,EAG/ElY,aAAa,CAACqX,MAAD,EAAS;AACvBC,IAAAA,MAAM,EAAEkI,MADe;AAEvBjI,IAAAA,MAAM,EAAEkI;AAFe,GAAT,CAHkE,CAA9D,EAMfzf,aAAa,CAAC4Y,IAAD,EAAO;AACvBxC,IAAAA,SAAS,EAAEkJ;AADY,GAAP,EAEflf,QAAQ,CAACsD,GAAT,CAAaic,iBAAb,EAAgC,UAAUnI,KAAV,EAAiB4C,KAAjB,EAAwB;AACzD,QAAIwF,aAAa,KAAK,CAAtB,EAAyB;AACvB,aAAOvf,YAAY,CAACmX,KAAD,EAAQqH,MAAR,CAAnB;AACD;;AAED,QAAIzE,KAAK,KAAK,CAAd,EAAiB;AACf,aAAO/Z,YAAY,CAACmX,KAAD,EAAQsH,KAAR,CAAnB;AACD;;AAED,QAAIgB,QAAQ,GAAGJ,iBAAiB,IAAItF,KAAK,GAAG,CAA5C;;AAEA,QAAIA,KAAK,KAAKwF,aAAa,GAAG,CAA9B,EAAiC;AAC/B,aAAOvf,YAAY,CAACmX,KAAD,EAAQsI,QAAQ,GAAGlgB,QAAQ,CAAC,EAAD,EAAKmf,IAAL,EAAW,EAAX,EAAeC,aAAf,CAAX,GAA2CD,IAA3D,CAAnB;AACD;;AAED,WAAOe,QAAQ,GAAGzf,YAAY,CAACmX,KAAD,EAAQwH,aAAR,CAAf,GAAwCxH,KAAvD;AACD,GAhBE,CAFe,CANE,CAApB;AAyBD,CAlCD;;AAoCA+H,YAAY,CAACrP,SAAb,GAAyB;AACvB;AACAsP,EAAAA,MAAM,EAAE/c,MAFe;;AAIvB;AACAgd,EAAAA,YAAY,EAAEhd,MALS;;AAOvB;AACAsD,EAAAA,QAAQ,EAAEvD,IARa;;AAUvB;AACA0V,EAAAA,KAAK,EAAE5V,IAXgB;AAYvBod,EAAAA,iBAAiB,EAAEpd;AAZI,CAAzB;AAeA,IAAIyd,SAAS,GAAG;AACdjZ,EAAAA,IAAI,EAAE;AACJ,qBAAiB,SADb;AAEJ,uBAAmB,SAFf;AAGJ,sBAAkB;AAHd,GADQ;AAMdsK,EAAAA,QAAQ,EAAE;AACRrN,IAAAA,GAAG,EAAE;AACHuN,MAAAA,KAAK,EAAE;AADJ,KADG;AAIR0O,IAAAA,UAAU,EAAE;AACVjc,MAAAA,GAAG,EAAE;AACH+M,QAAAA,UAAU,EAAE,oBADT;AAEHoG,QAAAA,YAAY,EAAE,KAFX;AAGH+I,QAAAA,OAAO,EAAE,KAHN;AAIHZ,QAAAA,MAAM,EAAE;AAJL;AADK,KAJJ;AAYR5N,IAAAA,IAAI,EAAE;AACJ1N,MAAAA,GAAG,EAAE;AACHyO,QAAAA,SAAS,EAAE;AADR;AADD;AAZE,GANI;AAwBd0N,EAAAA,MAAM,EAAE;AACNnc,IAAAA,GAAG,EAAE;AACHuN,MAAAA,KAAK,EAAE;AADJ;AADC,GAxBM;AA6Bd6O,EAAAA,QAAQ,EAAE;AACRpc,IAAAA,GAAG,EAAE;AACH+M,MAAAA,UAAU,EAAE,SADT;AAEHoG,MAAAA,YAAY,EAAE,iBAFX;AAGH+I,MAAAA,OAAO,EAAE;AAHN;AADG,GA7BI;AAoCdG,EAAAA,qBAAqB,EAAE;AACrBrc,IAAAA,GAAG,EAAE;AACHmT,MAAAA,YAAY,EAAE,OADX;AAEH/R,MAAAA,QAAQ,EAAE,QAFP;AAGH4M,MAAAA,MAAM,EAAE;AAHL;AADgB,GApCT;AA2CdgK,EAAAA,OAAO,EAAE;AACPsE,IAAAA,kBAAkB,EAAE;AADb,GA3CK;AA8CdC,EAAAA,YAAY,EAAE;AACZvc,IAAAA,GAAG,EAAE;AACH+M,MAAAA,UAAU,EAAE;AADT;AADO,GA9CA;AAmDdyP,EAAAA,SAAS,EAAE;AACTxc,IAAAA,GAAG,EAAE;AACH+M,MAAAA,UAAU,EAAE;AADT;AADI;AAnDG,CAAhB;AA0DA,IAAI0P,WAAW,GAAG;AAChB1Z,EAAAA,IAAI,EAAE;AACJ,qBAAiB,SADb;AAEJ,uBAAmB,SAFf;AAGJ,sBAAkB;AAHd,GADU;AAMhBuQ,EAAAA,MAAM,EAAE;AACNP,IAAAA,IAAI,EAAE,MADA;AAEN/S,IAAAA,GAAG,EAAE;AACH0c,MAAAA,SAAS,EAAE;AADR;AAFC,GANQ;AAYhBrP,EAAAA,QAAQ,EAAE;AACRrN,IAAAA,GAAG,EAAE;AACHuN,MAAAA,KAAK,EAAE,MADJ;AAEHR,MAAAA,UAAU,EAAE,6CAFT;AAGHoG,MAAAA,YAAY,EAAE,MAHX;AAIHwJ,MAAAA,YAAY,EAAE,MAJX;AAKHD,MAAAA,SAAS,EAAE;AALR;AADG,GAZM;AAqBhBN,EAAAA,QAAQ,EAAE;AACRpc,IAAAA,GAAG,EAAE;AACH+M,MAAAA,UAAU,EAAE,aADT;AAEHoG,MAAAA,YAAY,EAAE,MAFX;AAGHwJ,MAAAA,YAAY,EAAE,MAHX;AAIHT,MAAAA,OAAO,EAAE;AAJN,KADG;AAORD,IAAAA,UAAU,EAAE;AACVjc,MAAAA,GAAG,EAAE;AACH+M,QAAAA,UAAU,EAAE,6CADT;AAEHoG,QAAAA,YAAY,EAAE,KAFX;AAGH+I,QAAAA,OAAO,EAAE,KAHN;AAIHZ,QAAAA,MAAM,EAAE,MAJL;AAKHoB,QAAAA,SAAS,EAAE;AALR;AADK;AAPJ,GArBM;AAsChB5G,EAAAA,WAAW,EAAE;AACX9V,IAAAA,GAAG,EAAE;AACH+M,MAAAA,UAAU,EAAE,6CADT;AAEH4P,MAAAA,YAAY,EAAE,MAFX;AAGHxJ,MAAAA,YAAY,EAAE,MAHX;AAIHuJ,MAAAA,SAAS,EAAE;AAJR;AADM,GAtCG;AA8ChBH,EAAAA,YAAY,EAAE;AACZvc,IAAAA,GAAG,EAAE;AACHmT,MAAAA,YAAY,EAAE,MADX;AAEHwJ,MAAAA,YAAY,EAAE,MAFX;AAGHD,MAAAA,SAAS,EAAE;AAHR;AADO,GA9CE;AAqDhB1E,EAAAA,OAAO,EAAE;AACPsE,IAAAA,kBAAkB,EAAE,MADb;AAEP7D,IAAAA,GAAG,EAAE;AACH0D,MAAAA,MAAM,EAAE;AACNnc,QAAAA,GAAG,EAAE;AACHuN,UAAAA,KAAK,EAAE,MADJ;AAEHR,UAAAA,UAAU,EAAE;AAFT;AADC;AADL;AAFE,GArDO;AAgEhBoP,EAAAA,MAAM,EAAE;AACN/H,IAAAA,gBAAgB,EAAE,MADZ;AAENC,IAAAA,iBAAiB,EAAE,MAFb;AAGNrU,IAAAA,GAAG,EAAE;AACHuN,MAAAA,KAAK,EAAE,SADJ;AAEHR,MAAAA,UAAU,EAAE,MAFT;AAGHkG,MAAAA,QAAQ,EAAE;AAHP;AAHC,GAhEQ;AAyEhBoJ,EAAAA,qBAAqB,EAAE;AACrBrc,IAAAA,GAAG,EAAE;AACHkO,MAAAA,KAAK,EAAE;AADJ;AADgB;AAzEP,CAAlB;AAgFA,IAAI0O,YAAY,GAAG;AACjB7Z,EAAAA,IAAI,EAAE;AACJ,qBAAiB;AADb,GADW;AAIjBuQ,EAAAA,MAAM,EAAE;AACNP,IAAAA,IAAI,EAAE,MADA;AAEN/S,IAAAA,GAAG,EAAE;AACH0c,MAAAA,SAAS,EAAE;AADR;AAFC,GAJS;AAUjBL,EAAAA,qBAAqB,EAAE;AACrBrc,IAAAA,GAAG,EAAE;AACHkO,MAAAA,KAAK,EAAE,OADJ;AAEHiF,MAAAA,YAAY,EAAE,CAFX;AAGHuJ,MAAAA,SAAS,EAAE;AAHR;AADgB,GAVN;AAiBjBrP,EAAAA,QAAQ,EAAE;AACRrN,IAAAA,GAAG,EAAE;AACHuN,MAAAA,KAAK,EAAE,MADJ;AAEHR,MAAAA,UAAU,EAAE;AAFT,KADG;AAKRuG,IAAAA,MAAM,EAAE;AACNtT,MAAAA,GAAG,EAAE;AACH0c,QAAAA,SAAS,EAAE;AADR;AADC;AALA,GAjBO;AA4BjBN,EAAAA,QAAQ,EAAE;AACRpc,IAAAA,GAAG,EAAE;AACHuN,MAAAA,KAAK,EAAE,MADJ;AAEHR,MAAAA,UAAU,EAAE;AAFT,KADG;AAKRW,IAAAA,IAAI,EAAE;AACJH,MAAAA,KAAK,EAAE;AADH;AALE,GA5BO;AAqCjBuI,EAAAA,WAAW,EAAE;AACX9V,IAAAA,GAAG,EAAE;AACH+M,MAAAA,UAAU,EAAE;AADT;AADM,GArCI;AA0CjBoP,EAAAA,MAAM,EAAE;AACN9H,IAAAA,iBAAiB,EAAE,MADb;AAEND,IAAAA,gBAAgB,EAAE;AAFZ;AA1CS,CAAnB;AAgDA,IAAIyI,UAAU,GAAG,SAAjB;AACA,IAAIC,KAAK,GAAG,MAAZ;AACA,IAAIC,YAAY,GAAG;AACjBha,EAAAA,IAAI,EAAE;AACJ,qBAAiB8Z,UADb;AAEJ,uBAAmB,SAFf;AAGJ,sBAAkBC;AAHd,GADW;AAMjBzP,EAAAA,QAAQ,EAAE;AACRiG,IAAAA,MAAM,EAAE;AACNP,MAAAA,IAAI,EAAE,MADA;AAEN/S,MAAAA,GAAG,EAAE;AACHgd,QAAAA,WAAW,EAAE;AADV;AAFC,KADA;AAORhd,IAAAA,GAAG,EAAE;AACHid,MAAAA,eAAe,EAAE;AADd;AAPG,GANO;AAiBjB3J,EAAAA,MAAM,EAAE;AACNP,IAAAA,IAAI,EAAE;AADA,GAjBS;AAoBjBoJ,EAAAA,MAAM,EAAE;AACN9H,IAAAA,iBAAiB,EAAE,OADb;AAEND,IAAAA,gBAAgB,EAAE,OAFZ;AAGNpU,IAAAA,GAAG,EAAE;AACHid,MAAAA,eAAe,EAAE;AACf,mBAAW,wBADI;AAEfC,QAAAA,GAAG,EAAE;AAFU;AADd;AAHC,GApBS;AA8BjB9C,EAAAA,MAAM,EAAE,EA9BS;AA+BjBlN,EAAAA,YAAY,EAAE;AACZoG,IAAAA,MAAM,EAAE;AACNtT,MAAAA,GAAG,EAAE;AACHgd,QAAAA,WAAW,EAAE;AADV;AADC;AADI,GA/BG;AAsCjBX,EAAAA,qBAAqB,EAAE;AACrBc,IAAAA,iBAAiB,EAAE,GADE;AAErBjP,IAAAA,KAAK,EAAE,OAFc;AAGrBF,IAAAA,MAAM,EAAE;AAHa,GAtCN;AA2CjBoP,EAAAA,qBAAqB,EAAE;AACrBD,IAAAA,iBAAiB,EAAE;AADE,GA3CN;AA8CjBE,EAAAA,gBAAgB,EAAE;AAChBC,IAAAA,QAAQ,EAAE,OADM;AAEhBtd,IAAAA,GAAG,EAAE;AAFW,GA9CD;AAkDjBgY,EAAAA,OAAO,EAAE;AACPsE,IAAAA,kBAAkB,EAAE,MADb;AAEP7E,IAAAA,eAAe,EAAE,MAFV;AAGPgB,IAAAA,GAAG,EAAE;AACHhB,MAAAA,eAAe,EAAE,OADd;AAEH0E,MAAAA,MAAM,EAAE;AACNnc,QAAAA,GAAG,EAAE;AACHid,UAAAA,eAAe,EAAE,sBADd;AAEH1P,UAAAA,KAAK,EAAEuP;AAFJ;AADC,OAFL;AAQHjF,MAAAA,OAAO,EAAE;AACP7X,QAAAA,GAAG,EAAE;AACHyM,UAAAA,UAAU,EAAE;AADT;AADE,OARN;AAaHmL,MAAAA,WAAW,EAAE;AACX5X,QAAAA,GAAG,EAAE;AACHud,UAAAA,SAAS,EAAE;AADR;AADM,OAbV;AAkBHzF,MAAAA,IAAI,EAAE;AACJ9X,QAAAA,GAAG,EAAE;AACHud,UAAAA,SAAS,EAAE;AADR;AADD;AAlBH,KAHE;AA2BPL,IAAAA,GAAG,EAAE;AACHf,MAAAA,MAAM,EAAE;AACNnc,QAAAA,GAAG,EAAE;AACHid,UAAAA,eAAe,EAAE;AADd;AADC;AADL;AA3BE,GAlDQ;AAqFjBO,EAAAA,cAAc,EAAE,EArFC;AAsFjBhC,EAAAA,YAAY,EAAE,EAtFG;AAuFjB1F,EAAAA,WAAW,EAAE;AACX9V,IAAAA,GAAG,EAAE;AACHid,MAAAA,eAAe,EAAE;AADd;AADM,GAvFI;AA4FjBQ,EAAAA,YAAY,EAAE,EA5FG;AA6FjBC,EAAAA,WAAW,EAAE,EA7FI;AA8FjBzE,EAAAA,YAAY,EAAE,EA9FG;AA+FjB0E,EAAAA,UAAU,EAAE;AACV3d,IAAAA,GAAG,EAAE;AACH0Z,MAAAA,WAAW,EAAE,sBADV;AAEHuD,MAAAA,eAAe,EAAE,MAFd;AAGH1P,MAAAA,KAAK,EAAE;AAHJ;AADK,GA/FK;AAsGjBgP,EAAAA,YAAY,EAAE;AACZ;AACAqB,IAAAA,UAAU,EAAE,MAFA;AAGZlQ,IAAAA,IAAI,EAAE;AACJH,MAAAA,KAAK,EAAE;AADH,KAHM;AAMZ0O,IAAAA,UAAU,EAAE;AACVjP,MAAAA,MAAM,EAAE;AACNU,QAAAA,IAAI,EAAE;AACJH,UAAAA,KAAK,EAAE;AADH;AADA;AADE;AANA,GAtGG;AAoHjB6O,EAAAA,QAAQ,EAAE;AACRyB,IAAAA,UAAU,EAAE,MADJ;AAERC,IAAAA,SAAS,EAAE,SAFH;AAGR9d,IAAAA,GAAG,EAAE;AACHid,MAAAA,eAAe,EAAE;AADd;AAHG;AApHO,CAAnB;;AA6HA,IAAIc,UAAU,GAAG,SAASA,UAAT,CAAoB9b,KAApB,EAA2B;AAC1C,MAAI+b,aAAa,GAAGvb,iBAAiB,CAACR,KAAD,CAArC;;AAEA,MAAIoB,MAAM,CAACC,IAAP,CAAY0a,aAAZ,EAA2B3X,MAA3B,KAAsC,CAA1C,EAA6C;AAC3C,WAAOxK,QAAQ,CAAC,EAAD,EAAKoG,KAAL,EAAY;AACzBc,MAAAA,IAAI,EAAEpF,OAAO,CAAC,UAAUmC,GAAV,EAAe;AAC3B,eAAO,OAAOA,GAAd;AACD,OAFY,EAEVmC,KAAK,CAACc,IAAN,IAAc,EAFJ;AADY,KAAZ,CAAf;AAKD;;AAED,SAAOlH,QAAQ,CAAC,EAAD,EAAKoG,KAAL,EAAY,EAAZ,EAAgBrE,SAAS,CAAC,UAAUiI,SAAV,EAAqB;AAC5D,WAAOhK,QAAQ,CAAC,EAAD,EAAKkiB,UAAU,CAAClY,SAAD,CAAf,EAA4B;AACzC7F,MAAAA,GAAG,EAAE6F,SAAS,CAAC7F,GAAV,IAAiB;AADmB,KAA5B,CAAf;AAGD,GAJuC,EAIrCge,aAJqC,CAAzB,EAII;AACjBjb,IAAAA,IAAI,EAAEpF,OAAO,CAAC,UAAUmC,GAAV,EAAe;AAC3B,aAAO,OAAOA,GAAd;AACD,KAFY,EAEVmC,KAAK,CAACc,IAAN,IAAc,EAFJ;AADI,GAJJ,CAAf;AASD,CApBD;;AAsBA,IAAIkb,qBAAqB,GAAG,SAASA,qBAAT,CAA+Bnc,IAA/B,EAAqC;AAC/D,MAAIoc,UAAU,GAAGpc,IAAI,CAACG,KAAtB;AAAA,MACIA,KAAK,GAAGic,UAAU,KAAK,KAAK,CAApB,GAAwB,EAAxB,GAA6BA,UADzC;AAAA,MAEIlc,QAAQ,GAAGF,IAAI,CAACE,QAFpB;AAGA,MAAImc,MAAM,GAAGJ,UAAU,CAACrgB,KAAK,CAACqf,YAAD,EAAe9a,KAAf,CAAN,CAAvB;AACA,SAAOhG,aAAa,CAACiC,aAAD,EAAgB;AAClC6D,IAAAA,KAAK,EAAEoc;AAD2B,GAAhB,EAEjBnc,QAFiB,CAApB;AAGD,CARD,C,CAUA;;;AAEA,IAAIoc,WAAW,GACf,aACAxY,QAAQ,CAAC,QAAD,EAAW;AACjBX,EAAAA,WAAW,EAAE,YADI;AAEjBqH,EAAAA,MAAM,EAAE;AAFS,CAAX,CAAR,CAGG,4aAHH,CAFA;;AAOA,IAAIqR,UAAU,GACd,aACA,UAAUjZ,gBAAV,EAA4B;AAC1B1G,EAAAA,cAAc,CAAC2f,UAAD,EAAajZ,gBAAb,CAAd;;AAEA,WAASiZ,UAAT,GAAsB;AACpB,QAAIjU,KAAJ;;AAEA,SAAK,IAAItD,IAAI,GAAGvB,SAAS,CAACwB,MAArB,EAA6BsD,IAAI,GAAG,IAAIrD,KAAJ,CAAUF,IAAV,CAApC,EAAqDG,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGH,IAA3E,EAAiFG,IAAI,EAArF,EAAyF;AACvFoD,MAAAA,IAAI,CAACpD,IAAD,CAAJ,GAAa1B,SAAS,CAAC0B,IAAD,CAAtB;AACD;;AAEDmD,IAAAA,KAAK,GAAGhF,gBAAgB,CAACkF,IAAjB,CAAsBhF,KAAtB,CAA4BF,gBAA5B,EAA8C,CAAC,IAAD,EAAOV,MAAP,CAAc2F,IAAd,CAA9C,KAAsE,IAA9E;;AAEAD,IAAAA,KAAK,CAAC2U,YAAN,GAAqB,UAAUjW,KAAV,EAAiB;AACpC;AACA;AACA;AACAsB,MAAAA,KAAK,CAACrJ,KAAN,CAAYie,QAAZ,CAAqB5U,KAAK,CAACrJ,KAAN,CAAY0B,KAAjC;;AAEA2H,MAAAA,KAAK,CAACrJ,KAAN,CAAY8U,OAAZ,CAAoB/M,KAApB;AACD,KAPD;;AASA,WAAOsB,KAAP;AACD;;AAED,MAAI5E,MAAM,GAAG6Y,UAAU,CAAC5Y,SAAxB;;AAEAD,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,WAAO/I,aAAa,CAACmiB,WAAD,EAAcviB,QAAQ,CAAC,EAAD,EAAK,KAAKwE,KAAV,EAAiB;AACzD8U,MAAAA,OAAO,EAAE,KAAKkJ;AAD2C,KAAjB,CAAtB,CAApB;AAGD,GAJD;;AAMA,SAAOV,UAAP;AACD,CAjCD,CAiCEzhB,SAjCF,CAFA;;AAqCAyhB,UAAU,CAACvR,YAAX,GAA0B;AACxB+I,EAAAA,OAAO,EAAEjY,IADe;AAExBohB,EAAAA,QAAQ,EAAEphB;AAFc,CAA1B;AAIAygB,UAAU,CAACxR,SAAX,GAAuB;AACrBnK,EAAAA,QAAQ,EAAEvD,IAAI,CAAC0O,UADM;AAErBgI,EAAAA,OAAO,EAAE3W,IAFY;AAGrB8f,EAAAA,QAAQ,EAAE9f,IAHW;AAIrBuD,EAAAA,KAAK,EAAElD,SAAS,CAAC,CAACH,MAAD,EAASK,MAAT,CAAD;AAJK,CAAvB,C,CAOA;;AAEA,IAAIwf,UAAU,GAAGhhB,IAAI,CAACuD,OAAO,CAACC,IAAR,CAAayB,IAAb,CAAkB1B,OAAlB,CAAD,CAArB;AACA,IAAI0d,aAAa,GACjB,aACA5Y,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,cADC;AAEdqH,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,CAGG,kFAHH,CAFA;;AAOA,IAAImS,YAAY,GAChB,aACA,UAAU/Z,gBAAV,EAA4B;AAC1B1G,EAAAA,cAAc,CAACygB,YAAD,EAAe/Z,gBAAf,CAAd;;AAEA,WAAS+Z,YAAT,GAAwB;AACtB,QAAI/U,KAAJ;;AAEA,SAAK,IAAItD,IAAI,GAAGvB,SAAS,CAACwB,MAArB,EAA6BsD,IAAI,GAAG,IAAIrD,KAAJ,CAAUF,IAAV,CAApC,EAAqDG,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGH,IAA3E,EAAiFG,IAAI,EAArF,EAAyF;AACvFoD,MAAAA,IAAI,CAACpD,IAAD,CAAJ,GAAa1B,SAAS,CAAC0B,IAAD,CAAtB;AACD;;AAEDmD,IAAAA,KAAK,GAAGhF,gBAAgB,CAACkF,IAAjB,CAAsBhF,KAAtB,CAA4BF,gBAA5B,EAA8C,CAAC,IAAD,EAAOV,MAAP,CAAc2F,IAAd,CAA9C,KAAsE,IAA9E;;AAEAD,IAAAA,KAAK,CAACgV,aAAN,GAAsB,UAAU3c,KAAV,EAAiB;AACrC,aAAO2H,KAAK,CAACrJ,KAAN,CAAYie,QAAZ,CAAqBvc,KAArB,CAAP;AACD,KAFD;;AAIA,WAAO2H,KAAP;AACD;;AAED,MAAI5E,MAAM,GAAG2Z,YAAY,CAAC1Z,SAA1B;;AAEAD,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAI8F,MAAM,GAAG,IAAb,CADgC,CAGhC;;;AACA,QAAIgB,WAAW,GAAG,KAAKzL,KAAvB;AAAA,QACI2B,QAAQ,GAAG8J,WAAW,CAAC9J,QAD3B;AAAA,QAEI2c,OAAO,GAAG7S,WAAW,CAAC6S,OAF1B;AAAA,QAGIL,QAAQ,GAAGxS,WAAW,CAACwS,QAH3B;AAAA,QAIIje,KAAK,GAAGhC,6BAA6B,CAACyN,WAAD,EAAc,CAAC,UAAD,EAAa,SAAb,EAAwB,UAAxB,CAAd,CAJzC;;AAMA,QAAInL,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCmB,QAAzC,IAAqD2c,OAAzD,EAAkE;AAChE;AACAJ,MAAAA,UAAU,CAAC,CAAC,uDAAD,EAA0D,gFAA1D,EAA4InF,IAA5I,CAAiJ,IAAjJ,CAAD,CAAV;AACD;;AAED,QAAIC,MAAM,GAAGrX,QAAQ,GAAGyY,eAAe,CAACzY,QAAD,CAAlB,GAA+B2c,OAAO,CAAChf,GAAR,CAAY,UAAUif,KAAV,EAAiBvI,KAAjB,EAAwB;AACtF,aAAOpa,aAAa,CAAC0hB,UAAD,EAAa;AAC/B7d,QAAAA,GAAG,EAAEuW,KAD0B;AAE/BtU,QAAAA,KAAK,EAAE6c;AAFwB,OAAb,EAGjBA,KAHiB,CAApB;AAID,KALmD,CAApD;AAMA,WAAO3iB,aAAa,CAACuiB,aAAD,EAAgBne,KAAhB,EAAuBhE,QAAQ,CAACsD,GAAT,CAAa0Z,MAAb,EAAqB,UAAU5F,KAAV,EAAiB;AAC/E,aAAOnX,YAAY,CAACmX,KAAD,EAAQ;AACzB6K,QAAAA,QAAQ,EAAExT,MAAM,CAAC4T;AADQ,OAAR,CAAnB;AAGD,KAJ0C,CAAvB,CAApB;AAKD,GA1BD;;AA4BA,SAAOD,YAAP;AACD,CAlDD,CAkDEviB,SAlDF,CAFA;;AAsDAuiB,YAAY,CAACrS,YAAb,GAA4B;AAC1BkS,EAAAA,QAAQ,EAAEphB;AADgB,CAA5B;AAGAuhB,YAAY,CAACtS,SAAb,GAAyB;AACvBnK,EAAAA,QAAQ,EAAEvD,IADa;AAEvB6f,EAAAA,QAAQ,EAAE9f,IAFa;AAGvBmgB,EAAAA,OAAO,EAAE7f,OAAO,CAACJ,MAAD;AAHO,CAAzB;AAMA,IAAImgB,WAAW,GACf,aACAjZ,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,UADC;AAEdgB,EAAAA,OAAO,EAAE,IAFK;AAGdqG,EAAAA,MAAM,EAAE;AAHM,CAAR,CAAR,CAIG,uJAJH,CAFA;AAOA,IAAIwS,OAAO,GACX,aACAlZ,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,eADC;AAEdqH,EAAAA,MAAM,EAAE;AAFM,CAAR,CAAR,CAGG,oGAHH,CAFA;;AAOA,IAAI8P,QAAQ,GAAG,SAASA,QAAT,CAAkBta,IAAlB,EAAwB;AACrC,MAAIid,SAAS,GAAGjd,IAAI,CAACid,SAArB;AAAA,MACIC,UAAU,GAAGld,IAAI,CAACkd,UADtB;AAAA,MAEI9F,KAAK,GAAGpX,IAAI,CAACoX,KAFjB;AAAA,MAGI7Y,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,WAAD,EAAc,YAAd,EAA4B,OAA5B,CAAP,CAHzC;;AAKA,SAAO7F,aAAa,CAAC4iB,WAAD,EAAcxe,KAAd,EAAqB0e,SAArB,EAAgC9iB,aAAa,CAAC6iB,OAAD,EAAU;AACzE5d,IAAAA,QAAQ,EAAE;AAD+D,GAAV,EAE9DgY,KAF8D,CAA7C,EAET8F,UAFS,CAApB;AAGD,CATD;;AAWA5C,QAAQ,CAACjQ,SAAT,GAAqB;AACnB4S,EAAAA,SAAS,EAAEjgB,OAAO,CAACL,IAAD,CADC;AAEnBugB,EAAAA,UAAU,EAAElgB,OAAO,CAACL,IAAD,CAFA;AAGnBwD,EAAAA,KAAK,EAAEtD,KAAK,EAHO;AAInBua,EAAAA,KAAK,EAAEza;AAJY,CAArB;;AAOA,IAAIwgB,sBAAsB,GAAGjjB,aAAa,EAA1C;AAAA,IACIkjB,gBAAgB,GAAGD,sBAAsB,CAAC/c,QAD9C;AAAA,IAEIid,WAAW,GAAGF,sBAAsB,CAACzJ,QAFzC;;AAGA,IAAI4J,cAAc,GAClB,aACAxZ,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,cADC;AAEdgB,EAAAA,OAAO,EAAE,IAFK;AAGdqG,EAAAA,MAAM,EAAE;AAHM,CAAR,CAAR,CAIG,qEAJH,CAFA;;AAQA,IAAIiQ,YAAY,GAChB,aACA,UAAU7X,gBAAV,EAA4B;AAC1B1G,EAAAA,cAAc,CAACue,YAAD,EAAe7X,gBAAf,CAAd;;AAEA,WAAS6X,YAAT,GAAwB;AACtB,QAAI7S,KAAJ;;AAEA,SAAK,IAAItD,IAAI,GAAGvB,SAAS,CAACwB,MAArB,EAA6BsD,IAAI,GAAG,IAAIrD,KAAJ,CAAUF,IAAV,CAApC,EAAqDG,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGH,IAA3E,EAAiFG,IAAI,EAArF,EAAyF;AACvFoD,MAAAA,IAAI,CAACpD,IAAD,CAAJ,GAAa1B,SAAS,CAAC0B,IAAD,CAAtB;AACD;;AAEDmD,IAAAA,KAAK,GAAGhF,gBAAgB,CAACkF,IAAjB,CAAsBhF,KAAtB,CAA4BF,gBAA5B,EAA8C,CAAC,IAAD,EAAOV,MAAP,CAAc2F,IAAd,CAA9C,KAAsE,IAA9E;AACAD,IAAAA,KAAK,CAAC2V,KAAN,GAAc;AACZtd,MAAAA,KAAK,EAAE2H,KAAK,CAAC4V,SAAN,CAAgB;AACrBvd,QAAAA,KAAK,EAAE2H,KAAK,CAACrJ,KAAN,CAAYkf;AADE,OAAhB;AADK,KAAd;;AAMA7V,IAAAA,KAAK,CAAC8V,kBAAN,GAA2B,UAAUpX,KAAV,EAAiB;AAC1C,UAAIqX,IAAI,GAAG/V,KAAK,CAACgW,SAAN,EAAX;;AAEA,UAAI,CAACD,IAAL,EAAW;AACT;AACD;;AAED/V,MAAAA,KAAK,CAACrJ,KAAN,CAAYsf,aAAZ,CAA0BvX,KAA1B;AACD,KARD;;AAUAsB,IAAAA,KAAK,CAACkW,aAAN,GAAsB,UAAUxX,KAAV,EAAiB;AACrC,UAAIrG,KAAK,GAAGqG,KAAK,CAACkE,MAAN,CAAavK,KAAzB;;AAEA,UAAI,CAAC2H,KAAK,CAACmW,aAAN,EAAL,EAA4B;AAC1BnW,QAAAA,KAAK,CAACoW,QAAN,CAAe;AACb/d,UAAAA,KAAK,EAAEA;AADM,SAAf;AAGD;;AAED2H,MAAAA,KAAK,CAACrJ,KAAN,CAAY0f,aAAZ,CAA0Bhe,KAA1B;;AAEA2H,MAAAA,KAAK,CAACrJ,KAAN,CAAY2f,QAAZ,CAAqB5X,KAArB;AACD,KAZD;;AAcAsB,IAAAA,KAAK,CAACuW,eAAN,GAAwB,UAAUlW,GAAV,EAAe;AACrCL,MAAAA,KAAK,CAACwW,SAAN,GAAkBnW,GAAlB;;AAEAL,MAAAA,KAAK,CAACrJ,KAAN,CAAY8f,QAAZ,CAAqBpW,GAArB;AACD,KAJD;;AAMAL,IAAAA,KAAK,CAAC0W,cAAN,GAAuB,UAAUhY,KAAV,EAAiB;AACtC,UAAIiY,SAAS,GAAG3W,KAAK,CAACrJ,KAAN,CAAYggB,SAA5B;;AAEA,UAAInX,mBAAmB,CAACd,KAAD,CAAvB,EAAgC;AAC9BA,QAAAA,KAAK,CAACO,cAAN;AACD;;AAED,UAAI,CAACE,eAAe,CAACT,KAAD,CAAhB,IAA2BW,kBAAkB,CAACX,KAAD,CAAjD,EAA0D;AACxDiY,QAAAA,SAAS,CAACjY,KAAD,CAAT;AACA;AACD;;AAEDsB,MAAAA,KAAK,CAACgW,SAAN;;AAEAW,MAAAA,SAAS,CAACjY,KAAD,CAAT;AACD,KAfD;;AAiBAsB,IAAAA,KAAK,CAACgW,SAAN,GAAkB,YAAY;AAC5B,UAAI,CAAChW,KAAK,CAAC4W,QAAN,EAAL,EAAuB;AACrB,eAAO,KAAP;AACD;;AAED,UAAI,CAAC5W,KAAK,CAACmW,aAAN,EAAL,EAA4B;AAC1BnW,QAAAA,KAAK,CAACoW,QAAN,CAAe;AACb/d,UAAAA,KAAK,EAAE;AADM,SAAf;AAGD;;AAED2H,MAAAA,KAAK,CAACrJ,KAAN,CAAY0f,aAAZ,CAA0B,EAA1B;;AAEArW,MAAAA,KAAK,CAACrJ,KAAN,CAAYkgB,MAAZ,CAAmB1iB,OAAO,CAAC6L,KAAK,CAAC2V,KAAN,CAAYtd,KAAb,CAA1B;;AAEA,aAAO,IAAP;AACD,KAhBD;;AAkBA,WAAO2H,KAAP;AACD;;AAED,MAAI5E,MAAM,GAAGyX,YAAY,CAACxX,SAA1B;;AAEAD,EAAAA,MAAM,CAACwa,SAAP,GAAmB,SAASA,SAAT,CAAmBD,KAAnB,EAA0Bhf,KAA1B,EAAiC;AAClD,QAAIgf,KAAK,KAAK,KAAK,CAAnB,EAAsB;AACpBA,MAAAA,KAAK,GAAG,KAAKA,KAAb;AACD;;AAED,QAAIhf,KAAK,KAAK,KAAK,CAAnB,EAAsB;AACpBA,MAAAA,KAAK,GAAG,KAAKA,KAAb;AACD;;AAED,WAAO,KAAKwf,aAAL,KAAuBxf,KAAK,CAAC0B,KAA7B,GAAqCsd,KAAK,CAACtd,KAAlD;AACD,GAVD;;AAYA+C,EAAAA,MAAM,CAACwb,QAAP,GAAkB,SAASA,QAAT,GAAoB;AACpC,WAAO,KAAKjgB,KAAL,CAAW2M,MAAX,IAAqB,KAAKqS,KAAL,CAAWtd,KAAX,CAAiBye,IAAjB,OAA4B,EAAxD;AACD,GAFD;;AAIA1b,EAAAA,MAAM,CAAC+a,aAAP,GAAuB,SAASA,aAAT,GAAyB;AAC9C,WAAO,KAAKxf,KAAL,CAAW0B,KAAX,KAAqB,QAA5B;AACD,GAFD;;AAIA+C,EAAAA,MAAM,CAAC0G,kBAAP,GAA4B,SAASA,kBAAT,CAA4BC,SAA5B,EAAuCC,SAAvC,EAAkD;AAC5E,QAAI3J,KAAK,GAAG,KAAKud,SAAL,EAAZ;;AAEA,QAAImB,SAAS,GAAG,KAAKnB,SAAL,CAAe5T,SAAf,EAA0BD,SAA1B,CAAhB;;AAEA,QAAI1J,KAAK,KAAK0e,SAAV,IAAuB1e,KAAK,KAAK,EAArC,EAAyC;AACvC,WAAKme,SAAL,CAAeQ,KAAf;AACD;AACF,GARD;;AAUA5b,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC;AACA,QAAI8G,WAAW,GAAG,KAAKzL,KAAvB;AAAA,QACI2M,MAAM,GAAGlB,WAAW,CAACkB,MADzB;AAAA,QAEIhL,QAAQ,GAAG8J,WAAW,CAAC9J,QAF3B;AAAA,QAGIud,YAAY,GAAGzT,WAAW,CAACyT,YAH/B;AAAA,QAIII,aAAa,GAAG7T,WAAW,CAAC6T,aAJhC;AAAA,QAKIK,QAAQ,GAAGlU,WAAW,CAACkU,QAL3B;AAAA,QAMIK,SAAS,GAAGvU,WAAW,CAACuU,SAN5B;AAAA,QAOIE,MAAM,GAAGzU,WAAW,CAACyU,MAPzB;AAAA,QAQIR,aAAa,GAAGjU,WAAW,CAACiU,aARhC;AAAA,QASIhe,KAAK,GAAG+J,WAAW,CAAC/J,KATxB;AAAA,QAUI1B,KAAK,GAAGhC,6BAA6B,CAACyN,WAAD,EAAc,CAAC,QAAD,EAAW,UAAX,EAAuB,cAAvB,EAAuC,eAAvC,EAAwD,UAAxD,EAAoE,WAApE,EAAiF,QAAjF,EAA2F,eAA3F,EAA4G,OAA5G,CAAd,CAVzC;;AAYA,QAAI6U,YAAY,GAAG;AACjB3T,MAAAA,MAAM,EAAE,KAAKsT,QAAL,EADS;AAEjBH,MAAAA,QAAQ,EAAE,KAAKF,eAFE;AAGjBle,MAAAA,KAAK,EAAE,KAAKud,SAAL,EAHU;AAIjBI,MAAAA,SAAS,EAAE,KAAKA,SAJC;AAKjBC,MAAAA,aAAa,EAAE,KAAKH,kBALH;AAMjBQ,MAAAA,QAAQ,EAAE,KAAKJ,aANE;AAOjBS,MAAAA,SAAS,EAAE,KAAKD;AAPC,KAAnB;AASA,WAAOnkB,aAAa,CAACijB,gBAAD,EAAmB;AACrCnd,MAAAA,KAAK,EAAE4e;AAD8B,KAAnB,EAEjB1kB,aAAa,CAACmjB,cAAD,EAAiB/e,KAAjB,EAAwB2B,QAAxB,CAFI,CAApB;AAGD,GA1BD;;AA4BA,SAAOua,YAAP;AACD,CAlJD,CAkJErgB,SAlJF,CAFA;;AAsJAqgB,YAAY,CAACpQ,SAAb,GAAyB;AACvBa,EAAAA,MAAM,EAAEzO,IADe;AAEvByD,EAAAA,QAAQ,EAAEvD,IAFa;AAGvB8gB,EAAAA,YAAY,EAAE7gB,MAHS;AAIvByhB,EAAAA,QAAQ,EAAE3hB,IAJa;AAKvBmhB,EAAAA,aAAa,EAAEnhB,IALQ;AAMvBwhB,EAAAA,QAAQ,EAAExhB,IANa;AAOvB6hB,EAAAA,SAAS,EAAE7hB,IAPY;AAQvB+hB,EAAAA,MAAM,EAAE/hB,IARe;AASvBuD,EAAAA,KAAK,EAAErD;AATgB,CAAzB;AAWA6d,YAAY,CAACnQ,YAAb,GAA4B;AAC1BY,EAAAA,MAAM,EAAE,IADkB;AAE1BuS,EAAAA,YAAY,EAAE,EAFY;AAG1BY,EAAAA,QAAQ,EAAEjjB,IAHgB;AAI1ByiB,EAAAA,aAAa,EAAEziB,IAJW;AAK1B8iB,EAAAA,QAAQ,EAAE9iB,IALgB;AAM1BmjB,EAAAA,SAAS,EAAEnjB,IANe;AAO1BqjB,EAAAA,MAAM,EAAErjB,IAPkB;AAQ1B6iB,EAAAA,aAAa,EAAE7iB;AARW,CAA5B;;AAWA,IAAI0jB,YAAY,GAAI,UAAUC,kBAAV,EAA8B;AAChD,MAAIA,kBAAkB,KAAK,KAAK,CAAhC,EAAmC;AACjCA,IAAAA,kBAAkB,GAAG/iB,QAArB;AACD;;AAED,SAAO,UAAUsG,gBAAV,EAA4B;AACjC,QAAIC,MAAJ,EAAYC,KAAZ;;AAEA,WAAOA,KAAK,GAAGD,MAAM,GACrB,aACA,UAAUK,gBAAV,EAA4B;AAC1B1G,MAAAA,cAAc,CAAC8iB,YAAD,EAAepc,gBAAf,CAAd;;AAEA,eAASoc,YAAT,GAAwB;AACtB,eAAOpc,gBAAgB,CAACE,KAAjB,CAAuB,IAAvB,EAA6BC,SAA7B,KAA2C,IAAlD;AACD;;AAED,UAAIC,MAAM,GAAGgc,YAAY,CAAC/b,SAA1B;;AAEAD,MAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,YAAI0E,KAAK,GAAG,IAAZ;;AAEA,eAAOzN,aAAa,CAACkjB,WAAD,EAAc,IAAd,EAAoB,UAAU4B,OAAV,EAAmB;AACzD,iBAAO9kB,aAAa,CAACmI,gBAAD,EAAmBvI,QAAQ,CAAC,EAAD,EAAK6N,KAAK,CAACrJ,KAAX,EAAkBwgB,kBAAkB,CAACE,OAAD,EAAUrX,KAAK,CAACrJ,KAAhB,CAApC,CAA3B,CAApB;AACD,SAFmB,CAApB;AAGD,OAND;;AAQA,aAAOygB,YAAP;AACD,KAlBD,CAkBE5kB,SAlBF,CAFO,EAoBOmI,MAAM,CAACY,WAAP,GAAqB,kBAAkBhH,cAAc,CAACmG,gBAAD,CAAhC,GAAqD,GApBjF,EAoBsFE,KApB7F;AAqBD,GAxBD;AAyBD,CA9BD;;AAgCA,IAAI0c,UAAU,GACd,aACA,UAAUtc,gBAAV,EAA4B;AAC1B1G,EAAAA,cAAc,CAACgjB,UAAD,EAAatc,gBAAb,CAAd;;AAEA,WAASsc,UAAT,GAAsB;AACpB,WAAOtc,gBAAgB,CAACE,KAAjB,CAAuB,IAAvB,EAA6BC,SAA7B,KAA2C,IAAlD;AACD;;AAED,MAAIC,MAAM,GAAGkc,UAAU,CAACjc,SAAxB;;AAEAD,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAI8G,WAAW,GAAG,KAAKzL,KAAvB;AAAA,QACI4gB,IAAI,GAAGnV,WAAW,CAACmV,IADvB;AAAA,QAEIC,SAAS,GAAG7iB,6BAA6B,CAACyN,WAAD,EAAc,CAAC,MAAD,CAAd,CAF7C;;AAIA,WAAO7P,aAAa,CAACgZ,YAAD,EAAeiM,SAAf,EAA0BD,IAAI,GAAGhlB,aAAa,CAACyR,IAAD,EAAO,IAAP,EAAauT,IAAb,CAAhB,GAAqChlB,aAAa,CAAC+V,QAAD,EAAW,IAAX,CAAhF,CAApB;AACD,GAND;;AAQA,SAAOgP,UAAP;AACD,CAlBD,CAkBE9kB,SAlBF,CAFA,C,CAoBc;;;AAGd8kB,UAAU,CAAC7U,SAAX,GAAuB;AACrBa,EAAAA,MAAM,EAAEzO,IADa;AAErB4W,EAAAA,OAAO,EAAE3W;AAFY,CAAvB;AAIA,IAAI2iB,UAAU,GAAG5jB,IAAI,CAACuD,OAAO,CAACC,IAAR,CAAayB,IAAb,CAAkB1B,OAAlB,CAAD,CAArB;AACA,IAAIsgB,YAAY,GAAGR,YAAY,CAAC,UAAU9e,IAAV,EAAgB+Y,QAAhB,EAA0B;AACxD,MAAI7N,MAAM,GAAGlL,IAAI,CAACkL,MAAlB;AAAA,MACI2S,aAAa,GAAG7d,IAAI,CAAC6d,aADzB;;AAGA,MAAIhf,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1C,QAAIwgB,eAAe,GAAG,CAAC,QAAD,EAAW,SAAX,CAAtB;;AAEA,QAAI1G,kBAAkB,CAAC0G,eAAD,EAAkBxG,QAAlB,CAAtB,EAAmD;AACjD;AACAsG,MAAAA,UAAU,CAAC,CAACE,eAAe,GAAG,wCAAnB,EAA6D,8EAA8EpjB,cAAc,CAAC+iB,UAAD,CAA5F,GAA2G,GAAxK,EAA6K5H,IAA7K,CAAkL,GAAlL,CAAD,CAAV;AACD;AACF;;AAED,SAAOpM,MAAM,GAAG;AACdA,IAAAA,MAAM,EAAEA,MADM;AAEdmI,IAAAA,OAAO,EAAEwK;AAFK,GAAH,GAGT;AACF3S,IAAAA,MAAM,EAAEA;AADN,GAHJ;AAMD,CAnB8B,CAAZ,CAmBhBgU,UAnBgB,CAAnB,C,CAqBA;AACA;;AAEA,IAAIM,WAAW,GACf,aACA1b,QAAQ,CAAC,UAAU9D,IAAV,EAAgB;AACvB,MAAIvB,QAAQ,GAAGuB,IAAI,CAACvB,QAApB;AAAA,MACIF,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,UAAD,CAAP,CADzC;;AAGA,SAAO7F,aAAa,CAACsD,gBAAD,EAAmBc,KAAnB,CAApB;AACD,CALO,EAKL;AACD4E,EAAAA,WAAW,EAAE,WADZ;AAEDqH,EAAAA,MAAM,EAAE;AAFP,CALK,CAAR,CAQG,+JARH,CAFA;;AAYA,IAAIkQ,SAAS,GACb,aACA,UAAU9X,gBAAV,EAA4B;AAC1B1G,EAAAA,cAAc,CAACwe,SAAD,EAAY9X,gBAAZ,CAAd;;AAEA,WAAS8X,SAAT,GAAqB;AACnB,QAAI9S,KAAJ;;AAEA,SAAK,IAAItD,IAAI,GAAGvB,SAAS,CAACwB,MAArB,EAA6BsD,IAAI,GAAG,IAAIrD,KAAJ,CAAUF,IAAV,CAApC,EAAqDG,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGH,IAA3E,EAAiFG,IAAI,EAArF,EAAyF;AACvFoD,MAAAA,IAAI,CAACpD,IAAD,CAAJ,GAAa1B,SAAS,CAAC0B,IAAD,CAAtB;AACD;;AAEDmD,IAAAA,KAAK,GAAGhF,gBAAgB,CAACkF,IAAjB,CAAsBhF,KAAtB,CAA4BF,gBAA5B,EAA8C,CAAC,IAAD,EAAOV,MAAP,CAAc2F,IAAd,CAA9C,KAAsE,IAA9E;;AAEAD,IAAAA,KAAK,CAAC6X,OAAN,GAAgB,UAAUxX,GAAV,EAAe;AAC7BL,MAAAA,KAAK,CAACrJ,KAAN,CAAY8f,QAAZ,CAAqBpW,GAArB;;AAEAL,MAAAA,KAAK,CAACrJ,KAAN,CAAY4J,QAAZ,CAAqBF,GAArB;AACD,KAJD;;AAMA,WAAOL,KAAP;AACD;;AAED,MAAI5E,MAAM,GAAG0X,SAAS,CAACzX,SAAvB;;AAEAD,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC;AACA,QAAI8G,WAAW,GAAG,KAAKzL,KAAvB;AAAA,QACI4J,QAAQ,GAAG6B,WAAW,CAAC7B,QAD3B;AAAA,QAEIkW,QAAQ,GAAGrU,WAAW,CAACqU,QAF3B;AAAA,QAGI9f,KAAK,GAAGhC,6BAA6B,CAACyN,WAAD,EAAc,CAAC,UAAD,EAAa,UAAb,CAAd,CAHzC;;AAKA,WAAO7P,aAAa,CAACqlB,WAAD,EAAczlB,QAAQ,CAAC,EAAD,EAAKwE,KAAL,EAAY;AACpD8f,MAAAA,QAAQ,EAAE,KAAKoB;AADqC,KAAZ,CAAtB,CAApB;AAGD,GAVD;;AAYA,SAAO/E,SAAP;AACD,CApCD,CAoCEtgB,SApCF,CAFA,C,CAsCc;;;AAGdsgB,SAAS,CAACpQ,YAAV,GAAyB;AACvBnC,EAAAA,QAAQ,EAAE/M,IADa;AAEvBijB,EAAAA,QAAQ,EAAEjjB,IAFa;AAGvBskB,EAAAA,OAAO,EAAE,CAHc;AAIvBxB,EAAAA,QAAQ,EAAE9iB,IAJa;AAKvBmjB,EAAAA,SAAS,EAAEnjB,IALY;AAMvBukB,EAAAA,WAAW,EAAE;AANU,CAAzB;AAQAjF,SAAS,CAACrQ,SAAV,GAAsB;AACpBoT,EAAAA,YAAY,EAAE7gB,MADM;AAEpBuL,EAAAA,QAAQ,EAAEzL,IAFU;AAGpB2hB,EAAAA,QAAQ,EAAE3hB,IAHU;AAIpBgjB,EAAAA,OAAO,EAAEziB,MAJW;AAKpB2iB,EAAAA,OAAO,EAAE3iB,MALW;AAMpBihB,EAAAA,QAAQ,EAAExhB,IANU;AAOpBmjB,EAAAA,cAAc,EAAEnjB,IAPI;AAQpB6hB,EAAAA,SAAS,EAAE7hB,IARS;AASpBijB,EAAAA,WAAW,EAAE/iB,MATO;AAUpBqD,EAAAA,KAAK,EAAErD;AAVa,CAAtB;AAYA,IAAIkjB,UAAU,GAAGrkB,IAAI,CAACuD,OAAO,CAACC,IAAR,CAAayB,IAAb,CAAkB1B,OAAlB,CAAD,CAArB;AACA,IAAI+gB,WAAW,GAAGjB,YAAY,CAAC,UAAU/U,KAAV,EAAiBgP,QAAjB,EAA2B;AACxD,MAAIsF,QAAQ,GAAGtU,KAAK,CAACsU,QAArB;AAAA,MACIH,QAAQ,GAAGnU,KAAK,CAACmU,QADrB;AAAA,MAEIK,SAAS,GAAGxU,KAAK,CAACwU,SAFtB;AAAA,MAGIte,KAAK,GAAG8J,KAAK,CAAC9J,KAHlB;;AAKA,MAAIpB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1C,QAAIihB,cAAc,GAAG,CAAC,cAAD,EAAiB,UAAjB,EAA6B,UAA7B,EAAyC,WAAzC,EAAsD,OAAtD,CAArB;;AAEA,QAAInH,kBAAkB,CAACmH,cAAD,EAAiBjH,QAAjB,CAAtB,EAAkD;AAChD;AACA+G,MAAAA,UAAU,CAAC,CAACE,cAAc,GAAG,wCAAlB,EAA4D,8EAA8E7jB,cAAc,CAACue,SAAD,CAA5F,GAA0G,GAAtK,EAA2KpD,IAA3K,CAAgL,GAAhL,CAAD,CAAV;AACD;AACF;;AAED,SAAO;AACL+G,IAAAA,QAAQ,EAAEA,QADL;AAELH,IAAAA,QAAQ,EAAEA,QAFL;AAGLK,IAAAA,SAAS,EAAEA,SAHN;AAILte,IAAAA,KAAK,EAAEA;AAJF,GAAP;AAMD,CArB6B,CAAZ,CAqBfya,SArBe,CAAlB;;AAuBA,IAAIuF,kBAAkB,GAAG,SAASvc,gBAAT,CAA0BnF,KAA1B,EAAiC;AACxD,MAAIwS,UAAU,GAAG,EAAjB;;AAEA,MAAIxS,KAAK,CAAC4B,KAAV,EAAiB;AACf;AACA4Q,IAAAA,UAAU,CAACmP,KAAX,GAAmB3hB,KAAK,CAAC4B,KAAN,CAAYob,gBAAZ,CAA6BC,QAA7B,KAA0C,OAA1C,GAAoD,GAApD,GAA0D,MAA7E;AACAzK,IAAAA,UAAU,CAACoP,IAAX,GAAkB5hB,KAAK,CAAC4B,KAAN,CAAYob,gBAAZ,CAA6BC,QAA7B,KAA0C,MAA1C,GAAmD,GAAnD,GAAyD,MAA3E;AACD;;AAED,MAAIjd,KAAK,CAAC8c,iBAAV,EAA6B;AAC3BtK,IAAAA,UAAU,CAACqP,UAAX,GAAwB,SAAS7hB,KAAK,CAAC8c,iBAAf,GAAmC,aAA3D;AACD;;AAED,MAAI9c,KAAK,CAACgf,KAAV,EAAiB;AACfxM,IAAAA,UAAU,CAACpE,SAAX,GAAuBpO,KAAK,CAACgf,KAAN,KAAgB,SAAhB,GAA4B,MAA5B,GAAqC,gCAA5D;AACAxM,IAAAA,UAAU,CAACsP,OAAX,GAAqB9hB,KAAK,CAACgf,KAAN,KAAgB,SAAhB,GAA4B,GAA5B,GAAkC,GAAvD;AACD;;AAED,MAAIhf,KAAK,CAAC2N,MAAV,EAAkB;AAChB6E,IAAAA,UAAU,CAAC7E,MAAX,GAAoB3N,KAAK,CAAC2N,MAA1B;AACD;;AAED,MAAI3N,KAAK,CAAC6N,KAAV,EAAiB;AACf2E,IAAAA,UAAU,CAAC3E,KAAX,GAAmB7N,KAAK,CAAC6N,KAAzB;AACD;;AAED,SAAO2E,UAAP;AACD,CA3BD;;AA6BA,IAAIuP,aAAa,GACjB,aACAxc,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,uBADC;AAEdO,EAAAA,gBAAgB,EAAEuc,kBAFJ;AAGdzV,EAAAA,MAAM,EAAE;AAHM,CAAR,CAAR,CAIG,iJAJH,CAFA;;AAQA,IAAI+P,qBAAqB,GAAG,SAASA,qBAAT,CAA+Bhc,KAA/B,EAAsC;AAChE,SAAOpE,aAAa,CAACmD,UAAD,EAAa;AAC/B,UAAMiB,KAAK,CAAC2M,MADmB;AAE/BqV,IAAAA,YAAY,EAAE,IAFiB;AAG/B9K,IAAAA,OAAO,EAAElX,KAAK,CAAC4B,KAAN,CAAYoa,qBAAZ,CAAkCc,iBAHZ;AAI/BmF,IAAAA,aAAa,EAAE;AAJgB,GAAb,EAKjB,UAAUjD,KAAV,EAAiB;AAClB,WAAOpjB,aAAa,CAACmmB,aAAD,EAAgBvmB,QAAQ,CAAC,EAAD,EAAKwE,KAAL,EAAY;AACtDgf,MAAAA,KAAK,EAAEA;AAD+C,KAAZ,CAAxB,EAEhBhjB,QAAQ,CAACsD,GAAT,CAAaU,KAAK,CAAC2B,QAAnB,EAA6B,UAAUyR,KAAV,EAAiB;AAChD,aAAOnX,YAAY,CAACmX,KAAD,EAAQ;AACzB8O,QAAAA,QAAQ,EAAEliB,KAAK,CAACkiB;AADS,OAAR,CAAnB;AAGD,KAJG,CAFgB,CAApB;AAOD,GAbmB,CAApB;AAcD,CAfD;;AAiBAlG,qBAAqB,CAAClQ,SAAtB,GAAkC;AAChC;AACAa,EAAAA,MAAM,EAAEzO,IAFwB;;AAIhC;AACAyD,EAAAA,QAAQ,EAAEvD,IAAI,CAAC0O,UALiB;;AAOhC;AACAoV,EAAAA,QAAQ,EAAE/jB,IARsB;;AAUhC;AACAiH,EAAAA,KAAK,EAAE9G,KAAK;AAXoB,CAAlC;AAaA,IAAI6jB,SAAS,GAAGpkB,SAAS,CAACie,qBAAD,CAAzB;;AAEA,IAAIoG,kBAAkB,GAAG,SAASjd,gBAAT,CAA0B1D,IAA1B,EAAgC;AACvD,MAAIud,KAAK,GAAGvd,IAAI,CAACud,KAAjB;AAAA,MACIpd,KAAK,GAAGH,IAAI,CAACG,KADjB;AAEA,MAAIygB,WAAW,GAAG,EAAlB;;AAEA,MAAIzgB,KAAJ,EAAW;AACTygB,IAAAA,WAAW,CAACR,UAAZ,GAAyB,SAASjgB,KAAK,CAACoa,qBAAN,CAA4Bc,iBAArC,GAAyD,aAAlF,CADS,CACwF;;AAEjGuF,IAAAA,WAAW,CAACV,KAAZ,GAAoB/f,KAAK,CAACob,gBAAN,CAAuBC,QAAvB,KAAoC,OAApC,GAA8C,GAA9C,GAAoD,MAAxE;AACAoF,IAAAA,WAAW,CAACT,IAAZ,GAAmBhgB,KAAK,CAACob,gBAAN,CAAuBC,QAAvB,KAAoC,MAApC,GAA6C,GAA7C,GAAmD,MAAtE;AACD;;AAED,MAAI+B,KAAJ,EAAW;AACTqD,IAAAA,WAAW,CAACjU,SAAZ,GAAwB4Q,KAAK,KAAK,SAAV,GAAsB,MAAtB,GAA+B,gCAAvD;AACAqD,IAAAA,WAAW,CAACP,OAAZ,GAAsB9C,KAAK,KAAK,SAAV,GAAsB,GAAtB,GAA4B,GAAlD;AACD;;AAED,SAAOqD,WAAP;AACD,CAlBD;;AAoBA,IAAIC,eAAe,GACnB,aACA/c,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,uBADC;AAEdO,EAAAA,gBAAgB,EAAEid,kBAFJ;AAGdnW,EAAAA,MAAM,EAAE;AAHM,CAAR,CAAR,CAIG,sDAJH,CAFA;;AAQA,IAAI8Q,qBAAqB,GAAG,SAASA,qBAAT,CAA+B/c,KAA/B,EAAsC;AAChE,SAAOpE,aAAa,CAACmD,UAAD,EAAa;AAC/B,UAAMiB,KAAK,CAAC2M,MADmB;AAE/BqV,IAAAA,YAAY,EAAE,IAFiB;AAG/B9K,IAAAA,OAAO,EAAElX,KAAK,CAAC4B,KAAN,CAAYmb,qBAAZ,CAAkCD,iBAHZ;AAI/BmF,IAAAA,aAAa,EAAE;AAJgB,GAAb,EAKjB,UAAUjD,KAAV,EAAiB;AAClB,WAAOpjB,aAAa,CAAC0mB,eAAD,EAAkB9mB,QAAQ,CAAC,EAAD,EAAKwE,KAAL,EAAY;AACxDgf,MAAAA,KAAK,EAAEA;AADiD,KAAZ,CAA1B,EAEhBhjB,QAAQ,CAACsD,GAAT,CAAaU,KAAK,CAAC2B,QAAnB,EAA6B,UAAUyR,KAAV,EAAiB;AAChD,aAAOnX,YAAY,CAACmX,KAAD,EAAQ;AACzBmP,QAAAA,QAAQ,EAAEviB,KAAK,CAACuiB;AADS,OAAR,CAAnB;AAGD,KAJG,CAFgB,CAApB;AAOD,GAbmB,CAApB;AAcD,CAfD;;AAiBAxF,qBAAqB,CAACjR,SAAtB,GAAkC;AAChC;AACAa,EAAAA,MAAM,EAAEzO,IAFwB;;AAIhC;AACAyD,EAAAA,QAAQ,EAAEvD,IAAI,CAAC0O,UALiB;;AAOhC;AACAyV,EAAAA,QAAQ,EAAEpkB,IARsB;;AAUhC;AACAiH,EAAAA,KAAK,EAAE9G,KAAK;AAXoB,CAAlC;AAaA,IAAIkkB,SAAS,GAAGzkB,SAAS,CAACgf,qBAAD,CAAzB;;AAEA,IAAI0F,kBAAkB,GAAG,SAAStd,gBAAT,CAA0BnF,KAA1B,EAAiC;AACxD,MAAIqiB,WAAW,GAAG,EAAlB;;AAEA,MAAIriB,KAAK,CAACid,QAAN,KAAmB,OAAvB,EAAgC;AAC9BoF,IAAAA,WAAW,CAACV,KAAZ,GAAoB,KAApB;AACAU,IAAAA,WAAW,CAACT,IAAZ,GAAmB,MAAnB;AACD,GAHD,MAGO,IAAI5hB,KAAK,CAACid,QAAN,KAAmB,MAAvB,EAA+B;AACpCoF,IAAAA,WAAW,CAACV,KAAZ,GAAoB,MAApB;AACAU,IAAAA,WAAW,CAACT,IAAZ,GAAmB,KAAnB;AACD;;AAED,SAAOS,WAAP;AACD,CAZD;;AAcA,IAAIK,eAAe,GACnB,aACAnd,QAAQ,CAAC,KAAD,EAAQ;AACdX,EAAAA,WAAW,EAAE,kBADC;AAEdO,EAAAA,gBAAgB,EAAEsd,kBAFJ;AAGdxW,EAAAA,MAAM,EAAE;AAHM,CAAR,CAAR,CAIG,oDAJH,CAFA;;AAQA,IAAI+Q,gBAAgB,GAAG,SAASA,gBAAT,CAA0Bhd,KAA1B,EAAiC;AACtD,SAAOpE,aAAa,CAAC8mB,eAAD,EAAkB1iB,KAAlB,EAAyBpE,aAAa,CAACoD,MAAD,EAAS;AACjE2jB,IAAAA,SAAS,EAAE3iB,KAAK,CAAC4iB;AADgD,GAAT,EAEvD,UAAUnhB,IAAV,EAAgB;AACjB,QAAIyW,EAAE,GAAGzW,IAAI,CAACyW,EAAd;AAAA,QACI2K,MAAM,GAAGphB,IAAI,CAACohB,MADlB;AAAA,QAEIC,KAAK,GAAGrhB,IAAI,CAACqhB,KAFjB;AAGA,WAAOlnB,aAAa,CAAC,KAAD,EAAQ,IAAR,EAAcI,QAAQ,CAACsD,GAAT,CAAaU,KAAK,CAAC2B,QAAnB,EAA6B,UAAUyR,KAAV,EAAiB;AAC9E,UAAIA,KAAK,CAAC5F,IAAN,KAAe2U,SAAnB,EAA8B;AAC5B,eAAOlmB,YAAY,CAACmX,KAAD,EAAQ;AACzB8O,UAAAA,QAAQ,EAAEW,MADe;AAEzBlW,UAAAA,MAAM,EAAEuL;AAFiB,SAAR,CAAnB;AAID;;AAED,UAAI9E,KAAK,CAAC5F,IAAN,KAAegV,SAAnB,EAA8B;AAC5B,eAAOvmB,YAAY,CAACmX,KAAD,EAAQ;AACzBmP,UAAAA,QAAQ,EAAEO,KADe;AAEzBnW,UAAAA,MAAM,EAAE,CAACuL;AAFgB,SAAR,CAAnB;AAID;;AAED,aAAO9E,KAAP;AACD,KAhBiC,CAAd,CAApB;AAiBD,GAvByD,CAAtC,CAApB;AAwBD,CAzBD;;AA2BA4J,gBAAgB,CAACjR,YAAjB,GAAgC;AAC9B6W,EAAAA,eAAe,EAAE;AADa,CAAhC;AAGA5F,gBAAgB,CAAClR,SAAjB,GAA6B;AAC3B;AACAnK,EAAAA,QAAQ,EAAEvD,IAAI,CAAC0O,UAFY;;AAI3B;AACA8V,EAAAA,eAAe,EAAE1kB,IALU;;AAO3B;AACAkH,EAAAA,KAAK,EAAE9G,KAAK;AARe,CAA7B;AAaA,IAAIykB,kBAAkB,GAAG,aAAa/f,MAAM,CAACggB,MAAP,CAAc;AACnDC,EAAAA,SAAS,EAAE,IADwC;AAEnDC,EAAAA,IAAI,EAAElG,gBAF6C;AAGnDmF,EAAAA,SAAS,EAAEA,SAHwC;AAInDK,EAAAA,SAAS,EAAEA;AAJwC,CAAd,CAAtC;AAOA,IAAIW,YAAY,GAAGJ,kBAAnB;;AAEA,IAAIK,cAAc,GAClB,aACA,UAAU/e,gBAAV,EAA4B;AAC1B1G,EAAAA,cAAc,CAACylB,cAAD,EAAiB/e,gBAAjB,CAAd;;AAEA,WAAS+e,cAAT,GAA0B;AACxB,QAAI/Z,KAAJ;;AAEA,SAAK,IAAItD,IAAI,GAAGvB,SAAS,CAACwB,MAArB,EAA6BsD,IAAI,GAAG,IAAIrD,KAAJ,CAAUF,IAAV,CAApC,EAAqDsd,KAAK,GAAG,CAAlE,EAAqEA,KAAK,GAAGtd,IAA7E,EAAmFsd,KAAK,EAAxF,EAA4F;AAC1F/Z,MAAAA,IAAI,CAAC+Z,KAAD,CAAJ,GAAc7e,SAAS,CAAC6e,KAAD,CAAvB;AACD;;AAEDha,IAAAA,KAAK,GAAGhF,gBAAgB,CAACkF,IAAjB,CAAsBhF,KAAtB,CAA4BF,gBAA5B,EAA8C,CAAC,IAAD,EAAOV,MAAP,CAAc2F,IAAd,CAA9C,KAAsE,IAA9E;;AAEAD,IAAAA,KAAK,CAACia,iBAAN,GAA0B,UAAU7jB,GAAV,EAAe;AACvC,aAAO,UAAUsI,KAAV,EAAiB;AACtBsB,QAAAA,KAAK,CAACrJ,KAAN,CAAYsf,aAAZ,CAA0BvX,KAA1B,EAAiCtI,GAAjC;AACD,OAFD;AAGD,KAJD;;AAMA,WAAO4J,KAAP;AACD;;AAED,MAAI5E,MAAM,GAAG2e,cAAc,CAAC1e,SAA5B;;AAEAD,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAI8F,MAAM,GAAG,IAAb;;AAEA,QAAIgB,WAAW,GAAG,KAAKzL,KAAvB;AAAA,QACIujB,OAAO,GAAG9X,WAAW,CAAC8X,OAD1B;AAAA,QAEIjE,aAAa,GAAG7T,WAAW,CAAC6T,aAFhC;AAGA,WAAO1jB,aAAa,CAAC2d,aAAD,EAAgB,IAAhB,EAAsBgK,OAAO,CAACjkB,GAAR,CAAY,UAAUmC,IAAV,EAAgBuU,KAAhB,EAAuB;AAC3E,UAAIwN,IAAI,GAAG/hB,IAAI,CAAC+hB,IAAhB;AAAA,UACItd,IAAI,GAAGzE,IAAI,CAAChC,GADhB;AAAA,UAEIgkB,WAAW,GAAGzlB,6BAA6B,CAACyD,IAAD,EAAO,CAAC,MAAD,EAAS,KAAT,CAAP,CAF/C;;AAIA,UAAIhC,GAAG,GAAGyG,IAAI,KAAKZ,SAAT,GAAqBY,IAArB,GAA4B8P,KAAtC;AACA,aAAOpa,aAAa,CAACse,aAAD,EAAgB1e,QAAQ,CAAC;AAC3CiE,QAAAA,GAAG,EAAEA,GADsC;AAE3Cua,QAAAA,KAAK,EAAEwJ,IAFoC;AAG3C1O,QAAAA,OAAO,EAAErK,MAAM,CAAC6Y,iBAAP,CAAyB7jB,GAAzB;AAHkC,OAAD,EAIzCgkB,WAJyC,CAAxB,CAApB;AAKD,KAXyC,CAAtB,CAApB;AAYD,GAlBD;;AAoBA,SAAOL,cAAP;AACD,CA5CD,CA4CEvnB,SA5CF,CAFA;;AAgDAunB,cAAc,CAACrX,YAAf,GAA8B;AAC5BuT,EAAAA,aAAa,EAAEziB;AADa,CAA9B;;AAIA,IAAIsL,eAAe,GAAG,SAASA,eAAT,CAAyBJ,KAAzB,EAAgC;AACpD,SAAOA,KAAK,CAACI,eAAN,EAAP;AACD,CAFD,C,CAEG;;;AAGH,IAAIub,IAAI,GAAG,SAASA,IAAT,CAAc1jB,KAAd,EAAqB;AAC9B,SAAOpE,aAAa,CAAC,GAAD,EAAMJ,QAAQ,CAAC,EAAD,EAAKwE,KAAL,EAAY;AAC5C8U,IAAAA,OAAO,EAAE3M,eADmC;AAE5C2R,IAAAA,GAAG,EAAE,mBAFuC;AAG5C7N,IAAAA,MAAM,EAAE;AAHoC,GAAZ,CAAd,CAApB;AAKD,CAND;;AAQA,IAAI0X,SAAS,GACb,aACApe,QAAQ,CAAC,KAAD,EAAQ;AACd0G,EAAAA,MAAM,EAAE;AADM,CAAR,CAAR,CAEG,yDAFH,CAFA;AAKA,IAAI2X,oBAAoB,GACxB,aACAre,QAAQ,CAAC,KAAD,EAAQ;AACd0G,EAAAA,MAAM,EAAE;AADM,CAAR,CAAR,CAEG,2BAFH,CAFA;;AAMA,IAAI4X,iBAAiB,GAAG,SAASA,iBAAT,CAA2BC,GAA3B,EAAgCC,MAAhC,EAAwC;AAC9D,MAAI/jB,KAAK,GAAG;AACVqT,IAAAA,GAAG,EAAEyQ;AADK,GAAZ;;AAIA,MAAIC,MAAM,KAAKze,SAAf,EAA0B;AACxBtF,IAAAA,KAAK,CAACgkB,MAAN,GAAeD,MAAf;AACD;;AAED,SAAO/jB,KAAP;AACD,CAVD,C,CAUG;;;AAGH,IAAIikB,OAAO,GAAG,SAASlS,KAAT,CAAetQ,IAAf,EAAqB;AACjC,MAAIqiB,GAAG,GAAGriB,IAAI,CAACqiB,GAAf;AAAA,MACIC,MAAM,GAAGtiB,IAAI,CAACsiB,MADlB;AAAA,MAEI/jB,KAAK,GAAGhC,6BAA6B,CAACyD,IAAD,EAAO,CAAC,KAAD,EAAQ,QAAR,CAAP,CAFzC;;AAIA,SAAO7F,aAAa,CAACwd,WAAD,EAAcpZ,KAAd,EAAqBpE,aAAa,CAACgoB,oBAAD,EAAuB,IAAvB,EAA6BhoB,aAAa,CAAC+nB,SAAD,EAAYnoB,QAAQ,CAAC;AACnH8X,IAAAA,GAAG,EAAE;AAD8G,GAAD,EAEjHuQ,iBAAiB,CAACC,GAAD,EAAMC,MAAN,CAFgG,CAApB,CAA1C,CAAlC,CAApB;AAGD,CARD,C,CAQG;;;AAGH,IAAIG,SAAS,GAAG,SAASA,SAAT,CAAmB1Y,KAAnB,EAA0B;AACxC,MAAI2Y,IAAI,GAAG3Y,KAAK,CAAC2Y,IAAjB;AAAA,MACInkB,KAAK,GAAGhC,6BAA6B,CAACwN,KAAD,EAAQ,CAAC,MAAD,CAAR,CADzC;;AAGA,SAAO2Y,IAAI,GAAGvoB,aAAa,CAAC8nB,IAAD,EAAO;AAChC7J,IAAAA,IAAI,EAAEsK,IAD0B;AAEhC/e,IAAAA,KAAK,EAAEpF,KAAK,CAACoF;AAFmB,GAAP,EAGxB6e,OAAO,CAACjkB,KAAD,CAHiB,CAAhB,GAGUikB,OAAO,CAACjkB,KAAD,CAH5B;AAID,CARD;;AAUAkkB,SAAS,CAACpY,SAAV,GAAsB;AACpBqY,EAAAA,IAAI,EAAE9lB,MADc;AAEpBylB,EAAAA,GAAG,EAAEzlB,MAAM,CAACyO,UAFQ;AAGpBkX,EAAAA,MAAM,EAAE3lB;AAHY,CAAtB;AAMA,IAAI2c,QAAQ,GACZ,aACArb,GAAG,CAAC,cAAD,CAFH;;AAIA,IAAIykB,IAAI,GACR,aACA,UAAU/f,gBAAV,EAA4B;AAC1B1G,EAAAA,cAAc,CAACymB,IAAD,EAAO/f,gBAAP,CAAd;;AAEA,WAAS+f,IAAT,GAAgB;AACd,WAAO/f,gBAAgB,CAACE,KAAjB,CAAuB,IAAvB,EAA6BC,SAA7B,KAA2C,IAAlD;AACD;;AAED,MAAIC,MAAM,GAAG2f,IAAI,CAAC1f,SAAlB;;AAEAD,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAI8G,WAAW,GAAG,KAAKzL,KAAvB;AAAA,QACIqkB,IAAI,GAAG5Y,WAAW,CAAC4Y,IADvB;AAAA,QAEI/E,aAAa,GAAG7T,WAAW,CAAC6T,aAFhC;AAAA,QAGIuB,SAAS,GAAG7iB,6BAA6B,CAACyN,WAAD,EAAc,CAAC,MAAD,EAAS,eAAT,CAAd,CAH7C;;AAKA,WAAO7P,aAAa,CAACuY,YAAD,EAAe3Y,QAAQ,CAAC;AAC1CwW,MAAAA,SAAS,EAAEgJ;AAD+B,KAAD,EAExC6F,SAFwC,CAAvB,EAELwD,IAAI,CAACC,KAAL,IAAc1oB,aAAa,CAACsoB,SAAD,EAAYG,IAAI,CAACC,KAAjB,CAFtB,EAE+C,CAACD,IAAI,CAACxL,KAAL,IAAcwL,IAAI,CAACvL,QAApB,KAAiCld,aAAa,CAACgd,YAAD,EAAe;AAC9HE,MAAAA,QAAQ,EAAEuL,IAAI,CAACvL,QAD+G;AAE9HD,MAAAA,KAAK,EAAEwL,IAAI,CAACxL;AAFkH,KAAf,CAF7F,EAKhBwL,IAAI,CAACd,OAAL,IAAgB3nB,aAAa,CAACwnB,cAAD,EAAiB;AAChDG,MAAAA,OAAO,EAAEc,IAAI,CAACd,OADkC;AAEhDjE,MAAAA,aAAa,EAAEA;AAFiC,KAAjB,CALb,CAApB;AASD,GAfD;;AAiBA,SAAO8E,IAAP;AACD,CA3BD,CA2BEvoB,SA3BF,CAFA;;AA+BA,IAAI0oB,uBAAuB,GAC3B,aACAhf,QAAQ,CAAC,KAAD,EAAQ;AACd0G,EAAAA,MAAM,EAAE;AADM,CAAR,CAAR,CAEG,4CAFH,CAFA;AAKA,IAAIuY,oBAAoB,GACxB,aACAjf,QAAQ,CAAC,KAAD,EAAQ;AACd0G,EAAAA,MAAM,EAAE;AADM,CAAR,CAAR,CAEG,qCAFH,EAE0C,UAAUjM,KAAV,EAAiB;AACzD,SAAOA,KAAK,CAACykB,MAAN,GAAe,MAAf,GAAwB,QAA/B;AACD,CAJD,EAIG,sHAJH,CAFA;AAOA,IAAIC,mBAAmB,GACvB,aACAnf,QAAQ,CAAC,KAAD,EAAQ;AACd0G,EAAAA,MAAM,EAAE;AADM,CAAR,CAAR,CAEG,qDAFH,CAFA;AAKA,IAAI0Y,WAAW,GACf,aACApf,QAAQ,CAAC,QAAD,EAAW;AACjB0G,EAAAA,MAAM,EAAE;AADS,CAAX,CAAR,CAEG,gRAFH,EAEqR,UAAUxK,IAAV,EAAgB;AACnS,MAAI+J,KAAJ;;AAEA,MAAIoZ,OAAO,GAAGnjB,IAAI,CAACmjB,OAAnB;AACA,SAAOpZ,KAAK,GAAG,EAAR,EAAYA,KAAK,CAACoZ,OAAD,CAAL,GAAiB,MAA7B,EAAqCpZ,KAA5C;AACD,CAPD,EAOG,GAPH,CAFA;;AAWA,IAAIqZ,QAAQ,GAAG,SAASA,QAAT,CAAkBC,GAAlB,EAAuB;AACpC,SAAO,UAAUC,OAAV,EAAmB;AACxB,WAAOA,OAAO,GAAGD,GAAjB;AACD,GAFD;AAGD,CAJD;;AAMA,IAAIE,cAAc,GAAG,SAASA,cAAT,CAAwBC,OAAxB,EAAiCC,UAAjC,EAA6C3e,OAA7C,EAAsD;AACzE,MAAI4e,QAAQ,GAAG5e,OAAO,CAACiB,UAAvB;AACA,MAAI4d,KAAK,GAAGH,OAAO,GAAGE,QAAtB;AACA5lB,EAAAA,IAAI,CAACH,gBAAgB,CAAC8lB,UAAD,CAAjB,EAA+B5lB,GAAG,CAACH,OAAD,CAAlC,EAA6CG,GAAG,CAACulB,QAAQ,CAACO,KAAD,CAAT,CAAhD,EAAmE/lB,OAAO,CAAC,UAAU6P,CAAV,EAAa;AAC1F3I,IAAAA,OAAO,CAACiB,UAAR,GAAqB2d,QAAQ,GAAGjW,CAAhC;AACD,GAF6E,CAA1E,CAAJ;AAGD,CAND;;AAQA,IAAImW,mBAAmB,GAAG,SAASA,mBAAT,CAA6BC,KAA7B,EAAoC;AAC5D,MAAI7J,KAAK,GAAG6J,KAAK,CAAC7J,KAAlB;AAAA,MACI5N,KAAK,GAAGyX,KAAK,CAACzX,KADlB;AAAA,MAEI0X,OAAO,GAAGD,KAAK,CAACC,OAFpB;AAGA,SAAO9J,KAAK,GAAG5N,KAAR,GAAgB,CAAC4N,KAAK,GAAG,CAAT,IAAc8J,OAArC;AACD,CALD;;AAOA,IAAIC,QAAQ,GACZ,aACA,UAAUC,oBAAV,EAAgC;AAC9B9nB,EAAAA,cAAc,CAAC6nB,QAAD,EAAWC,oBAAX,CAAd;;AAEA,WAASD,QAAT,GAAoB;AAClB,QAAInc,KAAJ;;AAEA,SAAK,IAAItD,IAAI,GAAGvB,SAAS,CAACwB,MAArB,EAA6BsD,IAAI,GAAG,IAAIrD,KAAJ,CAAUF,IAAV,CAApC,EAAqDG,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGH,IAA3E,EAAiFG,IAAI,EAArF,EAAyF;AACvFoD,MAAAA,IAAI,CAACpD,IAAD,CAAJ,GAAa1B,SAAS,CAAC0B,IAAD,CAAtB;AACD;;AAEDmD,IAAAA,KAAK,GAAGoc,oBAAoB,CAAClc,IAArB,CAA0BhF,KAA1B,CAAgCkhB,oBAAhC,EAAsD,CAAC,IAAD,EAAO9hB,MAAP,CAAc2F,IAAd,CAAtD,KAA8E,IAAtF;AACAD,IAAAA,KAAK,CAAC2V,KAAN,GAAc;AACZ0G,MAAAA,cAAc,EAAE,KADJ;AAEZC,MAAAA,eAAe,EAAE;AAFL,KAAd;;AAKAtc,IAAAA,KAAK,CAACuc,mBAAN,GAA4B,UAAUlc,GAAV,EAAe;AACzCL,MAAAA,KAAK,CAACwc,gBAAN,GAAyBnc,GAAzB;AACD,KAFD;;AAIAL,IAAAA,KAAK,CAACyc,6BAAN,GAAsC,YAAY;AAChD,UAAIhc,qBAAqB,GAAG7L,sBAAsB,CAACoL,KAAD,CAAlD;AAAA,UACIwc,gBAAgB,GAAG/b,qBAAqB,CAAC+b,gBAD7C;;AAGAxc,MAAAA,KAAK,CAACoW,QAAN,CAAe;AACbiG,QAAAA,cAAc,EAAE,CAAC/d,gBAAgB,CAACke,gBAAD,CADpB;AAEbF,QAAAA,eAAe,EAAE,CAACpe,iBAAiB,CAACse,gBAAD;AAFtB,OAAf;AAID,KARD;;AAUAxc,IAAAA,KAAK,CAAC0c,qBAAN,GAA8BjpB,QAAQ,CAAC,GAAD,EAAMuM,KAAK,CAACyc,6BAAZ,CAAtC;AACAzc,IAAAA,KAAK,CAAC2c,iBAAN,GAA0BjpB,OAAO,CAAC,UAAUkpB,SAAV,EAAqB;AACrD,aAAO,UAAUle,KAAV,EAAiB;AACtBA,QAAAA,KAAK,CAACI,eAAN;AACA,YAAI+d,qBAAqB,GAAG7c,KAAK,CAACwc,gBAAlC;AAAA,YACIM,QAAQ,GAAGD,qBAAqB,CAAC1e,UADrC;AAAA,YAEI4e,YAAY,GAAGF,qBAAqB,CAACG,WAFzC;AAAA,YAGI3e,WAAW,GAAGwe,qBAAqB,CAACxe,WAHxC;AAIA,YAAI4e,WAAW,GAAGH,QAAQ,GAAGF,SAAS,GAAGG,YAAzC;AACA,YAAIG,QAAQ,GAAGN,SAAS,KAAK,CAAd,GAAkB9e,IAAI,CAACqf,GAAL,CAASF,WAAT,EAAsB5e,WAAW,GAAG0e,YAApC,CAAlB,GAAsEjf,IAAI,CAAC2d,GAAL,CAASwB,WAAT,EAAsB,CAAtB,CAArF;AACA,YAAIrB,OAAO,GAAGqB,WAAW,KAAKC,QAAhB,GAA2Bld,KAAK,CAACod,sBAAN,CAA6BH,WAA7B,EAA0CL,SAA1C,CAA3B,GAAkFM,QAAhG;AACAvB,QAAAA,cAAc,CAACC,OAAD,EAAU,GAAV,EAAe5b,KAAK,CAACwc,gBAArB,CAAd;AACD,OAVD;AAWD,KAZgC,CAAjC;AAaA,WAAOxc,KAAP;AACD;;AAED,MAAI5E,MAAM,GAAG+gB,QAAQ,CAAC9gB,SAAtB;;AAEAD,EAAAA,MAAM,CAAC+F,iBAAP,GAA2B,SAASA,iBAAT,GAA6B;AACtD,SAAKsb,6BAAL;AACA,SAAKnb,SAAL,GAAiB,IAAIhM,cAAJ,CAAmBjB,QAAQ,CAAC,GAAD,EAAM,KAAKooB,6BAAX,CAA3B,CAAjB;;AAEA,SAAKnb,SAAL,CAAeC,OAAf,CAAuB,KAAKib,gBAA5B;AACD,GALD;;AAOAphB,EAAAA,MAAM,CAACoG,oBAAP,GAA8B,SAASA,oBAAT,GAAgC;AAC5D,SAAKF,SAAL,CAAeG,UAAf;AACD,GAFD;;AAIArG,EAAAA,MAAM,CAACgiB,sBAAP,GAAgC,SAASA,sBAAT,CAAgCxB,OAAhC,EAAyCgB,SAAzC,EAAoD;AAClF,QAAIS,sBAAsB,GAAG,KAAKb,gBAAlC;AAAA,QACIc,UAAU,GAAGD,sBAAsB,CAACC,UADxC;AAAA,QAEIP,YAAY,GAAGM,sBAAsB,CAACL,WAF1C;AAGA,QAAIO,KAAK,GAAGD,UAAU,CAAC,CAAD,CAAtB;AAAA,QACIE,MAAM,GAAGF,UAAU,CAAC,CAAD,CADvB;;AAGA,QAAIG,qBAAqB,GAAGF,KAAK,CAACjgB,qBAAN,EAA5B;AAAA,QACIgb,KAAK,GAAGmF,qBAAqB,CAACnF,KADlC;AAAA,QAEI9T,KAAK,GAAGiZ,qBAAqB,CAACjZ,KAFlC;;AAIA,QAAI0X,OAAO,GAAGsB,MAAM,CAAClgB,qBAAP,GAA+Bib,IAA/B,GAAsCD,KAApD;AACA,QAAIoF,UAAU,GAAG5f,IAAI,CAACC,GAAL,CAAS6d,OAAT,KAAqBpX,KAAK,GAAG0X,OAA7B,CAAjB;AACA,QAAIyB,kBAAkB,GAAGf,SAAS,KAAK,CAAd,GAAkB9e,IAAI,CAAC8f,KAAL,CAAWF,UAAX,CAAlB,GAA2C5f,IAAI,CAAC+f,IAAL,CAAUH,UAAV,CAApE;AACA,QAAII,SAAS,GAAGH,kBAAkB,IAAInZ,KAAK,GAAG0X,OAAZ,CAAlC;AACA,QAAI6B,qBAAqB,GAAGjgB,IAAI,CAAC8f,KAAL,CAAWb,YAAY,IAAIvY,KAAK,GAAG0X,OAAZ,CAAvB,CAA5B;AACA,QAAI8B,kBAAkB,GAAGhC,mBAAmB,CAAC;AAC3C5J,MAAAA,KAAK,EAAE2L,qBADoC;AAE3CvZ,MAAAA,KAAK,EAAEA,KAFoC;AAG3C0X,MAAAA,OAAO,EAAEA;AAHkC,KAAD,CAA5C;AAKA,QAAI+B,YAAY,GAAGD,kBAAkB,GAAGxZ,KAArB,IAA8BuY,YAA9B,GAA6CgB,qBAAqB,GAAG,CAArE,GAAyEA,qBAA5F;AACA,QAAIG,UAAU,GAAGlC,mBAAmB,CAAC;AACnC5J,MAAAA,KAAK,EAAE6L,YAD4B;AAEnCzZ,MAAAA,KAAK,EAAEA,KAF4B;AAGnC0X,MAAAA,OAAO,EAAEA;AAH0B,KAAD,CAApC;AAKA,QAAIiC,MAAM,GAAGL,SAAS,GAAGI,UAAU,GAAG,CAAzB,GAA6BnB,YAAY,GAAG,CAAzD;AACA,WAAOoB,MAAP;AACD,GA7BD;;AA+BA/iB,EAAAA,MAAM,CAACE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAI8G,WAAW,GAAG,KAAKzL,KAAvB;AAAA,QACI2B,QAAQ,GAAG8J,WAAW,CAAC9J,QAD3B;AAAA,QAEI8iB,MAAM,GAAGhZ,WAAW,CAACgZ,MAFzB;AAGA,WAAO7oB,aAAa,CAAC2oB,uBAAD,EAA0B,IAA1B,EAAgC3oB,aAAa,CAAC4oB,oBAAD,EAAuB;AACtF5a,MAAAA,QAAQ,EAAE,KAAKgc,mBADuE;AAEtFnB,MAAAA,MAAM,EAAEA,MAF8E;AAGtF1a,MAAAA,QAAQ,EAAE,KAAKgc;AAHuE,KAAvB,EAI9D/pB,QAAQ,CAACsD,GAAT,CAAaqC,QAAb,EAAuB,UAAUyR,KAAV,EAAiB;AACzC,aAAOxX,aAAa,CAAC8oB,mBAAD,EAAsB,IAAtB,EAA4BtR,KAA5B,CAApB;AACD,KAFE,CAJ8D,CAA7C,EAMf,KAAK4L,KAAL,CAAW0G,cAAX,IAA6B9pB,aAAa,CAAC+oB,WAAD,EAAc;AAC3D7P,MAAAA,OAAO,EAAE,KAAKkR,iBAAL,CAAuB,CAAC,CAAxB,CADkD;AAE3DpB,MAAAA,OAAO,EAAE;AAFkD,KAAd,EAG5ChpB,aAAa,CAAC0S,aAAD,EAAgB,IAAhB,CAH+B,CAN3B,EASoB,KAAK0Q,KAAL,CAAW2G,eAAX,IAA8B/pB,aAAa,CAAC+oB,WAAD,EAAc;AAC/F7P,MAAAA,OAAO,EAAE,KAAKkR,iBAAL,CAAuB,CAAvB,CADsF;AAE/FpB,MAAAA,OAAO,EAAE;AAFsF,KAAd,EAGhFhpB,aAAa,CAAC4S,cAAD,EAAiB,IAAjB,CAHmE,CAT/D,CAApB;AAaD,GAjBD;;AAmBA,SAAOgX,QAAP;AACD,CA/GD,CA+GEtpB,aA/GF,CAFA;;AAmHAspB,QAAQ,CAACzZ,YAAT,GAAwB;AACtB0Y,EAAAA,MAAM,EAAE,OAAO5d,MAAP,KAAkB,WAAlB,GAAgC,WAAW4gB,IAAX,CAAgBC,SAAS,CAACC,SAA1B,CAAhC,GAAuE;AADzD,CAAxB;AAIA,SAASzZ,OAAT,EAAkBlB,QAAlB,EAA4BsB,aAA5B,EAA2CE,cAA3C,EAA2DE,UAA3D,EAAuEuE,MAAvE,EAA+EkB,YAAY,IAAI2H,MAA/F,EAAuGsI,IAAvG,EAA6GoB,QAA7G,EAAuHxW,QAAvH,EAAiI9C,QAAjI,EAA2IW,YAA3I,EAAyJwC,eAAzJ,EAA0KE,cAA1K,EAA0LE,SAA1L,EAAqM2E,YAAY,IAAIwT,MAArN,EAA6N9I,WAA7N,EAA0OhP,eAA1O,EAA2PF,SAA3P,EAAsQI,SAAtQ,EAAiRE,QAAjR,EAA2RsE,IAA3R,EAAiSG,GAAjS,EAAsSwO,YAAtS,EAAoT/S,aAApT,EAAmU/C,IAAnU,EAAyUuH,YAAY,IAAIgH,UAAzV,EAAqW7J,KAArW,EAA4WzB,YAA5W,EAA0XE,gBAA1X,EAA4YmH,OAA5Y,EAAqZuC,aAArZ,EAAoaX,aAAa,IAAI4D,cAArb,EAAqchC,YAArc,EAAmd3E,aAAa,IAAIf,WAApe,EAAifgB,eAAjf,EAAkgBvB,cAAlgB,EAAkhBkE,WAAW,IAAIgE,YAAjiB,EAA+iBnE,UAAU,IAAIoE,WAA7jB,EAA0kBzE,YAA1kB,EAAwlBlI,YAAxlB,EAAsmBE,QAAtmB,EAAgnB9B,UAAhnB,EAA4nBsP,YAA5nB,EAA0oBd,UAA1oB,EAAspBpM,YAAtpB,EAAoqBG,WAApqB,EAAirBE,WAAjrB,EAA8rBE,YAA9rB,EAA4sBjF,SAAS,IAAIqb,GAAztB,EAA8tBhW,UAA9tB,EAA0uBkP,YAAY,IAAIJ,UAA1vB,EAAswBhP,QAAtwB,EAAgxB4G,QAAQ,IAAIuP,QAA5xB,EAAsyB5L,YAAtyB,EAAozBsF,WAAW,IAAIrF,SAAn0B,EAA80ByB,qBAAqB,IAAI/f,aAAv2B,EAAs3B2a,KAAt3B,EAA63BuD,QAA73B,EAAu4BjL,UAAv4B,EAAm5BnR,GAAn5B,EAAw5BC,EAAx5B,EAA45B+b,SAA55B,EAAu6Be,YAAv6B,EAAq7BH,YAAr7B,EAAm8B1c,YAAn8B,EAAi9BC,SAAj9B,EAA49Bsc,WAA59B,EAAy+B7W,QAAQ,IAAIV,MAAr/B","sourcesContent":["import createEmotion from 'create-emotion';\nimport varsPlugin from 'stylis-custom-properties';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport React__default, { createContext, createElement, Component, useState, Fragment, Children, cloneElement, PureComponent } from 'react';\nimport createEmotionStyled from 'create-emotion-styled';\nimport { omitByIndexed, pickByIndexed, groupKeys, isObject, mergeAll, pickBy, compact, mapValuesIndexed, find, noop, throttle, memoize, findIndex, memoizeOne, once, values, pick, merge, mapKeys, mapValues, trimEnd, identity, debounce } from '@livechat/data-utils';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { getDisplayName } from 'recompose';\nimport { ThemeProvider as ThemeProvider$1, withTheme } from 'emotion-theming';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport { bool, func, node, string, shape, oneOf, oneOfType, arrayOf, number } from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport isPropValid from '@emotion/is-prop-valid';\nimport { CSSTransition, TransitionGroup, Transition } from 'react-transition-group';\nimport Toggle from 'react-toggled';\nimport { darken } from 'polished';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport { easeOut } from '@popmotion/easing';\nimport durationProgress from 'callbag-duration-progress';\nimport forEach from 'callbag-for-each';\nimport map from 'callbag-map';\nimport pipe from 'callbag-pipe';\n\nvar emotion = createEmotion({}, {\n  key: 'lc',\n  stylisPlugins: [varsPlugin]\n});\nvar css = emotion.css,\n    cx = emotion.cx,\n    injectGlobal = emotion.injectGlobal,\n    keyframes = emotion.keyframes;\n\nvar mapCommonPropsToStyles = (function (props) {\n  var styles = {};\n\n  if (props.flexFill) {\n    styles.flexGrow = 1;\n    styles.maxWidth = '100%';\n  }\n\n  if (props.flexFit) {\n    if (process.env.NODE_ENV === 'development' && props.flexFill) {\n      // eslint-disable-next-line no-console\n      console.warn(\"Using flexFill & flexFit props together doesn't make sense.\");\n    }\n\n    styles.flexGrow = 0;\n  }\n\n  if (props.noShrink) {\n    styles.flexShrink = 0;\n  }\n\n  if (props.ellipsis) {\n    styles.whiteSpace = 'nowrap';\n    styles.overflow = 'hidden';\n    styles.textOverflow = 'ellipsis';\n  }\n\n  if (props.nowrap) {\n    styles.whiteSpace = 'nowrap';\n  }\n\n  if (props.preserveLines) {\n    if (process.env.NODE_ENV === 'development' && props.nowrap) {\n      // eslint-disable-next-line no-console\n      console.warn(\"Using nowrap & preserveLines props together doesn't make sense.\");\n    }\n\n    styles.whiteSpace = 'pre-line';\n  }\n\n  if (props.textWrap) {\n    var breakWord = 'break-word';\n    styles.wordWrap = breakWord;\n    styles.overflowWrap = breakWord;\n    styles.wordBreak = breakWord;\n  }\n\n  return styles;\n});\n\nvar ThemeContext = createContext();\n\nvar ThemeProvider = function ThemeProvider(_ref) {\n  var value = _ref.value,\n      children = _ref.children;\n  // this is broken for nested theme providers - `value` can be a function and it's currently only called inside EmotionThemeProvider\n  return createElement(ThemeProvider$1, {\n    theme: value\n  }, createElement(ThemeContext.Provider, {\n    value: value\n  }, children));\n};\n\nvar isComponentKey = function isComponentKey(key) {\n  return key.charAt(0) !== key.charAt(0).toLowerCase();\n};\n\nvar _isComponentKey = function _isComponentKey(value, key) {\n  return isComponentKey(key);\n};\n\nvar omitComponentKeys = omitByIndexed.bind(null, _isComponentKey);\nvar pickComponentKeys = pickByIndexed.bind(null, _isComponentKey);\n\nvar empty = {};\n\nvar unpackRest = function unpackRest(rest) {\n  return groupKeys(function (key) {\n    if (isComponentKey(key)) {\n      return 'components';\n    }\n\n    if (isObject(rest[key])) {\n      return 'propsDescriptions';\n    }\n\n    return 'themeProps';\n  }, rest);\n};\n\nvar unpackThemeDescription = (function (themeDescription) {\n  if (!themeDescription) {\n    return empty;\n  }\n\n  var css = themeDescription.css,\n      vars = themeDescription.vars,\n      rest = _objectWithoutPropertiesLoose(themeDescription, [\"css\", \"vars\"]);\n\n  return _extends({\n    css: css,\n    vars: vars\n  }, unpackRest(rest));\n});\n\nvar parsePropsDescriptions = function parsePropsDescriptions(componentName, props, propsDescriptions) {\n  if (propsDescriptions === void 0) {\n    propsDescriptions = {};\n  }\n\n  var activeDescriptions = pickByIndexed(function (value, prop) {\n    return props[prop];\n  }, propsDescriptions);\n  return Object.keys(activeDescriptions).map(function (prop) {\n    var _componentDescription;\n\n    var propDescription = activeDescriptions[prop];\n\n    var _unpackThemeDescripti = unpackThemeDescription(propDescription),\n        themeProps = _unpackThemeDescripti.themeProps,\n        components = _unpackThemeDescripti.components;\n\n    if (!themeProps) {\n      return components;\n    }\n\n    var componentDescription = (_componentDescription = {}, _componentDescription[componentName] = themeProps, _componentDescription);\n\n    if (!components) {\n      return componentDescription;\n    }\n\n    return _extends({}, componentDescription, {}, components);\n  });\n};\n\nvar mergeInnerTheme = function mergeInnerTheme(componentName) {\n  return function (props) {\n    return function (theme) {\n      var componentDescription = theme[componentName];\n\n      if (!componentDescription) {\n        return theme;\n      }\n\n      var _unpackThemeDescripti2 = unpackThemeDescription(componentDescription),\n          propsDescriptions = _unpackThemeDescripti2.propsDescriptions,\n          components = _unpackThemeDescripti2.components;\n\n      if (!propsDescriptions && !components) {\n        return theme;\n      }\n\n      var activePropsDescriptions = parsePropsDescriptions(componentName, props, propsDescriptions);\n      return mergeAll([theme, components].concat(activePropsDescriptions).filter(Boolean));\n    };\n  };\n};\n\nvar withSubtheme = (function (WrappedComponent) {\n  var _class, _temp;\n\n  var wrappedName = WrappedComponent.__ui_kit_name;\n  var mergeThemes = mergeInnerTheme(wrappedName);\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inheritsLoose(WithSubtheme, _React$Component);\n\n    function WithSubtheme() {\n      return _React$Component.apply(this, arguments) || this;\n    }\n\n    var _proto = WithSubtheme.prototype;\n\n    _proto.render = function render() {\n      var props = this.props;\n      return createElement(ThemeProvider, {\n        value: mergeThemes(props)\n      }, createElement(WrappedComponent, props));\n    };\n\n    return WithSubtheme;\n  }(Component), _class.displayName = \"WithSubtheme(\" + wrappedName + \")\", _temp;\n});\n\nvar styled = createEmotionStyled(emotion, React);\nvar registeredComponents = {};\n\nvar unpackCss = function unpackCss(props, css) {\n  var basedOnProps = pickBy(isObject, css);\n\n  if (Object.keys(basedOnProps) === 0) {\n    return css;\n  }\n\n  return compact(mapValuesIndexed(function (value, key) {\n    if (!isObject(value)) {\n      return value;\n    }\n\n    if (key[0] === ':') {\n      return unpackCss(props, value);\n    }\n\n    var activeProp = find(function (prop) {\n      return props[prop];\n    }, Object.keys(value)); // if (process.env.NODE_ENV !== 'production' && !activeProp && !value.default) {\n    // \tconsole.warn(`This css description (\"${JSON.stringify(value)}\") has no default value.`)\n    // }\n\n    return value[activeProp] || value[\"default\"];\n  }, css));\n};\n\nvar parseStyles = function parseStyles(props, componentName, mapPropsToStyles) {\n  var theme = props.theme,\n      style = props.style;\n\n  var _unpackThemeDescripti = unpackThemeDescription(theme[componentName]),\n      css = _unpackThemeDescripti.css,\n      componentVars = _unpackThemeDescripti.vars,\n      themeProps = _unpackThemeDescripti.themeProps;\n\n  var vars = componentVars ? _extends({}, theme.vars, {}, componentVars) : theme.vars; // TODO: should it be possible to specify common props in theme object?\n\n  return [vars, typeof mapPropsToStyles === 'function' && themeProps !== undefined && mapPropsToStyles(themeProps), css && unpackCss(props, css), mapCommonPropsToStyles(props), typeof mapPropsToStyles === 'function' && mapPropsToStyles(props), style];\n};\n\nvar styled$1 = (function (component, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      displayName = _options.displayName,\n      displayType = _options.displayType,\n      mapPropsToStyles = _options.mapPropsToStyles;\n\n  if (process.env.NODE_ENV !== 'production' && displayName) {\n    if (registeredComponents[displayName]) {\n      console.warn(\"\\\"\" + displayName + \"\\\" is already registered. Those names should be unique.\");\n    }\n\n    registeredComponents[displayName] = true;\n  }\n\n  if (process.env.NODE_ENV !== 'production' && !displayName && options.section) {\n    console.warn('For `section` components valid `displayName` is required.');\n  }\n\n  var factory = styled(component, options);\n  return function () {\n    var name = displayName || displayType || null;\n\n    for (var _len = arguments.length, styles = new Array(_len), _key = 0; _key < _len; _key++) {\n      styles[_key] = arguments[_key];\n    }\n\n    var styledComponent = factory.apply(void 0, styles.concat([function (props) {\n      return parseStyles(props, name, mapPropsToStyles);\n    }]));\n    styledComponent.__ui_kit_name = name;\n    return options.section ? Object.defineProperty(withSubtheme(styledComponent), 'toString', {\n      value: styledComponent.toString\n    }) : styledComponent;\n  };\n});\n\nvar getBottomFoldPosition = function getBottomFoldPosition(element) {\n  return element.scrollTop + element.clientHeight;\n};\nvar getOffsetTop = function getOffsetTop(element) {\n  return element.getBoundingClientRect().top + window.pageYOffset;\n};\n\nvar isAboveFold = function isAboveFold(container, element) {\n  return getOffsetTop(element) - getOffsetTop(container) + element.clientHeight <= container.clientHeight;\n};\nvar isScrollOnBottom = function isScrollOnBottom(node, threshold) {\n  if (threshold === void 0) {\n    threshold = 0;\n  }\n\n  return Math.abs(node.scrollTop + node.clientHeight - node.scrollHeight) <= threshold;\n};\nvar isScrollOnTop = function isScrollOnTop(node, threshold) {\n  if (threshold === void 0) {\n    threshold = 0;\n  }\n\n  return node.scrollTop <= threshold;\n};\nvar isScrolledToRight = function isScrolledToRight(element) {\n  return Math.abs(element.scrollLeft + element.clientWidth - element.scrollWidth) <= 1;\n};\nvar isScrolledToLeft = function isScrolledToLeft(element) {\n  return element.scrollLeft <= 0;\n};\nvar scrollToBottom = function scrollToBottom(element) {\n  element.scrollTop = element.scrollHeight;\n};\nvar scrollToTop = function scrollToTop(element) {\n  element.scrollTop = 0;\n};\n\nvar allowScrollEvent = function allowScrollEvent(event) {\n  var currentTarget = event.currentTarget,\n      deltaY = event.deltaY;\n  var scrollTop = currentTarget.scrollTop,\n      scrollHeight = currentTarget.scrollHeight;\n  var scrollingDown = deltaY > 0;\n\n  if (scrollingDown && deltaY > scrollHeight - getBottomFoldPosition(currentTarget)) {\n    currentTarget.scrollTop = scrollHeight;\n    return false;\n  }\n\n  if (!scrollingDown && -deltaY > scrollTop) {\n    currentTarget.scrollTop = 0;\n    return false;\n  }\n\n  event.stopPropagation();\n  return true;\n};\nvar containScrollInSubtree = function containScrollInSubtree(event) {\n  var allowed = allowScrollEvent(event);\n\n  if (allowed) {\n    return;\n  }\n\n  event.preventDefault();\n};\nvar ENTER_KEYCODE = 13;\nvar wasEnterPressed = function wasEnterPressed(event) {\n  return event.which === ENTER_KEYCODE;\n};\nvar wasNewLineIntended = function wasNewLineIntended(event) {\n  return wasEnterPressed(event) && (event.altKey || event.shiftKey);\n};\nvar wasOnlyEnterPressed = function wasOnlyEnterPressed(event) {\n  return wasEnterPressed(event) && !event.altKey && !event.shiftKey;\n};\n\nvar withPinnedScroll = (function (_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$pinThreshold = _ref.pinThreshold,\n      pinThreshold = _ref$pinThreshold === void 0 ? 20 : _ref$pinThreshold,\n      _ref$reverse = _ref.reverse,\n      reverse = _ref$reverse === void 0 ? false : _ref$reverse;\n\n  return function (WrappedComponent) {\n    var _class, _temp2;\n\n    return _temp2 = _class =\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inheritsLoose(WithPinnedScroll, _React$Component);\n\n      function WithPinnedScroll() {\n        var _this;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n        _this._unmounted = false;\n\n        _this._getListRef = function (ref) {\n          _this._listRef = ref;\n\n          _this.props.innerRef(ref);\n        };\n\n        _this._handleScroll = throttle(200, function (event) {\n          if (_this._unmounted) {\n            return;\n          }\n\n          var _assertThisInitialize = _assertThisInitialized(_this),\n              props = _assertThisInitialize.props,\n              node = _assertThisInitialize._listRef;\n\n          props.onScroll(event);\n\n          if (isScrollOnBottom(node, pinThreshold)) {\n            _this._isAtTheBottom = true;\n            props.onScrollBottom(event);\n            return;\n          }\n\n          _this._isAtTheBottom = false;\n\n          if (isScrollOnTop(node, pinThreshold)) {\n            props.onScrollTop(event);\n            return;\n          }\n        });\n\n        _this._handleWheel = function (event) {\n          if (_this.props.containScrollInSubtree) {\n            containScrollInSubtree(event);\n          }\n\n          _this.props.onWheel(event);\n        };\n\n        _this.scrollToBottom = function () {\n          scrollToBottom(_this._listRef);\n          _this._isAtTheBottom = true;\n        };\n\n        _this.scrollToTop = function () {\n          scrollToTop(_this._listRef);\n        };\n\n        _this.scrollProps = {\n          isScrollOnBottom: function isScrollOnBottom$1() {\n            return isScrollOnBottom(_this._listRef, pinThreshold);\n          },\n          isScrollOnTop: function isScrollOnTop$1() {\n            return isScrollOnTop(_this._listRef, pinThreshold);\n          },\n          scrollToBottom: _this.scrollToBottom,\n          scrollToTop: _this.scrollToTop\n        };\n        return _this;\n      }\n\n      var _proto = WithPinnedScroll.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        var _this2 = this;\n\n        if (!this.props.usePinnedScroll) {\n          return;\n        }\n\n        this._observer = new ResizeObserver(function () {\n          if (!_this2._isAtTheBottom) {\n            return;\n          }\n\n          _this2.scrollToBottom();\n        });\n\n        this._observer.observe(this._listRef);\n\n        if (reverse) {\n          return;\n        }\n\n        this.scrollToBottom();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        this._unmounted = true;\n\n        if (this._observer) {\n          this._observer.disconnect();\n        }\n      };\n\n      _proto.getSnapshotBeforeUpdate = function getSnapshotBeforeUpdate() {\n        if (!this.props.usePinnedScroll) {\n          return null;\n        }\n\n        var node = this._listRef;\n        return reverse ? {\n          shouldScrollToEdge: isScrollOnTop(node, pinThreshold)\n        } : {\n          shouldScrollToEdge: isScrollOnBottom(node, pinThreshold),\n          prevScrollTop: node.scrollTop,\n          scrollTopFromBottomFold: Math.abs(node.scrollTop - node.scrollHeight)\n        };\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState, snapshot) {\n        if (!this.props.usePinnedScroll) {\n          return;\n        }\n\n        if (snapshot.shouldScrollToEdge) {\n          if (reverse) {\n            scrollToTop(this._listRef);\n          } else {\n            this.scrollToBottom();\n          }\n\n          return;\n        }\n\n        this._isAtTheBottom = false;\n\n        if (!reverse) {\n          this._maybeRestoreScrollPosition(snapshot);\n        }\n      };\n\n      _proto._maybeRestoreScrollPosition = function _maybeRestoreScrollPosition(_ref2) {\n        var prevScrollTop = _ref2.prevScrollTop,\n            scrollTopFromBottomFold = _ref2.scrollTopFromBottomFold;\n        var node = this._listRef; // if we stay on the top of the list and new items get appended at the top\n        // then the scroll position wont change but we have to restore the position nevertheless\n\n        if (node.scrollTop === prevScrollTop && prevScrollTop !== 0) {\n          return;\n        }\n\n        node.scrollTop = Math.abs(scrollTopFromBottomFold - node.scrollHeight);\n      };\n\n      _proto.render = function render() {\n        var _this$props = this.props,\n            _containScrollInSubtree = _this$props.containScrollInSubtree,\n            _onScrollBottom = _this$props.onScrollBottom,\n            _onScrollTop = _this$props.onScrollTop,\n            _usePinnedScroll = _this$props.usePinnedScroll,\n            props = _objectWithoutPropertiesLoose(_this$props, [\"containScrollInSubtree\", \"onScrollBottom\", \"onScrollTop\", \"usePinnedScroll\"]);\n\n        return createElement(WrappedComponent, _extends({}, props, this.scrollProps, {\n          innerRef: this._getListRef,\n          onScroll: this._handleScroll,\n          onWheel: this._handleWheel\n        }));\n      };\n\n      return WithPinnedScroll;\n    }(Component), _class.displayName = \"WithPinnedScroll(\" + getDisplayName(WrappedComponent) + \")\", _class.propTypes = {\n      containScrollInSubtree: bool,\n      innerRef: func,\n      onScroll: func,\n      onScrollBottom: func,\n      onScrollTop: func,\n      onWheel: func,\n      usePinnedScroll: bool\n    }, _class.defaultProps = {\n      containScrollInSubtree: false,\n      innerRef: noop,\n      onScrollBottom: noop,\n      onScrollTop: noop,\n      onWheel: noop,\n      onScroll: noop,\n      usePinnedScroll: true\n    }, _temp2;\n  };\n});\n\nvar StyledList =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'ChatList',\n  section: true,\n  target: \"egyled90\"\n})();\nvar ChatList = withPinnedScroll({\n  reverse: true\n})(StyledList);\n\nvar mapPropsToStyles = function mapPropsToStyles(props) {\n  var styles = {};\n\n  if (props.verticalAlign) {\n    if (props.verticalAlign === 'top') {\n      styles.alignItems = 'flex-start';\n    } else if (props.verticalAlign === 'bottom') {\n      styles.alignItems = 'flex-end';\n    } else {\n      styles.alignItems = props.verticalAlign;\n    }\n  }\n\n  if (props.justify) {\n    if (props.justify === true) {\n      styles.justifyContent = 'space-between';\n    } else if (props.justify === 'left') {\n      styles.justifyContent = 'flex-start';\n    } else if (props.justify === 'right') {\n      styles.justifyContent = 'flex-end';\n    } else {\n      styles.justifyContent = props.justify;\n    }\n  }\n\n  if (props.reverse) {\n    styles.flexDirection = 'row-reverse';\n  }\n\n  return styles;\n};\n\nvar StyledRow =\n/*#__PURE__*/\nstyled$1('div', {\n  mapPropsToStyles: mapPropsToStyles,\n  target: \"e108e6fy0\"\n})(\"display:flex;min-width:0;\");\n\nvar mapPropsToStyles$1 = function mapPropsToStyles(props) {\n  return {\n    background: props.active ? 'rgba(0, 0, 0, 0.1)' : 'rgba(0, 0, 0, 0)'\n  };\n};\n\nvar StyledItem =\n/*#__PURE__*/\nstyled$1(StyledRow, {\n  displayName: 'ChatListItem',\n  mapPropsToStyles: mapPropsToStyles$1,\n  section: true,\n  target: \"edumshe0\"\n})(\"padding:0.5em;transition:background 0.2s;border-bottom:1px solid rgba(0,0,0,0.1);&:hover{cursor:pointer;}\");\n\nvar ChatListItem = function ChatListItem(props) {\n  return createElement(StyledItem, props);\n};\n\nChatListItem.propTypes = {\n  active: bool,\n  children: node.isRequired\n};\n\nvar StyledBar =\n/*#__PURE__*/\nstyled$1(StyledRow, {\n  displayName: 'AgentBar',\n  section: true,\n  target: \"e1j58gbc0\"\n})(\"padding:1em;\");\n\nvar AgentBar = function AgentBar(props) {\n  return createElement(StyledBar, _extends({\n    verticalAlign: \"center\"\n  }, props));\n};\n\nAgentBar.propTypes = {\n  children: node\n};\n\nvar mapPropsToStyles$2 = function mapPropsToStyles(_ref) {\n  var color = _ref.color;\n\n  if (!color) {\n    return null;\n  }\n\n  return {\n    fill: color,\n    '& *': {\n      fill: color\n    }\n  };\n};\n\nvar createStyledIcon = memoize(function (Icon) {\n  return (\n    /*#__PURE__*/\n    styled$1(Icon, {\n      displayType: 'Icon',\n      mapPropsToStyles: mapPropsToStyles$2,\n      shouldForwardProp: isPropValid,\n      target: \"e5ibypu0\"\n    })(\"&{display:block;}&,& *{fill:currentColor;}\")\n  );\n});\n\nvar Icon = function Icon(_ref2) {\n  var children = _ref2.children,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"children\"]);\n\n  var StyledIcon = createStyledIcon(children.type);\n  return createElement(StyledIcon, props);\n};\n\nIcon.propTypes = {\n  children: node.isRequired\n};\n\nvar Add = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    height: \"20px\",\n    viewBox: \"0 0 20 20\",\n    width: \"20px\"\n  }, props), React__default.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\"\n  }, React__default.createElement(\"g\", {\n    fill: \"#000000\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"path\", {\n    d: \"M10,0 C4.48,0 0,4.48 0,10 C0,15.52 4.48,20 10,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 10,0 Z M15,11 L11,11 L11,15 L9,15 L9,11 L5,11 L5,9 L9,9 L9,5 L11,5 L11,9 L15,9 L15,11 Z\"\n  }))));\n});\n\nvar AddIcon = function AddIcon(props) {\n  return createElement(Icon, props, createElement(Add, null));\n};\n\nvar ArrowLeft = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"8px\",\n    height: \"13px\",\n    viewBox: \"0 0 8 13\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-840.000000, -560.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(845.000000, 567.000000) scale(-1, 1) translate(-845.000000, -567.000000) translate(831.000000, 553.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(3.000000, 1.000000)\"\n  }, React__default.createElement(\"polygon\", {\n    points: \"8.59 17.34 13.17 12.75 8.59 8.16 10 6.75 16 12.75 10 18.75\"\n  }))))));\n});\n\nvar ArrowLeftIcon = function ArrowLeftIcon(props) {\n  return createElement(Icon, props, createElement(ArrowLeft, null));\n};\n\nvar ArrowRight = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"8px\",\n    height: \"13px\",\n    viewBox: \"0 0 8 13\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-1104.000000, -560.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(1094.000000, 553.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(2.000000, 1.000000)\"\n  }, React__default.createElement(\"polygon\", {\n    points: \"8.59 17.34 13.17 12.75 8.59 8.16 10 6.75 16 12.75 10 18.75\"\n  }))))));\n});\n\nvar ArrowRightIcon = function ArrowRightIcon(props) {\n  return createElement(Icon, props, createElement(ArrowRight, null));\n};\n\nvar Attach = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"20px\",\n    height: \"11px\",\n    viewBox: \"0 0 20 11\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-1098.000000, -754.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(1096.000000, 747.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M2,12.5 C2,9.46 4.46,7 7.5,7 L18,7 C20.21,7 22,8.79 22,11 C22,13.21 20.21,15 18,15 L9.5,15 C8.12,15 7,13.88 7,12.5 C7,11.12 8.12,10 9.5,10 L17,10 L17,12 L9.41,12 C8.86,12 8.86,13 9.41,13 L18,13 C19.1,13 20,12.1 20,11 C20,9.9 19.1,9 18,9 L7.5,9 C5.57,9 4,10.57 4,12.5 C4,14.43 5.57,16 7.5,16 L17,16 L17,18 L7.5,18 C4.46,18 2,15.54 2,12.5 Z\"\n  })))));\n});\n\nvar AttachIcon = function AttachIcon(props) {\n  return createElement(Icon, props, createElement(Attach, null));\n};\n\nvar Person = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    viewBox: \"0 0 58 58\",\n    style: {\n      enableBackground: 'new 0 0 58 58'\n    }\n  }, props), React__default.createElement(\"rect\", {\n    style: {\n      fillRule: 'evenodd',\n      clipRule: 'evenodd',\n      fill: '#F2F2F2'\n    },\n    width: \"58\",\n    height: \"58\"\n  }), React__default.createElement(\"path\", {\n    style: {\n      fillRule: 'evenodd',\n      clipRule: 'evenodd',\n      fill: '#424D57'\n    },\n    d: \"M40,38c7.3,3.8,11,8.4,11,13.9v6c0,0.2-0.1,0.3-0.2,0.4C47.9,62,6.1,62,6.1,58l0-0.1l0-0.1 v-6c0-5.5,3.7-10.1,11-13.9c1.2-0.7,2-0.2,2-0.2c2.5,2.3,5.8,3.7,9.5,3.7l-0.1,0l0.3,0c3.5-0.1,6.7-1.5,9.1-3.7 C38,37.8,38.8,37.3,40,38z M28.5,17C34.3,17,39,21.7,39,27.5S34.3,38,28.5,38S18,33.3,18,27.5S22.7,17,28.5,17z\"\n  }));\n});\n\nvar PersonIcon = function PersonIcon(props) {\n  return createElement(Icon, props, createElement(Person, null));\n};\n\nvar Chat = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"28px\",\n    height: \"28px\",\n    viewBox: \"0 0 28 28\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    fill: \"#000000\"\n  }, React__default.createElement(\"path\", {\n    d: \"M14,25.5 C12.4,25.5 10.8,25.2 9.4,24.7 L4.5,27.5 L4.5,21.9 C2,19.6 0.5,16.5 0.5,13 C0.5,6.1 6.5,0.5 14,0.5 C21.5,0.5 27.5,6.1 27.5,13 C27.5,19.9 21.5,25.5 14,25.5 L14,25.5 Z M9,11.5 C8.2,11.5 7.5,12.2 7.5,13 C7.5,13.8 8.2,14.5 9,14.5 C9.8,14.5 10.5,13.8 10.5,13 C10.5,12.2 9.8,11.5 9,11.5 L9,11.5 Z M14,11.5 C13.2,11.5 12.5,12.2 12.5,13 C12.5,13.8 13.2,14.5 14,14.5 C14.8,14.5 15.5,13.8 15.5,13 C15.5,12.2 14.8,11.5 14,11.5 L14,11.5 Z M19,11.5 C18.2,11.5 17.5,12.2 17.5,13 C17.5,13.8 18.2,14.5 19,14.5 C19.8,14.5 20.5,13.8 20.5,13 C20.5,12.2 19.8,11.5 19,11.5 L19,11.5 Z\"\n  }))));\n});\n\nvar ChatIcon = function ChatIcon(props) {\n  return createElement(Icon, props, createElement(Chat, null));\n};\n\nvar CheckboxOff = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-861.000000, -556.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(861.000000, 556.000000)\"\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"rect\", {\n    stroke: \"#BCC6D0\",\n    strokeWidth: \"1\",\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"15\",\n    height: \"15\",\n    rx: \"4\",\n    style: {\n      fill: 'none'\n    }\n  }))))));\n});\n\nvar CheckboxOffIcon = function CheckboxOffIcon(props) {\n  return createElement(Icon, props, createElement(CheckboxOff, null));\n};\n\nvar CheckboxOn = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-861.000000, -526.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(861.000000, 526.000000)\"\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"rect\", {\n    stroke: \"#4384F5\",\n    strokeWidth: \"1\",\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"15\",\n    height: \"15\",\n    rx: \"4\",\n    style: {\n      fill: 'none'\n    }\n  })), React__default.createElement(\"polygon\", {\n    fill: \"#4384F5\",\n    points: \"4 8.17070347 6.8554326 11.0329509 12.4300003 5.44475349 10.9852468 4 6.84861773 8.13662909 5.44475349 6.72594998\"\n  })))));\n});\n\nvar CheckboxOnIcon = function CheckboxOnIcon(props) {\n  return createElement(Icon, props, createElement(CheckboxOn, null));\n};\n\nvar Close = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    height: \"14px\",\n    viewBox: \"0 0 14 14\",\n    width: \"14px\"\n  }, props), React__default.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\"\n  }, React__default.createElement(\"polygon\", {\n    fill: \"#000000\",\n    points: \"14 1.41 12.59 8.8817842e-16 7 5.59 1.41 8.8817842e-16 0 1.41 5.59 7 0 12.59 1.41 14 7 8.41 12.59 14 14 12.59 8.41 7\"\n  })));\n});\n\nvar CloseIcon = function CloseIcon(props) {\n  return createElement(Icon, props, createElement(Close, null));\n};\n\nvar Email = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"18px\",\n    height: \"14px\",\n    viewBox: \"0 0 18 14\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-853.000000, -227.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(830.000000, 207.000000)\"\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"g\", {\n    transform: \"translate(22.000000, 17.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M16.6666667,3.33333333 L3.33333333,3.33333333 C2.41666667,3.33333333 1.675,4.08333333 1.675,5 L1.66666667,15 C1.66666667,15.9166667 2.41666667,16.6666667 3.33333333,16.6666667 L16.6666667,16.6666667 C17.5833333,16.6666667 18.3333333,15.9166667 18.3333333,15 L18.3333333,5 C18.3333333,4.08333333 17.5833333,3.33333333 16.6666667,3.33333333 Z M16.6666667,15 L3.33333333,15 L3.33333333,6.66666667 L10,10.8333333 L16.6666667,6.66666667 L16.6666667,15 Z M10,9.16666667 L3.33333333,5 L16.6666667,5 L10,9.16666667 Z\",\n    fillOpacity: \"0.6\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  })))))));\n});\n\nvar EmailIcon = function EmailIcon(props) {\n  return createElement(Icon, props, createElement(Email, null));\n};\n\nvar EmailFilled = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"21px\",\n    height: \"16px\",\n    viewBox: \"0 0 20 16\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"path\", {\n    d: \"M18,0 L2,0 C0.9,0 0.01,0.9 0.01,2 L0,14 C0,15.1 0.9,16 2,16 L18,16 C19.1,16 20,15.1 20,14 L20,2 C20,0.9 19.1,0 18,0 Z M17.6,4.25 L10.53,8.67 C10.21,8.87 9.79,8.87 9.47,8.67 L2.4,4.25 C2.15,4.09 2,3.82 2,3.53 C2,2.86 2.73,2.46 3.3,2.81 L10,7 L16.7,2.81 C17.27,2.46 18,2.86 18,3.53 C18,3.82 17.85,4.09 17.6,4.25 Z\",\n    fill: \"#000000\",\n    fillRule: \"nonzero\"\n  })));\n});\n\nvar EmailFilledIcon = function EmailFilledIcon(props) {\n  return createElement(Icon, props, createElement(EmailFilled, null));\n};\n\nvar Emoji = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    height: \"20px\",\n    viewBox: \"0 0 20 20\",\n    width: \"20px\"\n  }, props), React__default.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\"\n  }, React__default.createElement(\"g\", {\n    fill: \"#000000\"\n  }, React__default.createElement(\"path\", {\n    d: \"M13.5,9 C14.3,9 15,8.3 15,7.5 C15,6.7 14.3,6 13.5,6 C12.7,6 12,6.7 12,7.5 C12,8.3 12.7,9 13.5,9 L13.5,9 Z M6.5,9 C7.3,9 8,8.3 8,7.5 C8,6.7 7.3,6 6.5,6 C5.7,6 5,6.7 5,7.5 C5,8.3 5.7,9 6.5,9 L6.5,9 Z M10,16 C12.6,16 14.8,14.3 15.7,12 L4.3,12 C5.2,14.3 7.4,16 10,16 L10,16 Z M10,0 C4.5,0 0,4.5 0,10 C0,15.5 4.5,20 10,20 C15.5,20 20,15.5 20,10 C20,4.5 15.5,0 10,0 L10,0 Z M10,18 C5.6,18 2,14.4 2,10 C2,5.6 5.6,2 10,2 C14.4,2 18,5.6 18,10 C18,14.4 14.4,18 10,18 L10,18 Z\"\n  }))));\n});\n\nvar EmojiIcon = function EmojiIcon(props) {\n  return createElement(Icon, props, createElement(Emoji, null));\n};\n\nvar Exit = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-963.000000, -248.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(960.000000, 245.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M12.6125,19.4875 L14.375,21.25 L20.625,15 L14.375,8.75 L12.6125,10.5125 L15.8375,13.75 L3.75,13.75 L3.75,16.25 L15.8375,16.25 L12.6125,19.4875 Z M23.75,3.75 L6.25,3.75 C4.8625,3.75 3.75,4.875 3.75,6.25 L3.75,11.25 L6.25,11.25 L6.25,6.25 L23.75,6.25 L23.75,23.75 L6.25,23.75 L6.25,18.75 L3.75,18.75 L3.75,23.75 C3.75,25.125 4.8625,26.25 6.25,26.25 L23.75,26.25 C25.125,26.25 26.25,25.125 26.25,23.75 L26.25,6.25 C26.25,4.875 25.125,3.75 23.75,3.75 Z\"\n  })))));\n});\n\nvar ExitIcon = function ExitIcon(props) {\n  return createElement(Icon, props, createElement(Exit, null));\n};\n\nvar Hourglass = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"26px\",\n    viewBox: \"0 0 16 26\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-967.000000, -284.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(960.000000, 282.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M7.5,2.5 L7.5,10 L7.5125,10 L7.5,10.0125 L12.5,15 L7.5,20 L7.5125,20.0125 L7.5,20.0125 L7.5,27.5 L22.5,27.5 L22.5,20.0125 L22.4875,20.0125 L22.5,20 L17.5,15 L22.5,10.0125 L22.4875,10 L22.5,10 L22.5,2.5 L7.5,2.5 Z M20,20.625 L20,25 L10,25 L10,20.625 L15,15.625 L20,20.625 Z M15,14.375 L10,9.375 L10,5 L20,5 L20,9.375 L15,14.375 Z\"\n  })))));\n});\n\nvar HourglassIcon = function HourglassIcon(props) {\n  return createElement(Icon, props, createElement(Hourglass, null));\n};\n\nvar Maximize = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    fill: \"none\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\"\n  }, props), React__default.createElement(\"path\", {\n    d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"\n  }));\n});\n\nvar MaximizeIcon = function MaximizeIcon(props) {\n  return createElement(Icon, props, createElement(Maximize, null));\n};\n\nvar MenuVertical = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    height: \"4px\",\n    viewBox: \"0 0 16 4\",\n    width: \"16px\"\n  }, props), React__default.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\"\n  }, React__default.createElement(\"g\", {\n    fill: \"#000000\"\n  }, React__default.createElement(\"path\", {\n    d: \"M2,0 C0.9,0 0,0.9 0,2 C0,3.1 0.9,4 2,4 C3.1,4 4,3.1 4,2 C4,0.9 3.1,0 2,0 Z M14,0 C12.9,0 12,0.9 12,2 C12,3.1 12.9,4 14,4 C15.1,4 16,3.1 16,2 C16,0.9 15.1,0 14,0 Z M8,0 C6.9,0 6,0.9 6,2 C6,3.1 6.9,4 8,4 C9.1,4 10,3.1 10,2 C10,0.9 9.1,0 8,0 Z\"\n  }))));\n});\n\nvar MenuVerticalIcon = function MenuVerticalIcon(props) {\n  return createElement(Icon, props, createElement(MenuVertical, null));\n};\n\nvar Minimize = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    fill: \"none\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\"\n  }, props), React__default.createElement(\"path\", {\n    d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n  }));\n});\n\nvar MinimizeIcon = function MinimizeIcon(props) {\n  return createElement(Icon, props, createElement(Minimize, null));\n};\n\nvar Mute = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-854.000000, -325.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(830.000000, 207.000000)\"\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"g\", {\n    transform: \"translate(22.000000, 116.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M13.75,10 C13.75,8.525 12.9,7.25833333 11.6666667,6.64166667 L11.6666667,8.48333333 L13.7083333,10.525 C13.7333333,10.3583333 13.75,10.1833333 13.75,10 Z M15.8333333,10 C15.8333333,10.7833333 15.6666667,11.5166667 15.3833333,12.2 L16.6416667,13.4583333 C17.1916667,12.425 17.5,11.25 17.5,10 C17.5,6.43333333 15.0083333,3.45 11.6666667,2.69166667 L11.6666667,4.40833333 C14.075,5.125 15.8333333,7.35833333 15.8333333,10 Z M3.55833333,2.5 L2.5,3.55833333 L6.44166667,7.5 L2.5,7.5 L2.5,12.5 L5.83333333,12.5 L10,16.6666667 L10,11.0583333 L13.5416667,14.6 C12.9833333,15.0333333 12.3583333,15.375 11.6666667,15.5833333 L11.6666667,17.3 C12.8166667,17.0416667 13.8583333,16.5083333 14.7416667,15.7916667 L16.4416667,17.5 L17.5,16.4416667 L10,8.94166667 L3.55833333,2.5 Z M10,3.33333333 L8.25833333,5.075 L10,6.81666667 L10,3.33333333 Z\"\n  })))))));\n});\n\nvar MuteIcon = function MuteIcon(props) {\n  return createElement(Icon, props, createElement(Mute, null));\n};\n\nvar Unmute = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-854.000000, -325.000000)\",\n    fill: \"#FFFFFF\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(830.000000, 207.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M24.5,123.5 L24.5,128.5 L27.8333333,128.5 L32,132.666667 L32,119.333333 L27.8333333,123.5 L24.5,123.5 Z M35.75,126 C35.75,124.525 34.9,123.258333 33.6666667,122.641667 L33.6666667,129.35 C34.9,128.741667 35.75,127.475 35.75,126 Z M33.6666667,118.691667 L33.6666667,120.408333 C36.075,121.125 37.8333333,123.358333 37.8333333,126 C37.8333333,128.641667 36.075,130.875 33.6666667,131.591667 L33.6666667,133.308333 C37.0083333,132.55 39.5,129.566667 39.5,126 C39.5,122.433333 37.0083333,119.45 33.6666667,118.691667 Z\"\n  })))));\n});\n\nvar UnmuteIcon = function UnmuteIcon(props) {\n  return createElement(Icon, props, createElement(Unmute, null));\n};\n\nvar RadioOff = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-861.000000, -656.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(861.000000, 656.000000)\"\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"circle\", {\n    stroke: \"#BCC6D0\",\n    strokeWidth: \"1\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"7.5\",\n    style: {\n      fill: 'none'\n    }\n  }))))));\n});\n\nvar RadioOffIcon = function RadioOffIcon(props) {\n  return createElement(Icon, props, createElement(RadioOff, null));\n};\n\nvar RadioOn = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    version: \"1.1\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-861.000000, -626.000000)\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(861.000000, 626.000000)\"\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"circle\", {\n    stroke: \"#4384F5\",\n    strokeWidth: \"1\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"7.5\",\n    style: {\n      fill: 'none'\n    }\n  })), React__default.createElement(\"circle\", {\n    fill: \"#4384F5\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"3\"\n  })))));\n});\n\nvar RadioOnIcon = function RadioOnIcon(props) {\n  return createElement(Icon, props, createElement(RadioOn, null));\n};\n\nvar RateBad = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"14px\",\n    height: \"19px\",\n    viewBox: \"0 0 14 19\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-1092.000000, -247.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(832.000000, 237.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M262.011431,10.0079649 C264.301872,10.0254688 266.149331,11.871012 266.149331,14.141574 L266.149331,15.006151 C266.149331,15.7362453 266.746389,16.3281036 267.482897,16.3281036 L270.483677,16.3281036 C270.679987,16.3281036 270.875953,16.3444026 271.069519,16.3768295 C272.984075,16.6975635 274.27384,18.4961084 273.950288,20.3939919 L273.161331,25.0218442 C272.786728,27.2191809 270.866945,28.8276198 268.618875,28.8276198 L265.455497,28.8276198 C262.442509,28.8276198 260,26.406381 260,23.4196316 L260,12.0040832 C260,10.9016253 260.893719,10.0079066 261.996177,10.0079066 C262.001262,10.0079066 262.006347,10.007926 262.011431,10.0079649 Z M268.206897,24.4827922 L272.086361,24.4827922 L272.086361,25.4442124 L269.168317,25.4442124 C268.637339,25.4442124 268.206897,25.0137699 268.206897,24.4827922 Z M268.206897,22.0689991 L273.056228,22.0689991 L273.056228,23.0304193 L269.168317,23.0304193 C268.637339,23.0304193 268.206897,22.5999768 268.206897,22.0689991 Z M268.206897,19.655206 L273.541161,19.655206 L273.541161,20.6166262 L269.168317,20.6166262 C268.637339,20.6166262 268.206897,20.1861837 268.206897,19.655206 Z M261.939732,23.4196316 C261.939732,25.3444256 263.513794,26.9047795 265.455497,26.9047795 L268.618875,26.9047795 C269.920389,26.9047795 271.031842,25.9735781 271.248717,24.7014358 L272.037675,20.0735835 C272.182715,19.2228081 271.604545,18.4165638 270.746296,18.2727865 C270.659525,18.2582503 270.571678,18.2509439 270.483677,18.2509439 L267.482897,18.2509439 C265.675104,18.2509439 264.209598,16.7982006 264.209598,15.006151 L264.209598,14.141574 C264.209598,12.9271831 263.221501,11.9401098 261.996478,11.930748 L261.939732,11.9303143 L261.939732,23.4196316 Z\",\n    transform: \"translate(267.000000, 19.413810) scale(-1, -1) translate(-267.000000, -19.413810) \"\n  })))));\n});\n\nvar RateBadIcon = function RateBadIcon(props) {\n  return createElement(Icon, props, createElement(RateBad, null));\n};\n\nvar RateGood = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"14px\",\n    height: \"19px\",\n    viewBox: \"0 0 14 19\"\n  }, props), React__default.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(-1047.000000, -247.000000)\",\n    fill: \"#424D57\",\n    fillRule: \"nonzero\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(832.000000, 237.000000)\"\n  }, React__default.createElement(\"path\", {\n    d: \"M217.011431,10.0079649 C219.301872,10.0254688 221.149331,11.871012 221.149331,14.141574 L221.149331,15.006151 C221.149331,15.7362453 221.746389,16.3281036 222.482897,16.3281036 L225.483677,16.3281036 C225.679987,16.3281036 225.875953,16.3444026 226.069519,16.3768295 C227.984075,16.6975635 229.27384,18.4961084 228.950288,20.3939919 L228.161331,25.0218442 C227.786728,27.2191809 225.866945,28.8276198 223.618875,28.8276198 L220.455497,28.8276198 C217.442509,28.8276198 215,26.406381 215,23.4196316 L215,12.0040832 C215,10.9016253 215.893719,10.0079066 216.996177,10.0079066 C217.001262,10.0079066 217.006347,10.007926 217.011431,10.0079649 Z M223.206897,24.4827922 L227.086361,24.4827922 L227.086361,25.4442124 L224.168317,25.4442124 C223.637339,25.4442124 223.206897,25.0137699 223.206897,24.4827922 Z M223.206897,22.0689991 L228.056228,22.0689991 L228.056228,23.0304193 L224.168317,23.0304193 C223.637339,23.0304193 223.206897,22.5999768 223.206897,22.0689991 Z M223.206897,19.655206 L228.541161,19.655206 L228.541161,20.6166262 L224.168317,20.6166262 C223.637339,20.6166262 223.206897,20.1861837 223.206897,19.655206 Z M216.939732,23.4196316 C216.939732,25.3444256 218.513794,26.9047795 220.455497,26.9047795 L223.618875,26.9047795 C224.920389,26.9047795 226.031842,25.9735781 226.248717,24.7014358 L227.037675,20.0735835 C227.182715,19.2228081 226.604545,18.4165638 225.746296,18.2727865 C225.659525,18.2582503 225.571678,18.2509439 225.483677,18.2509439 L222.482897,18.2509439 C220.675104,18.2509439 219.209598,16.7982006 219.209598,15.006151 L219.209598,14.141574 C219.209598,12.9271831 218.221501,11.9401098 216.996478,11.930748 L216.939732,11.9303143 L216.939732,23.4196316 Z\"\n  })))));\n});\n\nvar RateGoodIcon = function RateGoodIcon(props) {\n  return createElement(Icon, props, createElement(RateGood, null));\n};\n\nvar Send = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    height: \"18px\",\n    viewBox: \"0 0 21 18\",\n    width: \"21px\"\n  }, props), React__default.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\"\n  }, React__default.createElement(\"g\", {\n    fill: \"#000000\"\n  }, React__default.createElement(\"polygon\", {\n    points: \"0.01 18 21 9 0.01 0 0 7 15 9 0 11\"\n  }))));\n});\n\nvar SendIcon = function SendIcon(props) {\n  return createElement(Icon, props, createElement(Send, null));\n};\n\nvar Search = (function (_ref) {\n  var _ref$styles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"styles\"]);\n\n  return React__default.createElement(\"svg\", _extends({\n    width: \"28px\",\n    height: \"28px\",\n    viewBox: \"0 0 512 512\"\n  }, props), React__default.createElement(\"path\", {\n    d: \"M508.5 481.6l-129-129c-2.3-2.3-5.3-3.5-8.5-3.5h-10.3C395 312 416 262.5 416 208 416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c54.5 0 104-21 141.1-55.2V371c0 3.2 1.3 6.2 3.5 8.5l129 129c4.7 4.7 12.3 4.7 17 0l9.9-9.9c4.7-4.7 4.7-12.3 0-17zM208 384c-97.3 0-176-78.7-176-176S110.7 32 208 32s176 78.7 176 176-78.7 176-176 176z\"\n  }));\n});\n\nvar SearchIcon = function SearchIcon(props) {\n  return createElement(Icon, props, createElement(Search, null));\n};\n\nvar notRenderedStyle =\n/*#__PURE__*/\ncss(\"display:none;\");\n\nvar Image = function Image(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      imgProps = _objectWithoutPropertiesLoose(_ref, [\"children\", \"className\"]);\n\n  var _React$useState = useState('pending'),\n      imageStatus = _React$useState[0],\n      setImageStatus = _React$useState[1];\n\n  return createElement(Fragment, null, createElement(\"img\", _extends({}, imgProps, {\n    onLoad: function onLoad() {\n      return setImageStatus('loaded');\n    },\n    onError: function onError() {\n      return setImageStatus('failed');\n    },\n    className: cx(className, imageStatus !== 'loaded' && notRenderedStyle)\n  })), children && children({\n    imageStatus: imageStatus\n  }));\n};\n\nImage.propTypes = {\n  children: func\n};\n\nvar mapPropsToStyles$3 = function mapPropsToStyles(props) {\n  var propsStyle = {};\n  var imageStyle = {};\n  var size = props.size,\n      radius = props.radius,\n      fontSize = props.fontSize;\n\n  if (size) {\n    propsStyle.width = size;\n    propsStyle.height = size;\n    propsStyle.lineHeight = size;\n  }\n\n  if (radius) {\n    propsStyle.borderRadius = radius;\n    imageStyle.borderRadius = radius;\n  }\n\n  if (fontSize) {\n    propsStyle.fontSize = fontSize;\n  }\n\n  return _extends({}, propsStyle, {\n    '& img': imageStyle\n  });\n};\n\nvar embeddedImageStyle =\n/*#__PURE__*/\ncss(\"display:block;border-radius:inherit;width:100%;height:100%;object-fit:cover;\");\nvar StyledAvatar =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'Avatar',\n  mapPropsToStyles: mapPropsToStyles$3,\n  target: \"e11ezd0e0\"\n})(\"border:1px solid #fff;border-radius:50%;text-align:center;background-color:#fff;text-transform:uppercase;overflow:hidden;\");\n\nvar Avatar = function Avatar(props) {\n  var imgUrl = props.imgUrl,\n      letter = props.letter;\n  var child = null;\n\n  if (imgUrl) {\n    child = createElement(Image, {\n      src: imgUrl,\n      className: embeddedImageStyle,\n      alt: 'avatar'\n    }, function (_ref) {\n      var imageStatus = _ref.imageStatus;\n      return imageStatus === 'failed' && createElement(PersonIcon, {\n        className: embeddedImageStyle\n      });\n    });\n  } else if (letter) {\n    child = createElement(\"span\", null, letter);\n  } else if (process.env.NODE_ENV === 'development') {\n    console.warn('Avatar component expects one of imgUrl or letter props.');\n  }\n\n  return createElement(StyledAvatar, props, child);\n};\n\nAvatar.propTypes = {\n  /** URL of the image */\n  imgUrl: string,\n\n  /** Letter to be used instead of the image (when imgUrl is not provided) */\n  letter: string,\n\n  /** Avatar size (width and height) */\n  size: string,\n\n  /** Override component's styles */\n  style: shape()\n};\n\nvar forwardBorderRadiuses =\n/*#__PURE__*/\ncss(\"& >:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit;border-bottom-right-radius:0;border-bottom-left-radius:0;}& >:last-child{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:inherit;border-bottom-left-radius:inherit;}& >:first-child:last-child{border-top-left-radius:inherit;border-top-right-radius:inherit;border-bottom-right-radius:inherit;border-bottom-left-radius:inherit;}\");\n\nvar displayName = 'Bubble';\n\nvar flipBorderRadiusesHorizontally = function flipBorderRadiusesHorizontally(_ref) {\n  var borderTopLeftRadius = _ref.borderTopLeftRadius,\n      borderTopRightRadius = _ref.borderTopRightRadius,\n      borderBottomRightRadius = _ref.borderBottomRightRadius,\n      borderBottomLeftRadius = _ref.borderBottomLeftRadius;\n  return {\n    borderTopLeftRadius: borderTopRightRadius,\n    borderTopRightRadius: borderTopLeftRadius,\n    borderBottomRightRadius: borderBottomLeftRadius,\n    borderBottomLeftRadius: borderBottomRightRadius\n  };\n};\n\nvar mapPropsToStyles$4 = function mapPropsToStyles(props) {\n  var isOwn = props.isOwn,\n      ovalBorderRadius = props.ovalBorderRadius,\n      sharpBorderRadius = props.sharpBorderRadius,\n      radiusType = props.radiusType;\n  var borderRadiuses = {\n    borderTopLeftRadius: radiusType === 'single' || radiusType === 'first' ? ovalBorderRadius : sharpBorderRadius,\n    borderTopRightRadius: ovalBorderRadius,\n    borderBottomRightRadius: ovalBorderRadius,\n    borderBottomLeftRadius: radiusType === 'single' || radiusType === 'last' ? ovalBorderRadius : sharpBorderRadius\n  }; // TODO maybe this could be reversed somehow in theme?\n  // return isOwn ? flipBorderRadiusesHorizontally(borderRadiuses) : borderRadiuses\n\n  return isOwn ? flipBorderRadiusesHorizontally(borderRadiuses) : borderRadiuses;\n};\n\nvar StyledBubble =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: displayName,\n  mapPropsToStyles: mapPropsToStyles$4,\n  target: \"emwkn670\"\n})(forwardBorderRadiuses, \";border:1px solid rgba(0,0,0,0.05);display:inline-block;max-width:100%;margin-bottom:0.1em;& img{max-width:100%;display:block;}\");\nStyledBubble.propTypes = {\n  /** Test of the message */\n  children: node,\n\n  /** Message auhor - me (right side) or their (left side) */\n  isOwn: bool,\n\n  /** Specifies rendering type, it's used for appropriate corners' rounding */\n  radiusType: oneOf(['single', 'first', 'last'])\n};\n\nvar StyledColumn =\n/*#__PURE__*/\nstyled$1('div', {\n  target: \"ek650k30\"\n})(\"display:flex;flex-direction:column;min-width:0;\");\n\nvar mapPropsToStyles$5 = function mapPropsToStyles(props) {\n  return {\n    flexShrink: props.shrink ? 1 : 0\n  };\n};\n\nvar StyledFill =\n/*#__PURE__*/\nstyled$1('div', {\n  mapPropsToStyles: mapPropsToStyles$5,\n  target: \"e1jdwequ0\"\n})();\n\nvar Fill = function Fill(props) {\n  return createElement(StyledFill, _extends({\n    flexFill: true\n  }, props));\n};\n\nFill.defaultProps = {\n  shrink: true\n};\nFill.propTypes = {\n  shrink: bool\n};\n\nvar mapPropsToStyles$6 = function mapPropsToStyles(props) {\n  return {\n    flexShrink: props.shrink ? 1 : 0\n  };\n};\n\nvar StyledFit =\n/*#__PURE__*/\nstyled$1('div', {\n  mapPropsToStyles: mapPropsToStyles$6,\n  target: \"e1yi1p4d0\"\n})();\n\nvar Fit = function Fit(props) {\n  return createElement(StyledFit, _extends({\n    flexFit: true\n  }, props));\n};\n\nFit.defaultProps = {\n  shrink: true\n};\nFit.propTypes = {\n  shrink: bool\n};\n\nvar StyledButton =\n/*#__PURE__*/\nstyled$1('button', {\n  displayName: 'IconButton',\n  section: true,\n  target: \"e1m5b1js0\"\n})(\"appearance:none;background:transparent;border:0;display:inline-block;margin:0;padding:0.5em;color:inherit;&:hover{cursor:\", function (props) {\n  return props.disabled ? 'default' : 'pointer';\n}, \";}&:active,&:focus{outline:none;}\");\nStyledButton.propTypes = {\n  active: bool,\n  disabled: bool,\n  children: node.isRequired,\n  color: string,\n  onClick: func\n};\n\nvar _React$createContext = createContext({\n  isScrollOnBottom: noop,\n  isScrollOnTop: noop,\n  registerUnseenListItem: noop,\n  scrollToBottom: noop,\n  scrollToTop: noop\n}),\n    MessageListProvider = _React$createContext.Provider,\n    MessageListSpy = _React$createContext.Consumer;\n\nvar autoInc = function autoInc(start) {\n  if (start === void 0) {\n    start = 0;\n  }\n\n  var counter = start;\n  return function () {\n    return counter++;\n  };\n};\n\nvar nextId = autoInc();\nvar StyledList$1 =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'MessageList',\n  target: \"e1i3n9g60\"\n})(\"padding:0.5em;overflow-y:auto;height:100%;\");\n\nvar MessageList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(MessageList, _React$Component);\n\n  function MessageList() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this._listItems = [];\n\n    _this._registerUnseenListItem = function (listItemDescription) {\n      var id = nextId();\n\n      _this._listItems.push(_extends({}, listItemDescription, {\n        id: id\n      }));\n\n      return _this._unregisterUnseenListItem.bind(_assertThisInitialized(_this), id);\n    };\n\n    _this._unregisterUnseenListItem = function (id) {\n      var index = findIndex(function (_ref) {\n        var itemId = _ref.id;\n        return itemId === id;\n      }, _this._listItems);\n\n      if (index === -1) {\n        return;\n      }\n\n      _this._listItems.splice(index, 1);\n    };\n\n    _this._getListRef = function (ref) {\n      _this.listRef = ref;\n\n      _this.props.innerRef(ref);\n    };\n\n    _this._handleScroll = throttle(300, function (event) {\n      if (_this.props.active) {\n        _this.callSeenCallbacks();\n      }\n\n      _this.props.onScroll(event);\n    });\n    _this._context = {\n      isScrollOnBottom: _this.props.isScrollOnBottom,\n      isScrollOnTop: _this.props.isScrollOnTop,\n      registerUnseenListItem: _this._registerUnseenListItem,\n      scrollToBottom: _this.props.scrollToBottom,\n      scrollToTop: _this.props.scrollToTop\n    };\n    return _this;\n  }\n\n  var _proto = MessageList.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.active === true) {\n      this.callSeenCallbacks();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (prevProps.active === false && this.props.active === true) {\n      this.callSeenCallbacks();\n    }\n  };\n\n  _proto.callSeenCallbacks = function callSeenCallbacks() {\n    var _this2 = this;\n\n    this._listItems.forEach(function (listItem) {\n      if (!isAboveFold(_this2.listRef, listItem.ref)) {\n        return;\n      }\n\n      listItem.onSeen();\n    });\n  };\n\n  _proto.render = function render() {\n    return createElement(MessageListProvider, {\n      value: this._context\n    }, createElement(StyledList$1, _extends({}, this.props, {\n      innerRef: this._getListRef,\n      onScroll: this._handleScroll\n    })));\n  };\n\n  return MessageList;\n}(Component);\n\nMessageList.propTypes = {\n  /** This prop tell us if we should call onSeen callbacks from contained MessageListItems when scrolling */\n  active: bool,\n\n  /** Children of the list */\n  children: node.isRequired,\n\n  /** Prop used as function ref to the underlaying DOM element */\n  innerRef: func,\n\n  /** Callback hooked into list's scroll event */\n  onScroll: func\n};\nMessageList.defaultProps = {\n  active: true,\n  innerRef: noop,\n  onScroll: noop\n};\nvar MessageList$1 = withPinnedScroll()(MessageList);\n\nvar MessageListItem =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(MessageListItem, _React$Component);\n\n  function MessageListItem() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this._unregisterFromMessageList = noop;\n    _this._registerInMessageList = memoizeOne(function (register) {\n      return function (ref) {\n        // this only handles null ref (when it stops to listen to onSeen - when this.props.seen transition from true to false)\n        _this._unregisterFromMessageList();\n\n        if (!ref) {\n          return;\n        }\n\n        _this._unregisterFromMessageList = register({\n          ref: ref,\n          onSeen: _this.props.onSeen\n        });\n      };\n    });\n    return _this;\n  }\n\n  var _proto = MessageListItem.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this._unregisterFromMessageList();\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return createElement(MessageListSpy, null, function (_ref) {\n      var registerUnseenListItem = _ref.registerUnseenListItem;\n      return createElement(\"div\", {\n        ref: _this2.props.seen ? null : _this2._registerInMessageList(registerUnseenListItem)\n      }, Children.only(_this2.props.children));\n    });\n  };\n\n  return MessageListItem;\n}(Component);\n\nMessageListItem.propTypes = {\n  children: node.isRequired,\n  onSeen: func\n};\nMessageListItem.defaultProps = {\n  onSeen: noop\n};\n\nvar fade =\n/*#__PURE__*/\ncss(\"&-enter{opacity:0;height:0;}&-enter&-enter-active{opacity:1;height:1.2em;transition:height 200ms ease-in-out,opacity 100ms ease-in-out 100ms;}&-exit{opacity:1;height:1.2em;}&-exit&-exit-active{opacity:0;height:0;transition:height 100ms ease-in-out 100ms,opacity 200ms ease-in-out;}\");\n\nvar Fade = function Fade(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n\n  return createElement(CSSTransition, _extends({}, props, {\n    classNames: fade,\n    timeout: 200\n  }), children);\n};\n\nFade.propTypes = {\n  children: node\n};\n\nvar mapPropsToStyles$7 = function mapPropsToStyles(_ref) {\n  var horizontalAlign = _ref.horizontalAlign;\n\n  if (!horizontalAlign) {\n    return null;\n  }\n\n  return {\n    flexDirection: horizontalAlign === 'left' ? 'row' : 'row-reverse'\n  };\n}; // TODO: check out if this element should be flex, seems it might be some leftover, need to check all browsers\n\n\nvar StyledMessage =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'Message',\n  mapPropsToStyles: mapPropsToStyles$7,\n  section: true,\n  target: \"e10ccb470\"\n})(\"display:flex;align-items:flex-start;font-size:0.9em;margin:0.3em;max-width:100%;\");\nvar AuthorName =\n/*#__PURE__*/\nstyled$1('span', {\n  displayName: 'AuthorName',\n  target: \"e10ccb471\"\n})(\"font-size:0.8em;\");\nvar MessageMeta =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'MessageMeta',\n  target: \"e10ccb472\"\n})(\"text-align:left;\");\nvar Content =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'Content',\n  target: \"e10ccb473\"\n})(\"display:flex;flex-direction:column;overflow:hidden;align-items:flex-start;\");\nvar Time =\n/*#__PURE__*/\nstyled$1('span', {\n  displayName: 'Time',\n  target: \"e10ccb474\"\n})(\"font-size:0.8em;\");\nvar Status =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'Status',\n  target: \"e10ccb475\"\n})(\"text-align:right;font-size:0.8em;\");\n\nvar Message =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Message, _React$Component);\n\n  function Message() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Message.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        authorName = _this$props.authorName,\n        deliveryStatus = _this$props.deliveryStatus,\n        isOwn = _this$props.isOwn,\n        date = _this$props.date,\n        showMetaOnClick = _this$props.showMetaOnClick,\n        onSeen = _this$props.onSeen,\n        radiusType = _this$props.radiusType,\n        seen = _this$props.seen,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"authorName\", \"deliveryStatus\", \"isOwn\", \"date\", \"showMetaOnClick\", \"onSeen\", \"radiusType\", \"seen\"]);\n\n    var message = createElement(Toggle, null, function (_ref2) {\n      var authorOpened = _ref2.on,\n          getElementTogglerProps = _ref2.getElementTogglerProps;\n      return createElement(StyledMessage, _extends({}, getElementTogglerProps(props), {\n        own: isOwn,\n        tabIndex: null\n      }), createElement(Content, null, createElement(TransitionGroup, null, (!showMetaOnClick || authorOpened) && createElement(Fade, null, createElement(MessageMeta, null, authorName && createElement(AuthorName, null, authorName, \" \"), date && createElement(Time, null, date)))), children, deliveryStatus && createElement(Status, null, deliveryStatus)));\n    });\n    return createElement(MessageListItem, {\n      onSeen: onSeen,\n      seen: seen\n    }, message);\n  };\n\n  return Message;\n}(Component);\n\nMessage.propTypes = {\n  /** Message author's name */\n  authorName: string,\n  authorOpened: bool,\n\n  /** Message children components */\n  children: node,\n\n  /** Message date */\n  date: string,\n  deliveryStatus: string,\n\n  /** Message author - agent (left side) or visitor (right side) */\n  isOwn: bool,\n  onClick: func,\n\n  /** Callback called when the user scrolls the list to the message. Message must be wrapped by MessageList component. */\n  onSeen: func,\n  showMetaOnClick: bool,\n\n  /** Override component's styles */\n  style: shape(),\n  toggleAuthor: func,\n\n  /** Specifies rendering type, it's used for appropriate corners' rounding */\n  radiusType: oneOf(['single', 'first', 'last']),\n  seen: bool\n};\nMessage.defaultProps = {\n  onClick: function onClick() {},\n  seen: false\n};\n\nvar SubTitle =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'SubTitle',\n  target: \"e1fut3qs0\"\n})(\"font-weight:300;opacity:0.7;\");\nSubTitle.defaultProps = {\n  textWrap: true\n};\n\nvar Title =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'Title',\n  target: \"e9xf8br0\"\n})(\"font-weight:500;\");\nTitle.defaultProps = {\n  textWrap: true\n};\n\nvar warnOnce = once(console.warn.bind(console));\nvar StyledTitle =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'MessageTitle',\n  target: \"e1ykjxgu0\"\n})(\"font-weight:600;padding:1em;\");\nvar marginBottomClass =\n/*#__PURE__*/\ncss(\"margin-bottom:4px;\");\n\nvar MessageTitle = function MessageTitle(_ref) {\n  var children = _ref.children,\n      title = _ref.title,\n      subtitle = _ref.subtitle,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"title\", \"subtitle\"]);\n\n  if (process.env.NODE_ENV !== 'production' && children && (title || subtitle)) {\n    // eslint-disable-next-line no-console\n    warnOnce(['You should not use title nor subtitle & children props together.', 'They cannot be rendered at once - children prop has higher rendering priority.'].join('\\n'));\n  }\n\n  var childs = children ? children : [title && createElement(Title, {\n    key: \"title\",\n    className: marginBottomClass\n  }, title), subtitle && createElement(SubTitle, {\n    key: \"subtitle\",\n    preserveLines: true\n  }, subtitle)];\n  return createElement(StyledTitle, props, childs);\n};\n\nMessageTitle.propTypes = {\n  children: oneOfType([arrayOf(node), node]),\n  subtitle: string,\n  title: string\n};\n\nvar StyledText =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'MessageText',\n  target: \"eovu8nx0\"\n})(\"white-space:pre-line;word-wrap:break-word;overflow-wrap:break-word;max-width:100%;padding:1em;\");\n\nvar mapPropsToStyles$8 = function mapPropsToStyles(props) {\n  var _ref = props.style || {},\n      borderTopLeftRadius = _ref.borderTopLeftRadius,\n      borderTopRightRadius = _ref.borderTopRightRadius,\n      borderBottomRightRadius = _ref.borderBottomRightRadius,\n      borderBottomLeftRadius = _ref.borderBottomLeftRadius;\n\n  return {\n    img: {\n      borderTopLeftRadius: borderTopLeftRadius,\n      borderTopRightRadius: borderTopRightRadius,\n      borderBottomRightRadius: borderBottomRightRadius,\n      borderBottomLeftRadius: borderBottomLeftRadius\n    }\n  };\n};\n\nvar StyledMedia =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'MessageMedia',\n  mapPropsToStyles: mapPropsToStyles$8,\n  target: \"evmhqt80\"\n})(\"overflow:hidden;\");\n\nvar borderColor = 'rgba(0, 0, 0, 0.1)';\nvar border = \"1px solid \" + borderColor;\nvar StyledButtons =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'MessageButtons',\n  target: \"edowbh60\"\n})(forwardBorderRadiuses, \";& >:first-child{border-top:\", border, \";}&:first-child >:first-child{border-top:0;}& >:last-child{border-bottom:\", border, \";}&:last-child >:last-child{border-bottom:0;}> *{border-color:\", borderColor, \" !important;}\");\n\nvar getDarker = darken(0.2);\n\nvar mapPropsToStyles$9 = function mapPropsToStyles(props) {\n  // TODO: fix color here\n  var color = props.primary ? props.theme.vars['--primary-color'] : 'black';\n  var darkerColor = getDarker(color);\n  return {\n    borderColor: color,\n    color: color,\n    ':hover': {\n      color: darkerColor,\n      borderColor: darkerColor\n    }\n  };\n};\n\nvar StyledButton$1 =\n/*#__PURE__*/\nstyled$1(function (_ref) {\n  var href = _ref.href,\n      props = _objectWithoutPropertiesLoose(_ref, [\"href\"]);\n\n  if (!href) {\n    return createElement(\"button\", props);\n  }\n\n  return createElement(\"a\", _extends({\n    href: href,\n    rel: \"nofollow noopener\"\n  }, props));\n}, {\n  displayName: 'Button',\n  mapPropsToStyles: mapPropsToStyles$9,\n  shouldForwardProp: isPropValid,\n  target: \"e1972fzd0\"\n})(\"border-width:1px;border-style:solid;background-color:#fff;font-size:1em;font-family:inherit;text-align:center;text-decoration:none;appearance:none;padding:0.8em;transition:box-shadow 0.1s,color 0.1s,border-color 0.2s;&:hover{cursor:pointer;}&:active{box-shadow:none;outline:none;}&:focus{box-shadow:none;outline:none;}&[disabled]{pointer-events:none;}\");\n\nvar Button = function Button(_ref2) {\n  var label = _ref2.label,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"label\"]);\n\n  return createElement(StyledButton$1, props, label);\n};\n\nButton.propTypes = {\n  /** Button's label */\n  label: string\n};\n\nvar StyledButton$2 =\n/*#__PURE__*/\nstyled$1(Button, {\n  target: \"e121y1dq0\"\n})(\"display:inline-block;width:100%;border-left:0;border-right:0;border-top:0;border-bottom-color:rgba(0,0,0,0.1);box-shadow:none;transition:background-color 0.1s;background:transparent;color:\", function (props) {\n  return props.disabled ? '#8D9BA9' : 'inherit';\n}, \";margin:0;&:hover{border-bottom-color:rgba(0,0,0,0.15);background:rgba(0,0,0,0.02);color:inherit;}&:active{background:rgba(0,0,0,0.04);color:inherit;}\");\n\nvar MessageButton =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(MessageButton, _React$Component);\n\n  function MessageButton() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleClick = function (event) {\n      event.stopPropagation();\n\n      _this.props.onClick(event);\n    };\n\n    return _this;\n  }\n\n  var _proto = MessageButton.prototype;\n\n  _proto.render = function render() {\n    return createElement(StyledButton$2, _extends({}, this.props, {\n      onClick: this.handleClick\n    }));\n  };\n\n  return MessageButton;\n}(Component);\n\nMessageButton.propTypes = {\n  className: string,\n\n  /** Button's label */\n  label: string,\n  onClick: func,\n  primary: bool,\n\n  /** Button's value */\n  value: oneOfType([string, number])\n};\nMessageButton.defaultProps = {\n  onClick: noop\n};\n\nvar compactChildren = function compactChildren(children) {\n  return Children.toArray(children).filter(Boolean);\n};\nvar hasControlledProps = function hasControlledProps(controlledList, ownProps) {\n  return values(pick(controlledList, ownProps)).filter(function (prop) {\n    return prop !== undefined;\n  }).length > 0;\n};\n\nvar SINGLE = {\n  radiusType: 'single'\n};\nvar FIRST = {\n  radiusType: 'first'\n};\nvar LAST = {\n  radiusType: 'last'\n};\nvar hideMetaProps = {\n  authorName: null,\n  date: null\n};\n\nvar mapPropsToStyles$a = function mapPropsToStyles(props) {\n  if (props.isOwn) {\n    return {\n      flexDirection: 'row-reverse'\n    };\n  }\n\n  return null;\n};\n\nvar StyledGroup =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'MessageGroup',\n  mapPropsToStyles: mapPropsToStyles$a,\n  target: \"eslhdd60\"\n})(\"display:flex;margin-bottom:1em;\");\nvar AvatarWrapper =\n/*#__PURE__*/\nstyled$1('div', {\n  target: \"eslhdd61\"\n})(\"display:flex;flex-direction:column;align-items:center;text-align:center;font-size:0.7em;line-height:1.6em;\", function (props) {\n  return {\n    minWidth: props.theme.Avatar.size,\n    margin: props.isOwn ? '0 0 0 .3em' : '0 .3em 0 0'\n  };\n}, \";\");\nvar messageGropContainerStyle =\n/*#__PURE__*/\ncss(\"overflow:hidden;\");\n\nvar MessageGroup = function MessageGroup(_ref) {\n  var avatar = _ref.avatar,\n      avatarLetter = _ref.avatarLetter,\n      children = _ref.children,\n      onlyFirstWithMeta = _ref.onlyFirstWithMeta,\n      props = _objectWithoutPropertiesLoose(_ref, [\"avatar\", \"avatarLetter\", \"children\", \"onlyFirstWithMeta\"]);\n\n  var compactedChildren = compactChildren(children);\n  var childrenCount = Children.count(compactedChildren);\n  return createElement(StyledGroup, props, (avatar || avatarLetter) && createElement(AvatarWrapper, {\n    flexFit: true,\n    isOwn: props.isOwn\n  }, createElement(Avatar, {\n    imgUrl: avatar,\n    letter: avatarLetter\n  })), createElement(Fill, {\n    className: messageGropContainerStyle\n  }, Children.map(compactedChildren, function (child, index) {\n    if (childrenCount === 1) {\n      return cloneElement(child, SINGLE);\n    }\n\n    if (index === 0) {\n      return cloneElement(child, FIRST);\n    }\n\n    var hideMeta = onlyFirstWithMeta && index > 0;\n\n    if (index === childrenCount - 1) {\n      return cloneElement(child, hideMeta ? _extends({}, LAST, {}, hideMetaProps) : LAST);\n    }\n\n    return hideMeta ? cloneElement(child, hideMetaProps) : child;\n  })));\n};\n\nMessageGroup.propTypes = {\n  /** Message author's avatar URL */\n  avatar: string,\n\n  /** Message author's initials (if no URL is passed) */\n  avatarLetter: string,\n\n  /** Component's children nodes - i.e. Message components */\n  children: node,\n\n  /** Message author - agent (left side) or visitor (right side) */\n  isOwn: bool,\n  onlyFirstWithMeta: bool\n};\n\nvar darkTheme = {\n  vars: {\n    'primary-color': '#0d449b',\n    'secondary-color': '#3a3a3a',\n    'tertiary-color': 'rgba(0, 0, 0, 0.8)'\n  },\n  AgentBar: {\n    css: {\n      color: '#fff'\n    },\n    IconButton: {\n      css: {\n        background: 'rgba(0, 0, 0, 0.2)',\n        borderRadius: '50%',\n        padding: '1em',\n        margin: '.3em'\n      }\n    },\n    Icon: {\n      css: {\n        transform: 'scale(0.7)'\n      }\n    }\n  },\n  Bubble: {\n    css: {\n      color: '#fff'\n    }\n  },\n  TitleBar: {\n    css: {\n      background: '#3a3a3a',\n      borderRadius: '1.2em 1.2em 0 0',\n      padding: '.5em'\n    }\n  },\n  FixedWrapperMaximized: {\n    css: {\n      borderRadius: '1.2em',\n      overflow: 'hidden',\n      height: '660px'\n    }\n  },\n  Message: {\n    secondaryTextColor: '#fff'\n  },\n  TextComposer: {\n    css: {\n      background: '#eaeaea'\n    }\n  },\n  TextInput: {\n    css: {\n      background: '#eaeaea'\n    }\n  }\n};\n\nvar purpleTheme = {\n  vars: {\n    'primary-color': '#6D5BBA',\n    'secondary-color': '#3a3a3a',\n    'tertiary-color': 'rgba(0, 0, 0, 0.8)'\n  },\n  Avatar: {\n    size: '20px',\n    css: {\n      boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n    }\n  },\n  AgentBar: {\n    css: {\n      color: '#fff',\n      background: 'linear-gradient(to right, #6D5BBA, #8D58BF)',\n      borderRadius: '.5em',\n      marginBottom: '.7em',\n      boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n    }\n  },\n  TitleBar: {\n    css: {\n      background: 'transparent',\n      borderRadius: '.5em',\n      marginBottom: '.5em',\n      padding: '0'\n    },\n    IconButton: {\n      css: {\n        background: 'linear-gradient(to right, #6D5BBA, #8D58BF)',\n        borderRadius: '8px',\n        padding: '1em',\n        margin: '.3em',\n        boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n      }\n    }\n  },\n  MessageList: {\n    css: {\n      background: 'linear-gradient(to right, #6D5BBA, #8D58BF)',\n      marginBottom: '.7em',\n      borderRadius: '.5em',\n      boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n    }\n  },\n  TextComposer: {\n    css: {\n      borderRadius: '.5em',\n      marginBottom: '.7em',\n      boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n    }\n  },\n  Message: {\n    secondaryTextColor: '#fff',\n    own: {\n      Bubble: {\n        css: {\n          color: '#fff',\n          background: '#AA8BD2'\n        }\n      }\n    }\n  },\n  Bubble: {\n    ovalBorderRadius: '.4em',\n    sharpBorderRadius: '.4em',\n    css: {\n      color: '#5A6976',\n      background: '#fff',\n      fontSize: '14px'\n    }\n  },\n  FixedWrapperMaximized: {\n    css: {\n      width: '280px'\n    }\n  }\n};\n\nvar elegantTheme = {\n  vars: {\n    'primary-color': '#5A6976'\n  },\n  Avatar: {\n    size: '20px',\n    css: {\n      boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n    }\n  },\n  FixedWrapperMaximized: {\n    css: {\n      width: '310px',\n      borderRadius: 0,\n      boxShadow: '0 .1em 1em rgba(0, 0, 0, 0.3)'\n    }\n  },\n  AgentBar: {\n    css: {\n      color: '#000',\n      background: '#fff'\n    },\n    Avatar: {\n      css: {\n        boxShadow: 'none'\n      }\n    }\n  },\n  TitleBar: {\n    css: {\n      color: '#000',\n      background: '#fff'\n    },\n    Icon: {\n      color: '#D9A646'\n    }\n  },\n  MessageList: {\n    css: {\n      background: 'rgba(0, 0, 0, 0.8)'\n    }\n  },\n  Bubble: {\n    sharpBorderRadius: '.4em',\n    ovalBorderRadius: '.4em'\n  }\n};\n\nvar LIGHT_BLUE = '#427fe1';\nvar WHITE = '#fff';\nvar defaultTheme = {\n  vars: {\n    'primary-color': LIGHT_BLUE,\n    'secondary-color': '#fbfbfb',\n    'tertiary-color': WHITE\n  },\n  AgentBar: {\n    Avatar: {\n      size: '42px',\n      css: {\n        marginRight: '.6em'\n      }\n    },\n    css: {\n      backgroundColor: 'var(--secondary-color)'\n    }\n  },\n  Avatar: {\n    size: '30px'\n  },\n  Bubble: {\n    sharpBorderRadius: '0.3em',\n    ovalBorderRadius: '1.4em',\n    css: {\n      backgroundColor: {\n        \"default\": 'var(--secondary-color)',\n        bot: 'green'\n      }\n    }\n  },\n  Button: {},\n  ChatListItem: {\n    Avatar: {\n      css: {\n        marginRight: '.5em'\n      }\n    }\n  },\n  FixedWrapperMaximized: {\n    animationDuration: 100,\n    width: '400px',\n    height: '500px'\n  },\n  FixedWrapperMinimized: {\n    animationDuration: 100\n  },\n  FixedWrapperRoot: {\n    position: 'right',\n    css: {}\n  },\n  Message: {\n    secondaryTextColor: '#000',\n    horizontalAlign: 'left',\n    own: {\n      horizontalAlign: 'right',\n      Bubble: {\n        css: {\n          backgroundColor: 'var(--primary-color)',\n          color: WHITE\n        }\n      },\n      Content: {\n        css: {\n          alignItems: 'flex-end'\n        }\n      },\n      MessageMeta: {\n        css: {\n          textAlign: 'right'\n        }\n      },\n      Time: {\n        css: {\n          textAlign: 'right'\n        }\n      }\n    },\n    bot: {\n      Bubble: {\n        css: {\n          backgroundColor: 'green'\n        }\n      }\n    }\n  },\n  MessageButtons: {},\n  MessageGroup: {},\n  MessageList: {\n    css: {\n      backgroundColor: 'var(--tertiary-color)'\n    }\n  },\n  MessageMedia: {},\n  MessageText: {},\n  MessageTitle: {},\n  QuickReply: {\n    css: {\n      borderColor: 'var(--primary-color)',\n      backgroundColor: '#fff',\n      color: 'var(--primary-color)'\n    }\n  },\n  TextComposer: {\n    // TODO: this is a color for text, but sounds like a color for background\n    inputColor: '#000',\n    Icon: {\n      color: '#aaa'\n    },\n    IconButton: {\n      active: {\n        Icon: {\n          color: 'var(--primary-color)'\n        }\n      }\n    }\n  },\n  TitleBar: {\n    iconsColor: '#fff',\n    behaviour: 'default',\n    css: {\n      backgroundColor: 'var(--primary-color)'\n    }\n  }\n};\n\nvar parseTheme = function parseTheme(theme) {\n  var componentKeys = pickComponentKeys(theme);\n\n  if (Object.keys(componentKeys).length === 0) {\n    return _extends({}, theme, {\n      vars: mapKeys(function (key) {\n        return \"--\" + key;\n      }, theme.vars || {})\n    });\n  }\n\n  return _extends({}, theme, {}, mapValues(function (component) {\n    return _extends({}, parseTheme(component), {\n      css: component.css || {}\n    });\n  }, componentKeys), {\n    vars: mapKeys(function (key) {\n      return \"--\" + key;\n    }, theme.vars || {})\n  });\n};\n\nvar TopLevelThemeProvider = function TopLevelThemeProvider(_ref) {\n  var _ref$theme = _ref.theme,\n      theme = _ref$theme === void 0 ? {} : _ref$theme,\n      children = _ref.children;\n  var parsed = parseTheme(merge(defaultTheme, theme));\n  return createElement(ThemeProvider, {\n    value: parsed\n  }, children);\n};\n\n// TODO: hover states and such should be handled - tweak at least borderColor, and backgroundColor\n\nvar StyledReply =\n/*#__PURE__*/\nstyled$1('button', {\n  displayName: 'QuickReply',\n  target: \"e1gt5po80\"\n})(\"border-width:1px;border-style:solid;font-size:1em;line-height:1em;appearance:none;transition:box-shadow 0.1s,color 0.1s,border-color 0.2s;margin:0.25em;background-color:#fff;border-radius:1.4em;box-shadow:0 0.1em 0.1em 0 rgba(32,34,40,0.05);font-weight:400;overflow:hidden;padding:0.375em 1em 0.5em;word-break:break-word;&:hover{cursor:pointer;}&:active,&:focus{box-shadow:none;outline:none;background-color:rgba(0,0,0,0.05);}\");\n\nvar QuickReply =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(QuickReply, _React$Component);\n\n  function QuickReply() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this._handleClick = function (event) {\n      // TODO: discuss during review - button already has native value\n      // QuickReply might not need onSelect, just onClick, and one can read the value by accessing event.target.value\n      // QuickReplies OTOH needs onSelect\n      _this.props.onSelect(_this.props.value);\n\n      _this.props.onClick(event);\n    };\n\n    return _this;\n  }\n\n  var _proto = QuickReply.prototype;\n\n  _proto.render = function render() {\n    return createElement(StyledReply, _extends({}, this.props, {\n      onClick: this._handleClick\n    }));\n  };\n\n  return QuickReply;\n}(Component);\n\nQuickReply.defaultProps = {\n  onClick: noop,\n  onSelect: noop\n};\nQuickReply.propTypes = {\n  children: node.isRequired,\n  onClick: func,\n  onSelect: func,\n  value: oneOfType([string, number])\n};\n\n// eslint-disable-next-line no-console\n\nvar warnOnce$1 = once(console.warn.bind(console));\nvar StyledReplies =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'QuickReplies',\n  target: \"e1dnb9qc0\"\n})(\"display:flex;flex-wrap:wrap;text-align:center;justify-content:center;width:100%;\");\n\nvar QuickReplies =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(QuickReplies, _React$Component);\n\n  function QuickReplies() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this._handleSelect = function (value) {\n      return _this.props.onSelect(value);\n    };\n\n    return _this;\n  }\n\n  var _proto = QuickReplies.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    // eslint-disable-next-line no-unused-vars\n    var _this$props = this.props,\n        children = _this$props.children,\n        replies = _this$props.replies,\n        onSelect = _this$props.onSelect,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"replies\", \"onSelect\"]);\n\n    if (process.env.NODE_ENV !== 'production' && children && replies) {\n      // eslint-disable-next-line no-console\n      warnOnce$1(['You should not use replies & children props together.', 'They cannot be rendered at once - children prop has higher rendering priority.'].join('\\n'));\n    }\n\n    var childs = children ? compactChildren(children) : replies.map(function (reply, index) {\n      return createElement(QuickReply, {\n        key: index,\n        value: reply\n      }, reply);\n    });\n    return createElement(StyledReplies, props, Children.map(childs, function (child) {\n      return cloneElement(child, {\n        onSelect: _this2._handleSelect\n      });\n    }));\n  };\n\n  return QuickReplies;\n}(Component);\n\nQuickReplies.defaultProps = {\n  onSelect: noop\n};\nQuickReplies.propTypes = {\n  children: node,\n  onSelect: func,\n  replies: arrayOf(string)\n};\n\nvar StyledBar$1 =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'TitleBar',\n  section: true,\n  target: \"e1ohfhv0\"\n})(\"display:flex;justify-content:center;align-items:center;width:100%;border:#000;color:#fff;position:relative;z-index:2;text-align:center;padding:0.4em;\");\nvar Title$1 =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'TitleBarTitle',\n  target: \"e1ohfhv1\"\n})(\"width:100%;margin:0;margin-bottom:4px;padding:0 2px;text-align:center;font-size:0.9em;flex-grow:1;\");\n\nvar TitleBar = function TitleBar(_ref) {\n  var leftIcons = _ref.leftIcons,\n      rightIcons = _ref.rightIcons,\n      title = _ref.title,\n      props = _objectWithoutPropertiesLoose(_ref, [\"leftIcons\", \"rightIcons\", \"title\"]);\n\n  return createElement(StyledBar$1, props, leftIcons, createElement(Title$1, {\n    ellipsis: true\n  }, title), rightIcons);\n};\n\nTitleBar.propTypes = {\n  leftIcons: arrayOf(node),\n  rightIcons: arrayOf(node),\n  theme: shape(),\n  title: node\n};\n\nvar _React$createContext$1 = createContext(),\n    ComposerProvider = _React$createContext$1.Provider,\n    ComposerSpy = _React$createContext$1.Consumer;\nvar StyledComposer =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'TextComposer',\n  section: true,\n  target: \"eyij3xx0\"\n})(\"padding:0.5em;background:#fff;border-top:1px solid rgba(0,0,0,0.1);\");\n\nvar TextComposer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(TextComposer, _React$Component);\n\n  function TextComposer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      value: _this._getValue({\n        value: _this.props.defaultValue\n      })\n    };\n\n    _this._handleButtonClick = function (event) {\n      var sent = _this.maybeSend();\n\n      if (!sent) {\n        return;\n      }\n\n      _this.props.onButtonClick(event);\n    };\n\n    _this._handleChange = function (event) {\n      var value = event.target.value;\n\n      if (!_this._isControlled()) {\n        _this.setState({\n          value: value\n        });\n      }\n\n      _this.props.onValueChange(value);\n\n      _this.props.onChange(event);\n    };\n\n    _this._handleInputRef = function (ref) {\n      _this._inputRef = ref;\n\n      _this.props.inputRef(ref);\n    };\n\n    _this._handleKeyDown = function (event) {\n      var onKeyDown = _this.props.onKeyDown;\n\n      if (wasOnlyEnterPressed(event)) {\n        event.preventDefault();\n      }\n\n      if (!wasEnterPressed(event) || wasNewLineIntended(event)) {\n        onKeyDown(event);\n        return;\n      }\n\n      _this.maybeSend();\n\n      onKeyDown(event);\n    };\n\n    _this.maybeSend = function () {\n      if (!_this._canSend()) {\n        return false;\n      }\n\n      if (!_this._isControlled()) {\n        _this.setState({\n          value: ''\n        });\n      }\n\n      _this.props.onValueChange('');\n\n      _this.props.onSend(trimEnd(_this.state.value));\n\n      return true;\n    };\n\n    return _this;\n  }\n\n  var _proto = TextComposer.prototype;\n\n  _proto._getValue = function _getValue(state, props) {\n    if (state === void 0) {\n      state = this.state;\n    }\n\n    if (props === void 0) {\n      props = this.props;\n    }\n\n    return this._isControlled() ? props.value : state.value;\n  };\n\n  _proto._canSend = function _canSend() {\n    return this.props.active && this.state.value.trim() !== '';\n  };\n\n  _proto._isControlled = function _isControlled() {\n    return this.props.value === 'string';\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var value = this._getValue();\n\n    var prevValue = this._getValue(prevState, prevProps);\n\n    if (value !== prevValue && value === '') {\n      this._inputRef.focus();\n    }\n  };\n\n  _proto.render = function render() {\n    // eslint-disable-next-line no-unused-vars\n    var _this$props = this.props,\n        active = _this$props.active,\n        children = _this$props.children,\n        defaultValue = _this$props.defaultValue,\n        onButtonClick = _this$props.onButtonClick,\n        onChange = _this$props.onChange,\n        onKeyDown = _this$props.onKeyDown,\n        onSend = _this$props.onSend,\n        onValueChange = _this$props.onValueChange,\n        value = _this$props.value,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"active\", \"children\", \"defaultValue\", \"onButtonClick\", \"onChange\", \"onKeyDown\", \"onSend\", \"onValueChange\", \"value\"]);\n\n    var contextValue = {\n      active: this._canSend(),\n      inputRef: this._handleInputRef,\n      value: this._getValue(),\n      maybeSend: this.maybeSend,\n      onButtonClick: this._handleButtonClick,\n      onChange: this._handleChange,\n      onKeyDown: this._handleKeyDown\n    };\n    return createElement(ComposerProvider, {\n      value: contextValue\n    }, createElement(StyledComposer, props, children));\n  };\n\n  return TextComposer;\n}(Component);\n\nTextComposer.propTypes = {\n  active: bool,\n  children: node,\n  defaultValue: string,\n  inputRef: func,\n  onButtonClick: func,\n  onChange: func,\n  onKeyDown: func,\n  onSend: func,\n  value: string\n};\nTextComposer.defaultProps = {\n  active: true,\n  defaultValue: '',\n  inputRef: noop,\n  onButtonClick: noop,\n  onChange: noop,\n  onKeyDown: noop,\n  onSend: noop,\n  onValueChange: noop\n};\n\nvar withComposer = (function (mapComposerToProps) {\n  if (mapComposerToProps === void 0) {\n    mapComposerToProps = identity;\n  }\n\n  return function (WrappedComponent) {\n    var _class, _temp;\n\n    return _temp = _class =\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inheritsLoose(WithComposer, _React$Component);\n\n      function WithComposer() {\n        return _React$Component.apply(this, arguments) || this;\n      }\n\n      var _proto = WithComposer.prototype;\n\n      _proto.render = function render() {\n        var _this = this;\n\n        return createElement(ComposerSpy, null, function (context) {\n          return createElement(WrappedComponent, _extends({}, _this.props, mapComposerToProps(context, _this.props)));\n        });\n      };\n\n      return WithComposer;\n    }(Component), _class.displayName = \"withComposer(\" + getDisplayName(WrappedComponent) + \")\", _temp;\n  };\n});\n\nvar SendButton =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(SendButton, _React$Component);\n\n  function SendButton() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = SendButton.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        icon = _this$props.icon,\n        restProps = _objectWithoutPropertiesLoose(_this$props, [\"icon\"]);\n\n    return createElement(StyledButton, restProps, icon ? createElement(Icon, null, icon) : createElement(SendIcon, null));\n  };\n\n  return SendButton;\n}(Component); // eslint-disable-next-line no-console\n\n\nSendButton.propTypes = {\n  active: bool,\n  onClick: func\n};\nvar warnOnce$2 = once(console.warn.bind(console));\nvar SendButton$1 = withComposer(function (_ref, ownProps) {\n  var active = _ref.active,\n      onButtonClick = _ref.onButtonClick;\n\n  if (process.env.NODE_ENV === 'development') {\n    var sendButtonProps = ['active', 'onClick'];\n\n    if (hasControlledProps(sendButtonProps, ownProps)) {\n      // eslint-disable-next-line no-console\n      warnOnce$2([sendButtonProps + \" props are controlled by TextComposer,\", \"if you want to use those please pass them to the TextComposer instead of \" + getDisplayName(SendButton) + \".\"].join(' '));\n    }\n  }\n\n  return active ? {\n    active: active,\n    onClick: onButtonClick\n  } : {\n    active: active\n  };\n})(SendButton);\n\n// TODO: we should have our own styled factory and this omit should be applied for each \"global\" custom prop\n// for wrapped custom React component\n\nvar StyledInput =\n/*#__PURE__*/\nstyled$1(function (_ref) {\n  var flexFill = _ref.flexFill,\n      props = _objectWithoutPropertiesLoose(_ref, [\"flexFill\"]);\n\n  return createElement(TextareaAutosize, props);\n}, {\n  displayName: 'TextInput',\n  target: \"e1m92qam0\"\n})(\"apperance:none;border:0;resize:none;background-color:#fff;height:1.5em;line-height:1.5em;min-width 0;width:100%;font-size:1em;&:focus,&:active{outline:none;}\");\n\nvar TextInput =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(TextInput, _React$Component);\n\n  function TextInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this._getRef = function (ref) {\n      _this.props.inputRef(ref);\n\n      _this.props.innerRef(ref);\n    };\n\n    return _this;\n  }\n\n  var _proto = TextInput.prototype;\n\n  _proto.render = function render() {\n    // eslint-disable-next-line no-unused\n    var _this$props = this.props,\n        innerRef = _this$props.innerRef,\n        inputRef = _this$props.inputRef,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"innerRef\", \"inputRef\"]);\n\n    return createElement(StyledInput, _extends({}, props, {\n      inputRef: this._getRef\n    }));\n  };\n\n  return TextInput;\n}(Component); // eslint-disable-next-line no-console\n\n\nTextInput.defaultProps = {\n  innerRef: noop,\n  inputRef: noop,\n  maxRows: 3,\n  onChange: noop,\n  onKeyDown: noop,\n  placeholder: 'Write a message...'\n};\nTextInput.propTypes = {\n  defaultValue: string,\n  innerRef: func,\n  inputRef: func,\n  maxRows: number,\n  minRows: number,\n  onChange: func,\n  onHeightChange: func,\n  onKeyDown: func,\n  placeholder: string,\n  value: string\n};\nvar warnOnce$3 = once(console.warn.bind(console));\nvar TextInput$1 = withComposer(function (_ref2, ownProps) {\n  var inputRef = _ref2.inputRef,\n      onChange = _ref2.onChange,\n      onKeyDown = _ref2.onKeyDown,\n      value = _ref2.value;\n\n  if (process.env.NODE_ENV === 'development') {\n    var textInputProps = ['defaultValue', 'inputRef', 'onChange', 'onKeyDown', 'value'];\n\n    if (hasControlledProps(textInputProps, ownProps)) {\n      // eslint-disable-next-line no-console\n      warnOnce$3([textInputProps + \" props are controlled by TextComposer,\", \"if you want to use those please pass them to the TextComposer instead of \" + getDisplayName(TextInput) + \".\"].join(' '));\n    }\n  }\n\n  return {\n    inputRef: inputRef,\n    onChange: onChange,\n    onKeyDown: onKeyDown,\n    value: value\n  };\n})(TextInput);\n\nvar mapPropsToStyles$b = function mapPropsToStyles(props) {\n  var propsStyle = {};\n\n  if (props.theme) {\n    // TODO: should be done with nesting?\n    propsStyle.right = props.theme.FixedWrapperRoot.position === 'right' ? '0' : 'auto';\n    propsStyle.left = props.theme.FixedWrapperRoot.position === 'left' ? '0' : 'auto';\n  }\n\n  if (props.animationDuration) {\n    propsStyle.transition = \"all \" + props.animationDuration + \"ms ease-out\";\n  }\n\n  if (props.state) {\n    propsStyle.transform = props.state === 'entered' ? 'none' : 'scale(0.8) translate(10%, 30%)';\n    propsStyle.opacity = props.state === 'entered' ? '1' : '0';\n  }\n\n  if (props.height) {\n    propsStyle.height = props.height;\n  }\n\n  if (props.width) {\n    propsStyle.width = props.width;\n  }\n\n  return propsStyle;\n};\n\nvar StyledWrapper =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'FixedWrapperMaximized',\n  mapPropsToStyles: mapPropsToStyles$b,\n  target: \"ep7mz240\"\n})(\"display:flex;flex-direction:column;max-height:100vh;position:absolute;bottom:0;@media (max-width:490px){width:100%;height:100%;position:fixed;}\");\n\nvar FixedWrapperMaximized = function FixedWrapperMaximized(props) {\n  return createElement(Transition, {\n    \"in\": props.active,\n    mountOnEnter: true,\n    timeout: props.theme.FixedWrapperMaximized.animationDuration,\n    unmountOnExit: true\n  }, function (state) {\n    return createElement(StyledWrapper, _extends({}, props, {\n      state: state\n    }), Children.map(props.children, function (child) {\n      return cloneElement(child, {\n        minimize: props.minimize\n      });\n    }));\n  });\n};\n\nFixedWrapperMaximized.propTypes = {\n  /** Component active - shown or hidden */\n  active: bool,\n\n  /** Content of the component, will have minimize function injected */\n  children: node.isRequired,\n\n  /** Method to change component's state from shown to hiden - passed by FixedWrapper.Root */\n  minimize: func,\n\n  /** Override component's styles */\n  style: shape()\n};\nvar Maximized = withTheme(FixedWrapperMaximized);\n\nvar mapPropsToStyles$c = function mapPropsToStyles(_ref) {\n  var state = _ref.state,\n      theme = _ref.theme;\n  var propsStyles = {};\n\n  if (theme) {\n    propsStyles.transition = \"all \" + theme.FixedWrapperMaximized.animationDuration + \"ms ease-out\"; // TODO could be done with nesting?\n\n    propsStyles.right = theme.FixedWrapperRoot.position === 'right' ? '0' : 'auto';\n    propsStyles.left = theme.FixedWrapperRoot.position === 'left' ? '0' : 'auto';\n  }\n\n  if (state) {\n    propsStyles.transform = state === 'entered' ? 'none' : 'scale(0.8) translate(10%, 30%)';\n    propsStyles.opacity = state === 'entered' ? '1' : '0';\n  }\n\n  return propsStyles;\n};\n\nvar StyledWrapper$1 =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'FixedWrapperMinimized',\n  mapPropsToStyles: mapPropsToStyles$c,\n  target: \"eq1nrcm0\"\n})(\"width:60px;height:60px;position:absolute;bottom:1em;\");\n\nvar FixedWrapperMinimized = function FixedWrapperMinimized(props) {\n  return createElement(Transition, {\n    \"in\": props.active,\n    mountOnEnter: true,\n    timeout: props.theme.FixedWrapperMinimized.animationDuration,\n    unmountOnExit: true\n  }, function (state) {\n    return createElement(StyledWrapper$1, _extends({}, props, {\n      state: state\n    }), Children.map(props.children, function (child) {\n      return cloneElement(child, {\n        maximize: props.maximize\n      });\n    }));\n  });\n};\n\nFixedWrapperMinimized.propTypes = {\n  /** Component active - shown or hidden */\n  active: bool,\n\n  /** Content of the component, will have maximize function injected */\n  children: node.isRequired,\n\n  /** Method to change component's state from shown to hiden - passed by FixedWrapper.Root */\n  maximize: func,\n\n  /** Override component's styles */\n  style: shape()\n};\nvar Minimized = withTheme(FixedWrapperMinimized);\n\nvar mapPropsToStyles$d = function mapPropsToStyles(props) {\n  var propsStyles = {};\n\n  if (props.position === 'right') {\n    propsStyles.right = '1em';\n    propsStyles.left = 'auto';\n  } else if (props.position === 'left') {\n    propsStyles.right = 'auto';\n    propsStyles.left = '1em';\n  }\n\n  return propsStyles;\n};\n\nvar StyledWrapper$2 =\n/*#__PURE__*/\nstyled$1('div', {\n  displayName: 'FixedWrapperRoot',\n  mapPropsToStyles: mapPropsToStyles$d,\n  target: \"e7t7c040\"\n})(\"position:fixed;bottom:0;z-index:99;font-size:16px;\");\n\nvar FixedWrapperRoot = function FixedWrapperRoot(props) {\n  return createElement(StyledWrapper$2, props, createElement(Toggle, {\n    defaultOn: props.maximizedOnInit\n  }, function (_ref) {\n    var on = _ref.on,\n        setOff = _ref.setOff,\n        setOn = _ref.setOn;\n    return createElement(\"div\", null, Children.map(props.children, function (child) {\n      if (child.type === Maximized) {\n        return cloneElement(child, {\n          minimize: setOff,\n          active: on\n        });\n      }\n\n      if (child.type === Minimized) {\n        return cloneElement(child, {\n          maximize: setOn,\n          active: !on\n        });\n      }\n\n      return child;\n    }));\n  }));\n};\n\nFixedWrapperRoot.defaultProps = {\n  maximizedOnInit: false\n};\nFixedWrapperRoot.propTypes = {\n  /** Content of the component. FixedWrapper.Maximized and FixedWrapper.Minimized components will receive the proper state and methods */\n  children: node.isRequired,\n\n  /** Show maximized component on init */\n  maximizedOnInit: bool,\n\n  /** Override component's styles */\n  style: shape()\n};\n\n\n\nvar FixedWrapperImport = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tRoot: FixedWrapperRoot,\n\tMaximized: Maximized,\n\tMinimized: Minimized\n});\n\nvar FixedWrapper = FixedWrapperImport;\n\nvar ElementButtons =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ElementButtons, _React$Component);\n\n  function ElementButtons() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleButtonClick = function (key) {\n      return function (event) {\n        _this.props.onButtonClick(event, key);\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = ElementButtons.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        buttons = _this$props.buttons,\n        onButtonClick = _this$props.onButtonClick;\n    return createElement(StyledButtons, null, buttons.map(function (_ref, index) {\n      var text = _ref.text,\n          _key = _ref.key,\n          buttonProps = _objectWithoutPropertiesLoose(_ref, [\"text\", \"key\"]);\n\n      var key = _key !== undefined ? _key : index;\n      return createElement(MessageButton, _extends({\n        key: key,\n        label: text,\n        onClick: _this2.handleButtonClick(key)\n      }, buttonProps));\n    }));\n  };\n\n  return ElementButtons;\n}(Component);\n\nElementButtons.defaultProps = {\n  onButtonClick: noop\n};\n\nvar stopPropagation = function stopPropagation(event) {\n  return event.stopPropagation();\n}; // eslint-disable-next-line jsx-a11y/anchor-has-content\n\n\nvar Link = function Link(props) {\n  return createElement(\"a\", _extends({}, props, {\n    onClick: stopPropagation,\n    rel: \"nofollow noopener\",\n    target: \"_blank\"\n  }));\n};\n\nvar StyledImg =\n/*#__PURE__*/\nstyled$1('img', {\n  target: \"e9ztsyy0\"\n})(\"display:block;width:100%;height:150px;object-fit:cover;\");\nvar StyledImageContainer =\n/*#__PURE__*/\nstyled$1('div', {\n  target: \"e9ztsyy1\"\n})(\"width:100%;margin:0 auto;\");\n\nvar getThumbnailProps = function getThumbnailProps(url, srcset) {\n  var props = {\n    src: url\n  };\n\n  if (srcset !== undefined) {\n    props.srcSet = srcset;\n  }\n\n  return props;\n}; // eslint-disable-next-line react/no-multi-comp\n\n\nvar Image$1 = function Image(_ref) {\n  var url = _ref.url,\n      srcset = _ref.srcset,\n      props = _objectWithoutPropertiesLoose(_ref, [\"url\", \"srcset\"]);\n\n  return createElement(StyledMedia, props, createElement(StyledImageContainer, null, createElement(StyledImg, _extends({\n    alt: \"\"\n  }, getThumbnailProps(url, srcset)))));\n}; // eslint-disable-next-line react/no-multi-comp\n\n\nvar CardImage = function CardImage(_ref2) {\n  var link = _ref2.link,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"link\"]);\n\n  return link ? createElement(Link, {\n    href: link,\n    style: props.style\n  }, Image$1(props)) : Image$1(props);\n};\n\nCardImage.propTypes = {\n  link: string,\n  url: string.isRequired,\n  srcSet: string\n};\n\nvar minWidth =\n/*#__PURE__*/\ncss(\"width:230px;\");\n\nvar Card =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Card, _React$Component);\n\n  function Card() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Card.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        card = _this$props.card,\n        onButtonClick = _this$props.onButtonClick,\n        restProps = _objectWithoutPropertiesLoose(_this$props, [\"card\", \"onButtonClick\"]);\n\n    return createElement(StyledBubble, _extends({\n      className: minWidth\n    }, restProps), card.image && createElement(CardImage, card.image), (card.title || card.subtitle) && createElement(MessageTitle, {\n      subtitle: card.subtitle,\n      title: card.title\n    }), card.buttons && createElement(ElementButtons, {\n      buttons: card.buttons,\n      onButtonClick: onButtonClick\n    }));\n  };\n\n  return Card;\n}(Component);\n\nvar StyledCarouselContainer =\n/*#__PURE__*/\nstyled$1('div', {\n  target: \"epptpc30\"\n})(\"position:relative;width:100%;display:flex;\");\nvar StyledCardsContainer =\n/*#__PURE__*/\nstyled$1('div', {\n  target: \"epptpc31\"\n})(\"display:flex;width:100%;overflow-x:\", function (props) {\n  return props.mobile ? 'auto' : 'hidden';\n}, \";-webkit-overflow-scrolling:touch;align-items:flex-start;-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}\");\nvar StyledCardContainer =\n/*#__PURE__*/\nstyled$1('div', {\n  target: \"epptpc32\"\n})(\"flex-grow:0;flex-shrink:0;& + &{margin-left:0.5em;}\");\nvar ArrowButton =\n/*#__PURE__*/\nstyled$1('button', {\n  target: \"epptpc33\"\n})(\"position:absolute;width:30px;height:30px;border-radius:50%;background:#fff;border:0;box-shadow:0 4px 12px rgba(0,0,0,0.3);outline:none;text-align:center;top:32%;display:flex;align-items:center;justify-content:center;padding:0;&:hover{cursor:pointer;}svg{display:inline;}\", function (_ref) {\n  var _ref2;\n\n  var variant = _ref.variant;\n  return _ref2 = {}, _ref2[variant] = '.5em', _ref2;\n}, \";\");\n\nvar distance = function distance(max) {\n  return function (percent) {\n    return percent * max;\n  };\n};\n\nvar animateScrollX = function animateScrollX(targetX, durationMs, element) {\n  var initialX = element.scrollLeft;\n  var diffX = targetX - initialX;\n  pipe(durationProgress(durationMs), map(easeOut), map(distance(diffX)), forEach(function (x) {\n    element.scrollLeft = initialX + x;\n  }));\n};\n\nvar calculateItemsWidth = function calculateItemsWidth(_ref3) {\n  var count = _ref3.count,\n      width = _ref3.width,\n      spacing = _ref3.spacing;\n  return count * width + (count - 1) * spacing;\n};\n\nvar Carousel =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inheritsLoose(Carousel, _React$PureComponent);\n\n  function Carousel() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      showScrollLeft: false,\n      showScrollRight: false\n    };\n\n    _this.getCardContainerRef = function (ref) {\n      _this.cardContainerRef = ref;\n    };\n\n    _this.showAppropriateArrowsIfNeeded = function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          cardContainerRef = _assertThisInitialize.cardContainerRef;\n\n      _this.setState({\n        showScrollLeft: !isScrolledToLeft(cardContainerRef),\n        showScrollRight: !isScrolledToRight(cardContainerRef)\n      });\n    };\n\n    _this.handleContainerScroll = throttle(200, _this.showAppropriateArrowsIfNeeded);\n    _this.scrollToDirection = memoize(function (direction) {\n      return function (event) {\n        event.stopPropagation();\n        var _this$cardContainerRe = _this.cardContainerRef,\n            currentX = _this$cardContainerRe.scrollLeft,\n            visibleWidth = _this$cardContainerRe.offsetWidth,\n            scrollWidth = _this$cardContainerRe.scrollWidth;\n        var calculatedX = currentX + direction * visibleWidth;\n        var clampedX = direction === 1 ? Math.min(calculatedX, scrollWidth - visibleWidth) : Math.max(calculatedX, 0);\n        var targetX = calculatedX === clampedX ? _this.findXToCenterNextBatch(calculatedX, direction) : clampedX;\n        animateScrollX(targetX, 300, _this.cardContainerRef);\n      };\n    });\n    return _this;\n  }\n\n  var _proto = Carousel.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.showAppropriateArrowsIfNeeded();\n    this._observer = new ResizeObserver(debounce(200, this.showAppropriateArrowsIfNeeded));\n\n    this._observer.observe(this.cardContainerRef);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this._observer.disconnect();\n  };\n\n  _proto.findXToCenterNextBatch = function findXToCenterNextBatch(targetX, direction) {\n    var _this$cardContainerRe2 = this.cardContainerRef,\n        childNodes = _this$cardContainerRe2.childNodes,\n        visibleWidth = _this$cardContainerRe2.offsetWidth;\n    var first = childNodes[0],\n        second = childNodes[1];\n\n    var _first$getBoundingCli = first.getBoundingClientRect(),\n        right = _first$getBoundingCli.right,\n        width = _first$getBoundingCli.width;\n\n    var spacing = second.getBoundingClientRect().left - right;\n    var itemsCount = Math.abs(targetX) / (width + spacing);\n    var completeItemsCount = direction === 1 ? Math.floor(itemsCount) : Math.ceil(itemsCount);\n    var obscuredX = completeItemsCount * (width + spacing);\n    var estimatedVisibleCount = Math.floor(visibleWidth / (width + spacing));\n    var estimateItemsWidth = calculateItemsWidth({\n      count: estimatedVisibleCount,\n      width: width,\n      spacing: spacing\n    });\n    var visibleCount = estimateItemsWidth + width <= visibleWidth ? estimatedVisibleCount + 1 : estimatedVisibleCount;\n    var itemsWidth = calculateItemsWidth({\n      count: visibleCount,\n      width: width,\n      spacing: spacing\n    });\n    var finalX = obscuredX + itemsWidth / 2 - visibleWidth / 2;\n    return finalX;\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        mobile = _this$props.mobile;\n    return createElement(StyledCarouselContainer, null, createElement(StyledCardsContainer, {\n      innerRef: this.getCardContainerRef,\n      mobile: mobile,\n      onScroll: this.handleContainerScroll\n    }, Children.map(children, function (child) {\n      return createElement(StyledCardContainer, null, child);\n    })), this.state.showScrollLeft && createElement(ArrowButton, {\n      onClick: this.scrollToDirection(-1),\n      variant: \"left\"\n    }, createElement(ArrowLeftIcon, null)), this.state.showScrollRight && createElement(ArrowButton, {\n      onClick: this.scrollToDirection(1),\n      variant: \"right\"\n    }, createElement(ArrowRightIcon, null)));\n  };\n\n  return Carousel;\n}(PureComponent);\n\nCarousel.defaultProps = {\n  mobile: typeof window !== 'undefined' ? /mobile/gi.test(navigator.userAgent) : false\n};\n\nexport { AddIcon, AgentBar, ArrowLeftIcon, ArrowRightIcon, AttachIcon, Avatar, StyledBubble as Bubble, Card, Carousel, ChatIcon, ChatList, ChatListItem, CheckboxOffIcon, CheckboxOnIcon, CloseIcon, StyledColumn as Column, ComposerSpy, EmailFilledIcon, EmailIcon, EmojiIcon, ExitIcon, Fill, Fit, FixedWrapper, HourglassIcon, Icon, StyledButton as IconButton, Image, MaximizeIcon, MenuVerticalIcon, Message, MessageButton, StyledButtons as MessageButtons, MessageGroup, MessageList$1 as MessageList, MessageListItem, MessageListSpy, StyledMedia as MessageMedia, StyledText as MessageText, MessageTitle, MinimizeIcon, MuteIcon, PersonIcon, QuickReplies, QuickReply, RadioOffIcon, RadioOnIcon, RateBadIcon, RateGoodIcon, StyledRow as Row, SearchIcon, SendButton$1 as SendButton, SendIcon, SubTitle as Subtitle, TextComposer, TextInput$1 as TextInput, TopLevelThemeProvider as ThemeProvider, Title, TitleBar, UnmuteIcon, css, cx, darkTheme, defaultTheme, elegantTheme, injectGlobal, keyframes, purpleTheme, styled$1 as styled };\n"]},"metadata":{},"sourceType":"module"}